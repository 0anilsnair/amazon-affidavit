const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminDashboard-C3e_i-Nx.js","assets/AdminDashboard-B7ZLffLc.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function a0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function $b(){if(zv)return Zl;zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var jv;function Qb(){return jv||(jv=1,Sm.exports=$b()),Sm.exports}var ae=Qb(),Am={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Xb(){if(Bv)return Fe;Bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,W={};function Y(N,ee,he){this.props=N,this.context=ee,this.refs=W,this.updater=he||O}Y.prototype.isReactComponent={},Y.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},Y.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Z(){}Z.prototype=Y.prototype;function de(N,ee,he){this.props=N,this.context=ee,this.refs=W,this.updater=he||O}var se=de.prototype=new Z;se.constructor=de,U(se,Y.prototype),se.isPureReactComponent=!0;var Re=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function M(N,ee,he,le,Se,Be){return he=Be.ref,{$$typeof:r,type:N,key:ee,ref:he!==void 0?he:null,props:Be}}function b(N,ee){return M(N.type,ee,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function P(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return ee[he]})}var x=/\/+/g;function k(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):ee.toString(36)}function I(){}function qe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function et(N,ee,he,le,Se){var Be=typeof N;(Be==="undefined"||Be==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(Be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case r:case e:Ne=!0;break;case v:return Ne=N._init,et(Ne(N._payload),ee,he,le,Se)}}if(Ne)return Se=Se(N),Ne=le===""?"."+k(N,0):le,Re(Se)?(he="",Ne!=null&&(he=Ne.replace(x,"$&/")+"/"),et(Se,ee,he,"",function(Jn){return Jn})):Se!=null&&(R(Se)&&(Se=b(Se,he+(Se.key==null||N&&N.key===Se.key?"":(""+Se.key).replace(x,"$&/")+"/")+Ne)),ee.push(Se)),1;Ne=0;var Lt=le===""?".":le+":";if(Re(N))for(var pt=0;pt<N.length;pt++)le=N[pt],Be=Lt+k(le,pt),Ne+=et(le,ee,he,Be,Se);else if(pt=w(N),typeof pt=="function")for(N=pt.call(N),pt=0;!(le=N.next()).done;)le=le.value,Be=Lt+k(le,pt++),Ne+=et(le,ee,he,Be,Se);else if(Be==="object"){if(typeof N.then=="function")return et(qe(N),ee,he,le,Se);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function G(N,ee,he){if(N==null)return N;var le=[],Se=0;return et(N,le,"","",function(Be){return ee.call(he,Be,Se++)}),le}function ce(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Fe.Children={map:G,forEach:function(N,ee,he){G(N,function(){ee.apply(this,arguments)},he)},count:function(N){var ee=0;return G(N,function(){ee++}),ee},toArray:function(N){return G(N,function(ee){return ee})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Fe.Component=Y,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=de,Fe.StrictMode=a,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return me.H.useMemoCache(N)}},Fe.cache=function(N){return function(){return N.apply(null,arguments)}},Fe.cloneElement=function(N,ee,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=U({},N.props),Se=N.key,Be=void 0;if(ee!=null)for(Ne in ee.ref!==void 0&&(Be=void 0),ee.key!==void 0&&(Se=""+ee.key),ee)!H.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(le[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)le.children=he;else if(1<Ne){for(var Lt=Array(Ne),pt=0;pt<Ne;pt++)Lt[pt]=arguments[pt+2];le.children=Lt}return M(N.type,Se,void 0,void 0,Be,le)},Fe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Fe.createElement=function(N,ee,he){var le,Se={},Be=null;if(ee!=null)for(le in ee.key!==void 0&&(Be=""+ee.key),ee)H.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Se[le]=ee[le]);var Ne=arguments.length-2;if(Ne===1)Se.children=he;else if(1<Ne){for(var Lt=Array(Ne),pt=0;pt<Ne;pt++)Lt[pt]=arguments[pt+2];Se.children=Lt}if(N&&N.defaultProps)for(le in Ne=N.defaultProps,Ne)Se[le]===void 0&&(Se[le]=Ne[le]);return M(N,Be,void 0,void 0,null,Se)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(N){return{$$typeof:m,render:N}},Fe.isValidElement=R,Fe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ce}},Fe.memo=function(N,ee){return{$$typeof:g,type:N,compare:ee===void 0?null:ee}},Fe.startTransition=function(N){var ee=me.T,he={};me.T=he;try{var le=N(),Se=me.S;Se!==null&&Se(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(je,pe)}catch(Be){pe(Be)}finally{me.T=ee}},Fe.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Fe.use=function(N){return me.H.use(N)},Fe.useActionState=function(N,ee,he){return me.H.useActionState(N,ee,he)},Fe.useCallback=function(N,ee){return me.H.useCallback(N,ee)},Fe.useContext=function(N){return me.H.useContext(N)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(N,ee){return me.H.useDeferredValue(N,ee)},Fe.useEffect=function(N,ee,he){var le=me.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(N,ee)},Fe.useId=function(){return me.H.useId()},Fe.useImperativeHandle=function(N,ee,he){return me.H.useImperativeHandle(N,ee,he)},Fe.useInsertionEffect=function(N,ee){return me.H.useInsertionEffect(N,ee)},Fe.useLayoutEffect=function(N,ee){return me.H.useLayoutEffect(N,ee)},Fe.useMemo=function(N,ee){return me.H.useMemo(N,ee)},Fe.useOptimistic=function(N,ee){return me.H.useOptimistic(N,ee)},Fe.useReducer=function(N,ee,he){return me.H.useReducer(N,ee,he)},Fe.useRef=function(N){return me.H.useRef(N)},Fe.useState=function(N){return me.H.useState(N)},Fe.useSyncExternalStore=function(N,ee,he){return me.H.useSyncExternalStore(N,ee,he)},Fe.useTransition=function(){return me.H.useTransition()},Fe.version="19.1.0",Fe}var Hv;function bp(){return Hv||(Hv=1,Am.exports=Xb()),Am.exports}var Q=bp();const Wb=a0(Q);var bm={exports:{}},Jl={},Rm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Zb(){return qv||(qv=1,function(r){function e(G,ce){var pe=G.length;G.push(ce);e:for(;0<pe;){var je=pe-1>>>1,N=G[je];if(0<o(N,ce))G[je]=ce,G[pe]=N,pe=je;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ce=G[0],pe=G.pop();if(pe!==ce){G[0]=pe;e:for(var je=0,N=G.length,ee=N>>>1;je<ee;){var he=2*(je+1)-1,le=G[he],Se=he+1,Be=G[Se];if(0>o(le,pe))Se<N&&0>o(Be,le)?(G[je]=Be,G[Se]=pe,je=Se):(G[je]=le,G[he]=pe,je=he);else if(Se<N&&0>o(Be,pe))G[je]=Be,G[Se]=pe,je=Se;else break e}}return ce}function o(G,ce){var pe=G.sortIndex-ce.sortIndex;return pe!==0?pe:G.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,S=null,w=3,O=!1,U=!1,W=!1,Y=!1,Z=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(G){for(var ce=n(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=G)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function me(G){if(W=!1,Re(G),!U)if(n(p)!==null)U=!0,H||(H=!0,k());else{var ce=n(g);ce!==null&&et(me,ce.startTime-G)}}var H=!1,M=-1,b=5,R=-1;function P(){return Y?!0:!(r.unstable_now()-R<b)}function x(){if(Y=!1,H){var G=r.unstable_now();R=G;var ce=!0;try{e:{U=!1,W&&(W=!1,de(M),M=-1),O=!0;var pe=w;try{t:{for(Re(G),S=n(p);S!==null&&!(S.expirationTime>G&&P());){var je=S.callback;if(typeof je=="function"){S.callback=null,w=S.priorityLevel;var N=je(S.expirationTime<=G);if(G=r.unstable_now(),typeof N=="function"){S.callback=N,Re(G),ce=!0;break t}S===n(p)&&a(p),Re(G)}else a(p);S=n(p)}if(S!==null)ce=!0;else{var ee=n(g);ee!==null&&et(me,ee.startTime-G),ce=!1}}break e}finally{S=null,w=pe,O=!1}ce=void 0}}finally{ce?k():H=!1}}}var k;if(typeof se=="function")k=function(){se(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qe=I.port2;I.port1.onmessage=x,k=function(){qe.postMessage(null)}}else k=function(){Z(x,0)};function et(G,ce){M=Z(function(){G(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var pe=w;w=ce;try{return G()}finally{w=pe}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=w;w=G;try{return ce()}finally{w=pe}},r.unstable_scheduleCallback=function(G,ce,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,G){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,G={id:v++,callback:ce,priorityLevel:G,startTime:pe,expirationTime:N,sortIndex:-1},pe>je?(G.sortIndex=pe,e(g,G),n(p)===null&&G===n(g)&&(W?(de(M),M=-1):W=!0,et(me,pe-je))):(G.sortIndex=N,e(p,G),U||O||(U=!0,H||(H=!0,k()))),G},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(G){var ce=w;return function(){var pe=w;w=ce;try{return G.apply(this,arguments)}finally{w=pe}}}}(Im)),Im}var Fv;function Jb(){return Fv||(Fv=1,Rm.exports=Zb()),Rm.exports}var Cm={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function eR(){if(Gv)return yn;Gv=1;var r=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},yn.flushSync=function(p){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=v,a.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):v==="script"&&a.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},yn.requestFormReset=function(p){a.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},yn.useFormStatus=function(){return h.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var Kv;function s0(){if(Kv)return Cm.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=eR(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function tR(){if(Yv)return Jl;Yv=1;var r=Jb(),e=bp(),n=s0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,l=d;break}if(T===l){E=!0,l=f,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,l=f;break}if(T===l){E=!0,l=d,s=f;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),de=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case Y:return"Profiler";case W:return"StrictMode";case me:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case se:return(t.displayName||"Context")+".Provider";case de:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var et=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ee(t){return{current:t}}function he(t){0>N||(t.current=je[N],je[N]=null,N--)}function le(t,i){N++,je[N]=t.current,t.current=i}var Se=ee(null),Be=ee(null),Ne=ee(null),Lt=ee(null);function pt(t,i){switch(le(Ne,i),le(Be,t),le(Se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dv(i),t=mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(Se),le(Se,t)}function Jn(){he(Se),he(Be),he(Ne)}function At(t){t.memoizedState!==null&&le(Lt,t);var i=Se.current,s=mv(i,t.type);i!==s&&(le(Be,t),le(Se,s))}function mn(t){Be.current===t&&(he(Se),he(Be)),Lt.current===t&&(he(Lt),Yl._currentValue=pe)}var xr=Object.prototype.hasOwnProperty,ci=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Ka=r.unstable_shouldYield,Us=r.unstable_requestPaint,Sn=r.unstable_now,el=r.unstable_getCurrentPriorityLevel,Ya=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,Er=r.unstable_LowPriority,er=r.unstable_IdlePriority,qi=r.log,Fi=r.unstable_setDisableYieldValue,ot=null,Ge=null;function pn(t){if(typeof qi=="function"&&Fi(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Ut=Math.clz32?Math.clz32:kr,zs=Math.log,tr=Math.LN2;function kr(t){return t>>>=0,t===0?32:31-(zs(t)/tr|0)|0}var Lr=256,Ur=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=zn(l):(E&=T,E!==0?f=zn(E):s||(s=T&~t,s!==0&&(f=zn(s))))):(T=l&~d,T!==0?f=zn(T):E!==0?f=zn(E):s||(s=l&~t,s!==0&&(f=zn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function $a(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function rr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Tr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ki(t,i,s,l,f,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-Ut(s),ne=1<<J;T[J]=0,C[J]=-1;var K=q[J];if(K!==null)for(q[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}s&=~ne}l!==0&&An(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function An(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ut(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function zr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Ut(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function D(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function z(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var F=Math.random().toString(36).slice(2),re="__reactFiber$"+F,ue="__reactProps$"+F,ge="__reactContainer$"+F,Ae="__reactEvents$"+F,ve="__reactListeners$"+F,Ee="__reactHandles$"+F,Ce="__reactResources$"+F,Te="__reactMarker$"+F;function we(t){delete t[re],delete t[ue],delete t[Ae],delete t[ve],delete t[Ee]}function He(t){var i=t[re];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ge]||s[re]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=_v(t);t!==null;){if(s=t[re])return s;t=_v(t)}return i}t=s,s=t.parentNode}return null}function at(t){if(t=t[re]||t[ge]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Et(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function lt(t){var i=t[Ce];return i||(i=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ue(t){t[Te]=!0}var ut=new Set,On={};function an(t,i){Xt(t,i),Xt(t+"Capture",i)}function Xt(t,i){for(On[t]=i,t=0;t<i.length;t++)ut.add(i[t])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$i={},jn={};function ir(t){return xr.call(jn,t)?!0:xr.call($i,t)?!1:bn.test(t)?jn[t]=!0:($i[t]=!0,!1)}function Bn(t,i,s){if(ir(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Rn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function ke(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var It,mi;function In(t){if(It===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",mi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+mi}var wt=!1;function wr(t,i){if(!t||wt)return"";wt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){K=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===q.length)for(l=C.length-1,f=q.length-1;1<=l&&0<=f&&C[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==q[f]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{wt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?In(s):""}function Qi(t){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return wr(t.type,!1);case 11:return wr(t.type.render,!1);case 1:return wr(t.type,!0);case 31:return In("Activity");default:return""}}function Xi(t){try{var i="";do i+=Qi(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function If(t){var i=tl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function js(t){t._valueTracker||(t._valueTracker=If(t))}function nl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=tl(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cf=/[\n"\\]/g;function zt(t){return t.replace(Cf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(t,i,s,l,f,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Cn(i)):t.value!==""+Cn(i)&&(t.value=""+Cn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Wi(t,E,Cn(i)):s!=null?Wi(t,E,Cn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Cn(T):t.removeAttribute("name")}function Xa(t,i,s,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Cn(s):"",i=i!=null?""+Cn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Wi(t,i,s){i==="number"&&Qa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function pi(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Cn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function gt(t,i,s){if(i!=null&&(i=""+Cn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Cn(s):""}function Wa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Cn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function ar(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Za.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function rl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Bu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Bu(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(t){return Nf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function sr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,_i=null;function al(t){var i=at(t);if(i&&(t=i.stateNode)){var s=t[ue]||null;e:switch(t=i.stateNode,i.type){case"input":if(Hn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[ue]||null;if(!f)throw Error(a(90));Hn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&nl(l)}break e;case"textarea":gt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&pi(t,!!s.multiple,i,!1)}}}var Br=!1;function Hu(t,i,s){if(Br)return t(i,s);Br=!0;try{var l=t(i);return l}finally{if(Br=!1,(yi!==null||_i!==null)&&(xc(),yi&&(i=yi,t=_i,_i=yi=null,al(i),t)))for(i=0;i<t.length;i++)al(t[i])}}function Ja(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ue]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Sr)try{var es={};Object.defineProperty(es,"passive",{get:function(){or=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{or=!1}var Hr=null,Zi=null,vi=null;function sl(){if(vi)return vi;var t,i=Zi,s=i.length,l,f="value"in Hr?Hr.value:Hr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===f[d-l];l++);return vi=f.slice(t,1<l?1-l:void 0)}function qr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fr(){return!0}function ol(){return!1}function Wt(t){function i(s,l,f,d,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fr:ol,this.isPropagationStopped=ol,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),i}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Wt(ht),ts=v({},ht,{view:0,detail:0}),qu=Wt(ts),qs,Fs,Gr,ns=v({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(qs=t.screenX-Gr.screenX,Fs=t.screenY-Gr.screenY):Fs=qs=0,Gr=t),qs)},movementY:function(t){return"movementY"in t?t.movementY:Fs}}),lr=Wt(ns),Fu=v({},ns,{dataTransfer:0}),Of=Wt(Fu),rs=v({},ts,{relatedTarget:0}),Gs=Wt(rs),ll=v({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Wt(ll),Gu=v({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ys=Wt(Gu),Mf=v({},ht,{data:0}),ul=Wt(Mf),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function as(){return cl}var $u=v({},ts,{key:function(t){if(t.key){var i=is[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$s=Wt($u),Qu=v({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Wt(Qu),Ei=v({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Xu=Wt(Ei),Wu=v({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Wt(Wu),Ju=v({},ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qs=Wt(Ju),Dn=v({},ht,{newState:0,oldState:0}),ec=Wt(Dn),tc=[9,13,27,32],Kr=Sr&&"CompositionEvent"in window,c=null;Sr&&"documentMode"in document&&(c=document.documentMode);var y=Sr&&"TextEvent"in window&&!c,_=Sr&&(!Kr||c&&8<c&&11>=c),A=" ",j=!1;function X(t,i){switch(t){case"keyup":return tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Ft(t,i){switch(t){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function nt(t,i){if(tt)return t==="compositionend"||!Kr&&X(t,i)?(t=sl(),vi=Zi=Hr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Zt[t.type]:i==="textarea"}function Ti(t,i,s,l){yi?_i?_i.push(l):_i=[l]:yi=l,i=Bc(i,"onChange"),0<i.length&&(s=new Hs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var sn=null,Yr=null;function fl(t){lv(t,0)}function nc(t){var i=Et(t);if(nl(i))return t}function Dg(t,i){if(t==="change")return i}var Ng=!1;if(Sr){var Pf;if(Sr){var Vf="oninput"in document;if(!Vf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Vf=typeof Og.oninput=="function"}Pf=Vf}else Pf=!1;Ng=Pf&&(!document.documentMode||9<document.documentMode)}function Mg(){sn&&(sn.detachEvent("onpropertychange",Pg),Yr=sn=null)}function Pg(t){if(t.propertyName==="value"&&nc(Yr)){var i=[];Ti(i,Yr,t,sr(t)),Hu(fl,i)}}function AA(t,i,s){t==="focusin"?(Mg(),sn=i,Yr=s,sn.attachEvent("onpropertychange",Pg)):t==="focusout"&&Mg()}function bA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(Yr)}function RA(t,i){if(t==="click")return nc(i)}function IA(t,i){if(t==="input"||t==="change")return nc(i)}function CA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var qn=typeof Object.is=="function"?Object.is:CA;function dl(t,i){if(qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!xr.call(i,f)||!qn(t[f],i[f]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,i){var s=Vg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Vg(s)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Qa(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Qa(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var DA=Sr&&"documentMode"in document&&11>=document.documentMode,Xs=null,kf=null,ml=null,Lf=!1;function Ug(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lf||Xs==null||Xs!==Qa(l)||(l=Xs,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Bc(kf,"onSelect"),0<l.length&&(i=new Hs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Xs)))}function ss(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ws={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Uf={},zg={};Sr&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function os(t){if(Uf[t])return Uf[t];if(!Ws[t])return t;var i=Ws[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in zg)return Uf[t]=i[s];return t}var jg=os("animationend"),Bg=os("animationiteration"),Hg=os("animationstart"),NA=os("transitionrun"),OA=os("transitionstart"),MA=os("transitioncancel"),qg=os("transitionend"),Fg=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function Ar(t,i){Fg.set(t,i),an(i,[t])}var Gg=new WeakMap;function ur(t,i){if(typeof t=="object"&&t!==null){var s=Gg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Xi(i)},Gg.set(t,i),i)}return{value:t,source:i,stack:Xi(i)}}var cr=[],Zs=0,jf=0;function rc(){for(var t=Zs,i=jf=Zs=0;i<t;){var s=cr[i];cr[i++]=null;var l=cr[i];cr[i++]=null;var f=cr[i];cr[i++]=null;var d=cr[i];if(cr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Kg(s,f,d)}}function ic(t,i,s,l){cr[Zs++]=t,cr[Zs++]=i,cr[Zs++]=s,cr[Zs++]=l,jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bf(t,i,s,l){return ic(t,i,s,l),ac(t)}function Js(t,i){return ic(t,null,null,i),ac(t)}function Kg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Ut(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function ac(t){if(50<zl)throw zl=0,Yd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var eo={};function PA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,i,s,l){return new PA(t,i,s,l)}function Hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,i){var s=t.alternate;return s===null?(s=Fn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Yg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,s,l,f,d){var E=0;if(l=t,typeof t=="function")Hf(t)&&(E=1);else if(typeof t=="string")E=xb(t,s,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Fn(31,s,i,f),t.elementType=R,t.lanes=d,t;case U:return ls(s.children,f,d,i);case W:E=8,f|=24;break;case Y:return t=Fn(12,s,i,f|2),t.elementType=Y,t.lanes=d,t;case me:return t=Fn(13,s,i,f),t.elementType=me,t.lanes=d,t;case H:return t=Fn(19,s,i,f),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case se:E=10;break e;case de:E=9;break e;case Re:E=11;break e;case M:E=14;break e;case b:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Fn(E,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ls(t,i,s,l){return t=Fn(7,t,l,i),t.lanes=s,t}function qf(t,i,s){return t=Fn(6,t,null,i),t.lanes=s,t}function Ff(t,i,s){return i=Fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var to=[],no=0,oc=null,lc=0,hr=[],fr=0,us=null,Si=1,Ai="";function cs(t,i){to[no++]=lc,to[no++]=oc,oc=t,lc=i}function $g(t,i,s){hr[fr++]=Si,hr[fr++]=Ai,hr[fr++]=us,us=t;var l=Si;t=Ai;var f=32-Ut(l)-1;l&=~(1<<f),s+=1;var d=32-Ut(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Si=1<<32-Ut(i)+f|s<<f|l,Ai=d+t}else Si=1<<d|s<<f|l,Ai=t}function Gf(t){t.return!==null&&(cs(t,1),$g(t,1,0))}function Kf(t){for(;t===oc;)oc=to[--no],to[no]=null,lc=to[--no],to[no]=null;for(;t===us;)us=hr[--fr],hr[fr]=null,Ai=hr[--fr],hr[fr]=null,Si=hr[--fr],hr[fr]=null}var Nn=null,Ot=null,ct=!1,hs=null,$r=!1,Yf=Error(a(519));function fs(t){var i=Error(a(418,""));throw yl(ur(i,t)),Yf}function Qg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[re]=t,i[ue]=l,s){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(s=0;s<Bl.length;s++)Xe(Bl[s],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),Xa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),js(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),Wa(i,l.value,l.defaultValue,l.children),js(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||fv(i.textContent,s)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=Hc),i=!0):i=!1,i||fs(t)}function Xg(t){for(Nn=t.return;Nn;)switch(Nn.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:Nn=Nn.return}}function pl(t){if(t!==Nn)return!1;if(!ct)return Xg(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||um(t.type,t.memoizedProps)),s=!s),s&&Ot&&fs(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Ot=Rr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ma(t.type)?(t=dm,dm=null,Ot=t):Ot=i):Ot=Nn?Rr(t.stateNode.nextSibling):null;return!0}function gl(){Ot=Nn=null,ct=!1}function Wg(){var t=hs;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),hs=null),t}function yl(t){hs===null?hs=[t]:hs.push(t)}var $f=ee(null),ds=null,bi=null;function Ji(t,i,s){le($f,i._currentValue),i._currentValue=s}function Ri(t){t._currentValue=$f.current,he($f)}function Qf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Xf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Qf(d.return,s,t),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Qf(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function _l(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=f.type;qn(f.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(f===Lt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}f=f.return}t!==null&&Xf(i,t,s,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return Zg(ds,t)}function cc(t,i){return ds===null&&ms(t),Zg(t,i)}function Zg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},bi===null){if(t===null)throw Error(a(308));bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else bi=bi.next=i;return s}var VA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},xA=r.unstable_scheduleCallback,kA=r.unstable_NormalPriority,Kt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new VA,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&xA(kA,function(){t.controller.abort()})}var El=null,Zf=0,ro=0,io=null;function LA(t,i){if(El===null){var s=El=[];Zf=0,ro=em(),io={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Zf++,i.then(Jg,Jg),i}function Jg(){if(--Zf===0&&El!==null){io!==null&&(io.status="fulfilled");var t=El;El=null,ro=0,io=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function UA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var ey=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&LA(t,i),ey!==null&&ey(t,i)};var ps=ee(null);function Jf(){var t=ps.current;return t!==null?t:St.pooledCache}function hc(t,i){i===null?le(ps,ps.current):le(ps,i.pool)}function ty(){var t=Jf();return t===null?null:{parent:Kt._currentValue,pool:t}}var Tl=Error(a(460)),ny=Error(a(474)),fc=Error(a(542)),ed={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dc(){}function iy(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(dc,dc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t;default:if(typeof i.status=="string")i.then(dc,dc);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t}throw wl=i,Tl}}var wl=null;function ay(){if(wl===null)throw Error(a(459));var t=wl;return wl=null,t}function sy(t){if(t===Tl||t===fc)throw Error(a(483))}var ea=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ta(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function na(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ac(t),Kg(t,null,s),i}return ic(t,l,i,s),ac(t)}function Sl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,zr(t,s)}}function rd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var id=!1;function Al(){if(id){var t=io;if(t!==null)throw t}}function bl(t,i,s,l){id=!1;var f=t.updateQueue;ea=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=C))}if(d!==null){var ne=f.baseState;E=0,J=q=C=null,T=d;do{var K=T.lane&-536870913,$=K!==T.lane;if($?(rt&K)===K:(l&K)===K){K!==0&&K===ro&&(id=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=t,Oe=T;K=i;var vt=s;switch(Oe.tag){case 1:if(xe=Oe.payload,typeof xe=="function"){ne=xe.call(vt,ne,K);break e}ne=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Oe.payload,K=typeof xe=="function"?xe.call(vt,ne,K):xe,K==null)break e;ne=v({},ne,K);break e;case 2:ea=!0}}K=T.callback,K!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=$,C=ne):J=J.next=$,E|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),ca|=E,t.lanes=E,t.memoizedState=ne}}function oy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ly(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)oy(s[t],i)}var ao=ee(null),mc=ee(0);function uy(t,i){t=Pi,le(mc,t),le(ao,i),Pi=t|i.baseLanes}function ad(){le(mc,Pi),le(ao,ao.current)}function sd(){Pi=mc.current,he(ao),he(mc)}var ra=0,Ke=null,yt=null,jt=null,pc=!1,so=!1,gs=!1,gc=0,Rl=0,oo=null,zA=0;function Vt(){throw Error(a(321))}function od(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!qn(t[s],i[s]))return!1;return!0}function ld(t,i,s,l,f,d){return ra=d,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Ky:Yy,gs=!1,d=s(l,f),gs=!1,so&&(d=hy(i,s,l,f)),cy(t),d}function cy(t){G.H=wc;var i=yt!==null&&yt.next!==null;if(ra=0,jt=yt=Ke=null,pc=!1,Rl=0,oo=null,i)throw Error(a(300));t===null||Jt||(t=t.dependencies,t!==null&&uc(t)&&(Jt=!0))}function hy(t,i,s,l){Ke=t;var f=0;do{if(so&&(oo=null),Rl=0,so=!1,25<=f)throw Error(a(301));if(f+=1,jt=yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=KA,d=i(s,l)}while(so);return d}function jA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Ke.flags|=1024),i}function ud(){var t=gc!==0;return gc=0,t}function cd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function hd(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}ra=0,jt=yt=Ke=null,so=!1,Rl=gc=0,oo=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ke.memoizedState=jt=t:jt=jt.next=t,jt}function Bt(){if(yt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var i=jt===null?Ke.memoizedState:jt.next;if(i!==null)jt=i,yt=t;else{if(t===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},jt===null?Ke.memoizedState=jt=t:jt=jt.next=t}return jt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Rl;return Rl+=1,oo===null&&(oo=[]),t=iy(oo,t,i),i=Ke,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Ky:Yy),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===se)return gn(t)}throw Error(a(438,String(t)))}function dd(t){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=fd(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=P;return i.index++,s}function Ii(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=Bt();return md(i,yt,t)}function md(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=E=null,C=null,q=i,J=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(rt&ne)===ne:(ra&ne)===ne){var K=q.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===ro&&(J=!0);else if((ra&K)===K){q=q.next,K===ro&&(J=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=ne,E=d):C=C.next=ne,Ke.lanes|=K,ca|=K;ne=q.action,gs&&s(d,ne),d=q.hasEagerState?q.eagerState:s(d,ne)}else K={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=K,E=d):C=C.next=K,Ke.lanes|=ne,ca|=ne;q=q.next}while(q!==null&&q!==i);if(C===null?E=d:C.next=T,!qn(d,t.memoizedState)&&(Jt=!0,J&&(s=io,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pd(t){var i=Bt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);qn(d,i.memoizedState)||(Jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function fy(t,i,s){var l=Ke,f=Bt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!qn((yt||f).memoizedState,s);E&&(f.memoizedState=s,Jt=!0),f=f.queue;var T=py.bind(null,l,f,t);if(Cl(2048,8,T,[t]),f.getSnapshot!==i||E||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,lo(9,vc(),my.bind(null,l,f,s,i),null),St===null)throw Error(a(349));d||(ra&124)!==0||dy(l,i,s)}return s}function dy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=fd(),Ke.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function my(t,i,s,l){i.value=s,i.getSnapshot=l,gy(i)&&yy(t)}function py(t,i,s){return s(function(){gy(i)&&yy(t)})}function gy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!qn(t,s)}catch{return!0}}function yy(t){var i=Js(t,2);i!==null&&Qn(i,t,2)}function gd(t){var i=Mn();if(typeof t=="function"){var s=t;if(t=s(),gs){pn(!0);try{s()}finally{pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},i}function _y(t,i,s,l){return t.baseState=s,md(t,yt,typeof l=="function"?l:Ii)}function BA(t,i,s,l,f){if(Tc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,vy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function vy(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=G.T,E={};G.T=E;try{var T=s(f,l),C=G.S;C!==null&&C(E,T),Ey(t,i,T)}catch(q){yd(t,i,q)}finally{G.T=d}}else try{d=s(f,l),Ey(t,i,d)}catch(q){yd(t,i,q)}}function Ey(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ty(t,i,l)},function(l){return yd(t,i,l)}):Ty(t,i,s)}function Ty(t,i,s){i.status="fulfilled",i.value=s,wy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,vy(t,s)))}function yd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,wy(i),i=i.next;while(i!==l)}t.action=null}function wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function Ay(t,i){if(ct){var s=St.formState;if(s!==null){e:{var l=Ke;if(ct){if(Ot){t:{for(var f=Ot,d=$r;f.nodeType!==8;){if(!d){f=null;break t}if(f=Rr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ot=Rr(f.nextSibling),l=f.data==="F!";break e}}fs(l)}l=!1}l&&(i=s[0])}}return s=Mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},s.queue=l,s=qy.bind(null,Ke,l),l.dispatch=s,l=gd(!1),d=wd.bind(null,Ke,!1,l.queue),l=Mn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=BA.bind(null,Ke,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function by(t){var i=Bt();return Ry(i,yt,t)}function Ry(t,i,s){if(i=md(t,i,Sy)[0],t=_c(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(E){throw E===Tl?fc:E}else l=i;i=Bt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ke.flags|=2048,lo(9,vc(),HA.bind(null,f,s),null)),[l,d,t]}function HA(t,i){t.action=i}function Iy(t){var i=Bt(),s=yt;if(s!==null)return Ry(i,s,t);Bt(),i=i.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function lo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=fd(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function vc(){return{destroy:void 0,resource:void 0}}function Cy(){return Bt().memoizedState}function Ec(t,i,s,l){var f=Mn();l=l===void 0?null:l,Ke.flags|=t,f.memoizedState=lo(1|i,vc(),s,l)}function Cl(t,i,s,l){var f=Bt();l=l===void 0?null:l;var d=f.memoizedState.inst;yt!==null&&l!==null&&od(l,yt.memoizedState.deps)?f.memoizedState=lo(i,d,s,l):(Ke.flags|=t,f.memoizedState=lo(1|i,d,s,l))}function Dy(t,i){Ec(8390656,8,t,i)}function Ny(t,i){Cl(2048,8,t,i)}function Oy(t,i){return Cl(4,2,t,i)}function My(t,i){return Cl(4,4,t,i)}function Py(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vy(t,i,s){s=s!=null?s.concat([t]):null,Cl(4,4,Py.bind(null,i,t),s)}function _d(){}function xy(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&od(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function ky(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&od(i,l[1]))return l[0];if(l=t(),gs){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l}function vd(t,i,s){return s===void 0||(ra&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=z_(),Ke.lanes|=t,ca|=t,s)}function Ly(t,i,s,l){return qn(s,i)?s:ao.current!==null?(t=vd(t,s,l),qn(t,i)||(Jt=!0),t):(ra&42)===0?(Jt=!0,t.memoizedState=s):(t=z_(),Ke.lanes|=t,ca|=t,i)}function Uy(t,i,s,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=G.T,T={};G.T=T,wd(t,!1,i,s);try{var C=f(),q=G.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=UA(C,l);Dl(t,i,J,$n(t))}else Dl(t,i,l,$n(t))}catch(ne){Dl(t,i,{then:function(){},status:"rejected",reason:ne},$n())}finally{ce.p=d,G.T=E}}function qA(){}function Ed(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=zy(t).queue;Uy(t,f,i,pe,s===null?qA:function(){return jy(t),s(l)})}function zy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jy(t){var i=zy(t).next.queue;Dl(t,i,{},$n())}function Td(){return gn(Yl)}function By(){return Bt().memoizedState}function Hy(){return Bt().memoizedState}function FA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=$n();t=ta(s);var l=na(i,t,s);l!==null&&(Qn(l,i,s),Sl(l,i,s)),i={cache:Wf()},t.payload=i;return}i=i.return}}function GA(t,i,s){var l=$n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Fy(i,s):(s=Bf(t,i,s,l),s!==null&&(Qn(s,t,l),Gy(s,i,l)))}function qy(t,i,s){var l=$n();Dl(t,i,s,l)}function Dl(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Fy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,s);if(f.hasEagerState=!0,f.eagerState=T,qn(T,E))return ic(t,i,f,0),St===null&&rc(),!1}catch{}finally{}if(s=Bf(t,i,f,l),s!==null)return Qn(s,t,l),Gy(s,i,l),!0}return!1}function wd(t,i,s,l){if(l={lane:2,revertLane:em(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(a(479))}else i=Bf(t,s,l,2),i!==null&&Qn(i,t,2)}function Tc(t){var i=t.alternate;return t===Ke||i!==null&&i===Ke}function Fy(t,i){so=pc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Gy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,zr(t,s)}}var wc={readContext:gn,use:yc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Ky={readContext:gn,use:yc,useCallback:function(t,i){return Mn().memoizedState=[t,i===void 0?null:i],t},useContext:gn,useEffect:Dy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ec(4194308,4,Py.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var s=Mn();i=i===void 0?null:i;var l=t();if(gs){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Mn();if(s!==void 0){var f=s(i);if(gs){pn(!0);try{s(i)}finally{pn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=GA.bind(null,Ke,t),[l.memoizedState,t]},useRef:function(t){var i=Mn();return t={current:t},i.memoizedState=t},useState:function(t){t=gd(t);var i=t.queue,s=qy.bind(null,Ke,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:_d,useDeferredValue:function(t,i){var s=Mn();return vd(s,t,i)},useTransition:function(){var t=gd(!1);return t=Uy.bind(null,Ke,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ke,f=Mn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),St===null)throw Error(a(349));(rt&124)!==0||dy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,Dy(py.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,vc(),my.bind(null,l,d,s,i),null),s},useId:function(){var t=Mn(),i=St.identifierPrefix;if(ct){var s=Ai,l=Si;s=(l&~(1<<32-Ut(l)-1)).toString(32)+s,i=""+i+"R"+s,s=gc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=zA++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Td,useFormState:Ay,useActionState:Ay,useOptimistic:function(t){var i=Mn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=wd.bind(null,Ke,!0,s),s.dispatch=i,[t,i]},useMemoCache:dd,useCacheRefresh:function(){return Mn().memoizedState=FA.bind(null,Ke)}},Yy={readContext:gn,use:yc,useCallback:xy,useContext:gn,useEffect:Ny,useImperativeHandle:Vy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:ky,useReducer:_c,useRef:Cy,useState:function(){return _c(Ii)},useDebugValue:_d,useDeferredValue:function(t,i){var s=Bt();return Ly(s,yt.memoizedState,t,i)},useTransition:function(){var t=_c(Ii)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:Td,useFormState:by,useActionState:by,useOptimistic:function(t,i){var s=Bt();return _y(s,yt,t,i)},useMemoCache:dd,useCacheRefresh:Hy},KA={readContext:gn,use:yc,useCallback:xy,useContext:gn,useEffect:Ny,useImperativeHandle:Vy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:ky,useReducer:pd,useRef:Cy,useState:function(){return pd(Ii)},useDebugValue:_d,useDeferredValue:function(t,i){var s=Bt();return yt===null?vd(s,t,i):Ly(s,yt.memoizedState,t,i)},useTransition:function(){var t=pd(Ii)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:Td,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var s=Bt();return yt!==null?_y(s,yt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:dd,useCacheRefresh:Hy},uo=null,Nl=0;function Sc(t){var i=Nl;return Nl+=1,uo===null&&(uo=[]),iy(uo,t,i)}function Ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ac(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $y(t){var i=t._init;return i(t._payload)}function Qy(t){function i(L,V){if(t){var B=L.deletions;B===null?(L.deletions=[V],L.flags|=16):B.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=wi(L,V),L.index=0,L.sibling=null,L}function d(L,V,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<V?(L.flags|=67108866,V):B):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,B,te){return V===null||V.tag!==6?(V=qf(B,L.mode,te),V.return=L,V):(V=f(V,B),V.return=L,V)}function C(L,V,B,te){var _e=B.type;return _e===U?J(L,V,B.props.children,te,B.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===b&&$y(_e)===V.type)?(V=f(V,B.props),Ol(V,B),V.return=L,V):(V=sc(B.type,B.key,B.props,null,L.mode,te),Ol(V,B),V.return=L,V)}function q(L,V,B,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Ff(B,L.mode,te),V.return=L,V):(V=f(V,B.children||[]),V.return=L,V)}function J(L,V,B,te,_e){return V===null||V.tag!==7?(V=ls(B,L.mode,te,_e),V.return=L,V):(V=f(V,B),V.return=L,V)}function ne(L,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qf(""+V,L.mode,B),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return B=sc(V.type,V.key,V.props,null,L.mode,B),Ol(B,V),B.return=L,B;case O:return V=Ff(V,L.mode,B),V.return=L,V;case b:var te=V._init;return V=te(V._payload),ne(L,V,B)}if(et(V)||k(V))return V=ls(V,L.mode,B,null),V.return=L,V;if(typeof V.then=="function")return ne(L,Sc(V),B);if(V.$$typeof===se)return ne(L,cc(L,V),B);Ac(L,V)}return null}function K(L,V,B,te){var _e=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _e!==null?null:T(L,V,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===_e?C(L,V,B,te):null;case O:return B.key===_e?q(L,V,B,te):null;case b:return _e=B._init,B=_e(B._payload),K(L,V,B,te)}if(et(B)||k(B))return _e!==null?null:J(L,V,B,te,null);if(typeof B.then=="function")return K(L,V,Sc(B),te);if(B.$$typeof===se)return K(L,V,cc(L,B),te);Ac(L,B)}return null}function $(L,V,B,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return L=L.get(B)||null,T(V,L,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return L=L.get(te.key===null?B:te.key)||null,C(V,L,te,_e);case O:return L=L.get(te.key===null?B:te.key)||null,q(V,L,te,_e);case b:var Ye=te._init;return te=Ye(te._payload),$(L,V,B,te,_e)}if(et(te)||k(te))return L=L.get(B)||null,J(V,L,te,_e,null);if(typeof te.then=="function")return $(L,V,B,Sc(te),_e);if(te.$$typeof===se)return $(L,V,B,cc(V,te),_e);Ac(V,te)}return null}function xe(L,V,B,te){for(var _e=null,Ye=null,Ie=V,Me=V=0,tn=null;Ie!==null&&Me<B.length;Me++){Ie.index>Me?(tn=Ie,Ie=null):tn=Ie.sibling;var st=K(L,Ie,B[Me],te);if(st===null){Ie===null&&(Ie=tn);break}t&&Ie&&st.alternate===null&&i(L,Ie),V=d(st,V,Me),Ye===null?_e=st:Ye.sibling=st,Ye=st,Ie=tn}if(Me===B.length)return s(L,Ie),ct&&cs(L,Me),_e;if(Ie===null){for(;Me<B.length;Me++)Ie=ne(L,B[Me],te),Ie!==null&&(V=d(Ie,V,Me),Ye===null?_e=Ie:Ye.sibling=Ie,Ye=Ie);return ct&&cs(L,Me),_e}for(Ie=l(Ie);Me<B.length;Me++)tn=$(Ie,L,Me,B[Me],te),tn!==null&&(t&&tn.alternate!==null&&Ie.delete(tn.key===null?Me:tn.key),V=d(tn,V,Me),Ye===null?_e=tn:Ye.sibling=tn,Ye=tn);return t&&Ie.forEach(function(va){return i(L,va)}),ct&&cs(L,Me),_e}function Oe(L,V,B,te){if(B==null)throw Error(a(151));for(var _e=null,Ye=null,Ie=V,Me=V=0,tn=null,st=B.next();Ie!==null&&!st.done;Me++,st=B.next()){Ie.index>Me?(tn=Ie,Ie=null):tn=Ie.sibling;var va=K(L,Ie,st.value,te);if(va===null){Ie===null&&(Ie=tn);break}t&&Ie&&va.alternate===null&&i(L,Ie),V=d(va,V,Me),Ye===null?_e=va:Ye.sibling=va,Ye=va,Ie=tn}if(st.done)return s(L,Ie),ct&&cs(L,Me),_e;if(Ie===null){for(;!st.done;Me++,st=B.next())st=ne(L,st.value,te),st!==null&&(V=d(st,V,Me),Ye===null?_e=st:Ye.sibling=st,Ye=st);return ct&&cs(L,Me),_e}for(Ie=l(Ie);!st.done;Me++,st=B.next())st=$(Ie,L,Me,st.value,te),st!==null&&(t&&st.alternate!==null&&Ie.delete(st.key===null?Me:st.key),V=d(st,V,Me),Ye===null?_e=st:Ye.sibling=st,Ye=st);return t&&Ie.forEach(function(Yb){return i(L,Yb)}),ct&&cs(L,Me),_e}function vt(L,V,B,te){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var _e=B.key;V!==null;){if(V.key===_e){if(_e=B.type,_e===U){if(V.tag===7){s(L,V.sibling),te=f(V,B.props.children),te.return=L,L=te;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===b&&$y(_e)===V.type){s(L,V.sibling),te=f(V,B.props),Ol(te,B),te.return=L,L=te;break e}s(L,V);break}else i(L,V);V=V.sibling}B.type===U?(te=ls(B.props.children,L.mode,te,B.key),te.return=L,L=te):(te=sc(B.type,B.key,B.props,null,L.mode,te),Ol(te,B),te.return=L,L=te)}return E(L);case O:e:{for(_e=B.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){s(L,V.sibling),te=f(V,B.children||[]),te.return=L,L=te;break e}else{s(L,V);break}else i(L,V);V=V.sibling}te=Ff(B,L.mode,te),te.return=L,L=te}return E(L);case b:return _e=B._init,B=_e(B._payload),vt(L,V,B,te)}if(et(B))return xe(L,V,B,te);if(k(B)){if(_e=k(B),typeof _e!="function")throw Error(a(150));return B=_e.call(B),Oe(L,V,B,te)}if(typeof B.then=="function")return vt(L,V,Sc(B),te);if(B.$$typeof===se)return vt(L,V,cc(L,B),te);Ac(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(s(L,V.sibling),te=f(V,B),te.return=L,L=te):(s(L,V),te=qf(B,L.mode,te),te.return=L,L=te),E(L)):s(L,V)}return function(L,V,B,te){try{Nl=0;var _e=vt(L,V,B,te);return uo=null,_e}catch(Ie){if(Ie===Tl||Ie===fc)throw Ie;var Ye=Fn(29,Ie,null,L.mode);return Ye.lanes=te,Ye.return=L,Ye}finally{}}}var co=Qy(!0),Xy=Qy(!1),dr=ee(null),Qr=null;function ia(t){var i=t.alternate;le(Yt,Yt.current&1),le(dr,t),Qr===null&&(i===null||ao.current!==null||i.memoizedState!==null)&&(Qr=t)}function Wy(t){if(t.tag===22){if(le(Yt,Yt.current),le(dr,t),Qr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Qr=t)}}else aa()}function aa(){le(Yt,Yt.current),le(dr,dr.current)}function Ci(t){he(dr),Qr===t&&(Qr=null),he(Yt)}var Yt=ee(0);function bc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||fm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ad={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=$n(),f=ta(l);f.payload=i,s!=null&&(f.callback=s),i=na(t,f,l),i!==null&&(Qn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=$n(),f=ta(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=na(t,f,l),i!==null&&(Qn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=$n(),l=ta(s);l.tag=2,i!=null&&(l.callback=i),i=na(t,l,s),i!==null&&(Qn(i,t,s),Sl(i,t,s))}};function Zy(t,i,s,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!dl(s,l)||!dl(f,d):!0}function Jy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Ad.enqueueReplaceState(i,i.state,null)}function ys(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function e_(t){Rc(t)}function t_(t){console.error(t)}function n_(t){Rc(t)}function Ic(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function r_(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(t,i,s){return s=ta(s),s.tag=3,s.payload={element:null},s.callback=function(){Ic(t,i)},s}function i_(t){return t=ta(t),t.tag=3,t}function a_(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){r_(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){r_(i,s,l),typeof f!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function YA(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&_l(i,s,f,!0),s=dr.current,s!==null){switch(s.tag){case 13:return Qr===null?Qd():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===ed?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Wd(t,l,f)),!1;case 22:return s.flags|=65536,l===ed?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Wd(t,l,f)),!1}throw Error(a(435,s.tag))}return Wd(t,l,f),Qd(),!1}if(ct)return i=dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Yf&&(t=Error(a(422),{cause:l}),yl(ur(t,s)))):(l!==Yf&&(i=Error(a(423),{cause:l}),yl(ur(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ur(l,s),f=bd(t.stateNode,l,f),rd(t,f),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=ur(d,s),Ul===null?Ul=[d]:Ul.push(d),Mt!==4&&(Mt=2),i===null)return!0;l=ur(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=bd(s.stateNode,l,t),rd(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ha===null||!ha.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=i_(f),a_(f,t,s,l),rd(s,f),!1}s=s.return}while(s!==null);return!1}var s_=Error(a(461)),Jt=!1;function on(t,i,s,l){i.child=t===null?Xy(i,null,s,l):co(i,t.child,s,l)}function o_(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ms(i),l=ld(t,i,s,E,d,f),T=ud(),t!==null&&!Jt?(cd(t,i,f),Di(t,i,f)):(ct&&T&&Gf(i),i.flags|=1,on(t,i,l,f),i.child)}function l_(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,u_(t,i,d,l,f)):(t=sc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Pd(t,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:dl,s(E,l)&&t.ref===i.ref)return Di(t,i,f)}return i.flags|=1,t=wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function u_(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(dl(d,l)&&t.ref===i.ref)if(Jt=!1,i.pendingProps=l=d,Pd(t,f))(t.flags&131072)!==0&&(Jt=!0);else return i.lanes=t.lanes,Di(t,i,f)}return Rd(t,i,s,l,f)}function c_(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return h_(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):ad(),Wy(i);else return i.lanes=i.childLanes=536870912,h_(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(hc(i,d.cachePool),uy(i,d),aa(),i.memoizedState=null):(t!==null&&hc(i,null),ad(),aa());return on(t,i,f,s),i.child}function h_(t,i,s,l){var f=Jf();return f=f===null?null:{parent:Kt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&hc(i,null),ad(),Wy(i),t!==null&&_l(t,i,l,!0),null}function Cc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Rd(t,i,s,l,f){return ms(i),s=ld(t,i,s,l,void 0,f),l=ud(),t!==null&&!Jt?(cd(t,i,f),Di(t,i,f)):(ct&&l&&Gf(i),i.flags|=1,on(t,i,s,f),i.child)}function f_(t,i,s,l,f,d){return ms(i),i.updateQueue=null,s=hy(i,l,s,f),cy(t),l=ud(),t!==null&&!Jt?(cd(t,i,d),Di(t,i,d)):(ct&&l&&Gf(i),i.flags|=1,on(t,i,s,d),i.child)}function d_(t,i,s,l,f){if(ms(i),i.stateNode===null){var d=eo,E=s.contextType;typeof E=="object"&&E!==null&&(d=gn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},td(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?gn(E):eo,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Sd(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ad.enqueueReplaceState(d,d.state,null),bl(i,l,d,f),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=ys(s,T);d.props=C;var q=d.context,J=s.contextType;E=eo,typeof J=="object"&&J!==null&&(E=gn(J));var ne=s.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&Jy(i,d,l,E),ea=!1;var K=i.memoizedState;d.state=K,bl(i,l,d,f),Al(),q=i.memoizedState,T||K!==q||ea?(typeof ne=="function"&&(Sd(i,s,ne,l),q=i.memoizedState),(C=ea||Zy(i,s,C,l,K,q,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nd(t,i),E=i.memoizedProps,J=ys(s,E),d.props=J,ne=i.pendingProps,K=d.context,q=s.contextType,C=eo,typeof q=="object"&&q!==null&&(C=gn(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||K!==C)&&Jy(i,d,l,C),ea=!1,K=i.memoizedState,d.state=K,bl(i,l,d,f),Al();var $=i.memoizedState;E!==ne||K!==$||ea||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof T=="function"&&(Sd(i,s,T,l),$=i.memoizedState),(J=ea||Zy(i,s,J,l,K,$,C)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=co(i,t.child,null,f),i.child=co(i,null,s,f)):on(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Di(t,i,f),t}function m_(t,i,s,l){return gl(),i.flags|=256,on(t,i,s,l),i.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:ty()}}function Dd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=mr),t}function p_(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?ia(i):aa(),ct){var T=Ot,C;if(C=T){e:{for(C=T,T=$r;C.nodeType!==8;){if(!T){T=null;break e}if(C=Rr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:us!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},C=Fn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,Nn=i,Ot=null,C=!0):C=!1}C||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return fm(T)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return T=l.children,l=l.fallback,f?(aa(),f=i.mode,T=Dc({mode:"hidden",children:T},f),l=ls(l,f,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Cd(s),f.childLanes=Dd(t,E,s),i.memoizedState=Id,l):(ia(i),Nd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(ia(i),i.flags&=-257,i=Od(t,i,s)):i.memoizedState!==null?(aa(),i.child=t.child,i.flags|=128,i=null):(aa(),f=l.fallback,T=i.mode,l=Dc({mode:"visible",children:l.children},T),f=ls(f,T,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,co(i,t.child,null,s),l=i.child,l.memoizedState=Cd(s),l.childLanes=Dd(t,E,s),i.memoizedState=Id,i=f);else if(ia(i),fm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(a(419)),l.stack="",l.digest=E,yl({value:l,source:null,stack:null}),i=Od(t,i,s)}else if(Jt||_l(t,i,s,!1),E=(s&t.childLanes)!==0,Jt||E){if(E=St,E!==null&&(l=s&-s,l=(l&42)!==0?1:jr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Js(t,l),Qn(E,t,l),s_;T.data==="$?"||Qd(),i=Od(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ot=Rr(T.nextSibling),Nn=i,ct=!0,hs=null,$r=!1,t!==null&&(hr[fr++]=Si,hr[fr++]=Ai,hr[fr++]=us,Si=t.id,Ai=t.overflow,us=i),i=Nd(i,l.children),i.flags|=4096);return i}return f?(aa(),f=l.fallback,T=i.mode,C=t.child,q=C.sibling,l=wi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=wi(q,f):(f=ls(f,T,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=t.child.memoizedState,T===null?T=Cd(s):(C=T.cachePool,C!==null?(q=Kt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=ty(),T={baseLanes:T.baseLanes|s,cachePool:C}),f.memoizedState=T,f.childLanes=Dd(t,E,s),i.memoizedState=Id,l):(ia(i),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Nd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=Fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Od(t,i,s){return co(i,t.child,null,s),t=Nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function g_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Qf(t.return,i,s)}function Md(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function y_(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(on(t,i,l.children,s),l=Yt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,s,i);else if(t.tag===19)g_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Yt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&bc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Md(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&bc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Md(i,!0,s,null,d);break;case"together":Md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ca|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(_l(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=wi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function $A(t,i,s){switch(i.tag){case 3:pt(i,i.stateNode.containerInfo),Ji(i,Kt,t.memoizedState.cache),gl();break;case 27:case 5:At(i);break;case 4:pt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(i),i.flags|=128,null):(s&i.child.childLanes)!==0?p_(t,i,s):(ia(i),t=Di(t,i,s),t!==null?t.sibling:null);ia(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(_l(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return y_(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Yt,Yt.current),l)break;return null;case 22:case 23:return i.lanes=0,c_(t,i,s);case 24:Ji(i,Kt,t.memoizedState.cache)}return Di(t,i,s)}function __(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Jt=!0;else{if(!Pd(t,s)&&(i.flags&128)===0)return Jt=!1,$A(t,i,s);Jt=(t.flags&131072)!==0}else Jt=!1,ct&&(i.flags&1048576)!==0&&$g(i,lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Hf(l)?(t=ys(l,t),i.tag=1,i=d_(null,i,l,t,s)):(i.tag=0,i=Rd(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===Re){i.tag=11,i=o_(null,i,l,t,s);break e}else if(f===M){i.tag=14,i=l_(null,i,l,t,s);break e}}throw i=qe(l)||l,Error(a(306,i,""))}}return i;case 0:return Rd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=ys(l,i.pendingProps),d_(t,i,l,f,s);case 3:e:{if(pt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,nd(t,i),bl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Ji(i,Kt,l),l!==d.cache&&Xf(i,[Kt],s,!0),Al(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=m_(t,i,l,s);break e}else if(l!==f){f=ur(Error(a(424)),i),yl(f),i=m_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=Rr(t.firstChild),Nn=i,ct=!0,hs=null,$r=!0,s=Xy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(gl(),l===f){i=Di(t,i,s);break e}on(t,i,l,s)}i=i.child}return i;case 26:return Cc(t,i),t===null?(s=wv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=qc(Ne.current).createElement(s),l[re]=i,l[ue]=t,un(l,s,t),Ue(l),i.stateNode=l):i.memoizedState=wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return At(i),t===null&&ct&&(l=i.stateNode=vv(i.type,i.pendingProps,Ne.current),Nn=i,$r=!0,f=Ot,ma(i.type)?(dm=f,Ot=Rr(l.firstChild)):Ot=f),on(t,i,i.pendingProps.children,s),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=Ot)&&(l=wb(l,i.type,i.pendingProps,$r),l!==null?(i.stateNode=l,Nn=i,Ot=Rr(l.firstChild),$r=!1,f=!0):f=!1),f||fs(i)),At(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:E!==null&&um(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=ld(t,i,jA,null,null,s),Yl._currentValue=f),Cc(t,i),on(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Ot)&&(s=Sb(s,i.pendingProps,$r),s!==null?(i.stateNode=s,Nn=i,Ot=null,t=!0):t=!1),t||fs(i)),null;case 13:return p_(t,i,s);case 4:return pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=co(i,null,l,s):on(t,i,l,s),i.child;case 11:return o_(t,i,i.type,i.pendingProps,s);case 7:return on(t,i,i.pendingProps,s),i.child;case 8:return on(t,i,i.pendingProps.children,s),i.child;case 12:return on(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ji(i,i.type,l.value),on(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ms(i),f=gn(f),l=l(f),i.flags|=1,on(t,i,l,s),i.child;case 14:return l_(t,i,i.type,i.pendingProps,s);case 15:return u_(t,i,i.type,i.pendingProps,s);case 19:return y_(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Dc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return c_(t,i,s);case 24:return ms(i),l=gn(Kt),t===null?(f=Jf(),f===null&&(f=St,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},td(i),Ji(i,Kt,f)):((t.lanes&s)!==0&&(nd(t,i),bl(i,null,null,s),Al()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ji(i,Kt,l)):(l=d.cache,Ji(i,Kt,l),l!==f.cache&&Xf(i,[Kt],s,!0))),on(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ni(t){t.flags|=4}function v_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(i)){if(i=dr.current,i!==null&&((rt&4194048)===rt?Qr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==Qr))throw wl=ed,ny;t.flags|=8192}}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$a():536870912,t.lanes|=i,po|=i)}function Ml(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function QA(t,i,s){var l=i.pendingProps;switch(Kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ri(Kt),Jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(pl(i)?Ni(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wg())),Dt(i),null;case 26:return s=i.memoizedState,t===null?(Ni(i),s!==null?(Dt(i),v_(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Ni(i),Dt(i),v_(i,s)):(Dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ni(i),Dt(i),i.flags&=-16777217),null;case 27:mn(i),s=Ne.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}t=Se.current,pl(i)?Qg(i):(t=vv(f,l,s),i.stateNode=t,Ni(i))}return Dt(i),null;case 5:if(mn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(t=Se.current,pl(i))Qg(i);else{switch(f=qc(Ne.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[re]=i,t[ue]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(un(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ni(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,pl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[re]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,s)),t||fs(i)}else t=qc(t).createTextNode(l),t[re]=i,i.stateNode=t}return Dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=pl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[re]=i}else gl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),f=!1}else f=Wg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Nc(i,i.updateQueue),Dt(i),null;case 4:return Jn(),t===null&&im(i.stateNode.containerInfo),Dt(i),null;case 10:return Ri(i.type),Dt(i),null;case 19:if(he(Yt),f=i.memoizedState,f===null)return Dt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Ml(f,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=bc(t),d!==null){for(i.flags|=128,Ml(f,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Yg(s,t),s=s.sibling;return le(Yt,Yt.current&1|2),i.child}t=t.sibling}f.tail!==null&&Sn()>Pc&&(i.flags|=128,l=!0,Ml(f,!1),i.lanes=4194304)}else{if(!l)if(t=bc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ct)return Dt(i),null}else 2*Sn()-f.renderingStartTime>Pc&&s!==536870912&&(i.flags|=128,l=!0,Ml(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Sn(),i.sibling=null,t=Yt.current,le(Yt,l?t&1|2:t&1),i):(Dt(i),null);case 22:case 23:return Ci(i),sd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Nc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&he(ps),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ri(Kt),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function XA(t,i){switch(Kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ri(Kt),Jn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Ci(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));gl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return he(Yt),null;case 4:return Jn(),null;case 10:return Ri(i.type),null;case 22:case 23:return Ci(i),sd(),t!==null&&he(ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ri(Kt),null;case 25:return null;default:return null}}function E_(t,i){switch(Kf(i),i.tag){case 3:Ri(Kt),Jn();break;case 26:case 27:case 5:mn(i);break;case 4:Jn();break;case 13:Ci(i);break;case 19:he(Yt);break;case 10:Ri(i.type);break;case 22:case 23:Ci(i),sd(),t!==null&&he(ps);break;case 24:Ri(Kt)}}function Pl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==f)}}catch(T){Tt(i,i.return,T)}}function sa(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var C=s,q=T;try{q()}catch(J){Tt(f,C,J)}}}l=l.next}while(l!==d)}}catch(J){Tt(i,i.return,J)}}function T_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ly(i,s)}catch(l){Tt(t,t.return,l)}}}function w_(t,i,s){s.props=ys(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Tt(t,i,l)}}function Vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){Tt(t,i,f)}}function Xr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Tt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Tt(t,i,f)}else s.current=null}function S_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Tt(t,t.return,f)}}function Vd(t,i,s){try{var l=t.stateNode;yb(l,t.type,s,i),l[ue]=i}catch(f){Tt(t,t.return,f)}}function A_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Hc));else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(kd(t,i,s),t=t.sibling;t!==null;)kd(t,i,s),t=t.sibling}function Oc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Oc(t,i,s),t=t.sibling;t!==null;)Oc(t,i,s),t=t.sibling}function b_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);un(i,l,s),i[re]=t,i[ue]=s}catch(d){Tt(t,t.return,d)}}var Oi=!1,xt=!1,Ld=!1,R_=typeof WeakSet=="function"?WeakSet:Set,en=null;function WA(t,i){if(t=t.containerInfo,om=Qc,t=Lg(t),xf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,T=-1,C=-1,q=0,J=0,ne=t,K=null;t:for(;;){for(var $;ne!==s||f!==0&&ne.nodeType!==3||(T=E+f),ne!==d||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===t)break t;if(K===s&&++q===f&&(T=E),K===d&&++J===l&&(C=E),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(lm={focusedElem:t,selectionRange:s},Qc=!1,en=i;en!==null;)if(i=en,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,en=t;else for(;en!==null;){switch(i=en,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var xe=ys(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){Tt(s,s.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)hm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,en=t;break}en=i.return}}function I_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:oa(t,s),l&4&&Pl(5,s);break;case 1:if(oa(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){Tt(s,s.return,E)}else{var f=ys(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(s,s.return,E)}}l&64&&T_(s),l&512&&Vl(s,s.return);break;case 3:if(oa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ly(t,i)}catch(E){Tt(s,s.return,E)}}break;case 27:i===null&&l&4&&b_(s);case 26:case 5:oa(t,s),i===null&&l&4&&S_(s),l&512&&Vl(s,s.return);break;case 12:oa(t,s);break;case 13:oa(t,s),l&4&&N_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=sb.bind(null,s),Ab(t,s))));break;case 22:if(l=s.memoizedState!==null||Oi,!l){i=i!==null&&i.memoizedState!==null||xt,f=Oi;var d=xt;Oi=l,(xt=i)&&!d?la(t,s,(s.subtreeFlags&8772)!==0):oa(t,s),Oi=f,xt=d}break;case 30:break;default:oa(t,s)}}function C_(t){var i=t.alternate;i!==null&&(t.alternate=null,C_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&we(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Pn=!1;function Mi(t,i,s){for(s=s.child;s!==null;)D_(t,i,s),s=s.sibling}function D_(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:xt||Xr(s,i),Mi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||Xr(s,i);var l=Ct,f=Pn;ma(s.type)&&(Ct=s.stateNode,Pn=!1),Mi(t,i,s),ql(s.stateNode),Ct=l,Pn=f;break;case 5:xt||Xr(s,i);case 6:if(l=Ct,f=Pn,Ct=null,Mi(t,i,s),Ct=l,Pn=f,Ct!==null)if(Pn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(d){Tt(s,i,d)}else try{Ct.removeChild(s.stateNode)}catch(d){Tt(s,i,d)}break;case 18:Ct!==null&&(Pn?(t=Ct,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wl(t)):yv(Ct,s.stateNode));break;case 4:l=Ct,f=Pn,Ct=s.stateNode.containerInfo,Pn=!0,Mi(t,i,s),Ct=l,Pn=f;break;case 0:case 11:case 14:case 15:xt||sa(2,s,i),xt||sa(4,s,i),Mi(t,i,s);break;case 1:xt||(Xr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&w_(s,i,l)),Mi(t,i,s);break;case 21:Mi(t,i,s);break;case 22:xt=(l=xt)||s.memoizedState!==null,Mi(t,i,s),xt=l;break;default:Mi(t,i,s)}}function N_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(s){Tt(i,i.return,s)}}function ZA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new R_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new R_),i;default:throw Error(a(435,t.tag))}}function Ud(t,i){var s=ZA(t);i.forEach(function(l){var f=ob.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Gn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ma(T.type)){Ct=T.stateNode,Pn=!1;break e}break;case 5:Ct=T.stateNode,Pn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(Ct===null)throw Error(a(160));D_(d,E,f),Ct=null,Pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)O_(i,t),i=i.sibling}var br=null;function O_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gn(i,t),Kn(t),l&4&&(sa(3,t,t.return),Pl(3,t),sa(5,t,t.return));break;case 1:Gn(i,t),Kn(t),l&512&&(xt||s===null||Xr(s,s.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=br;if(Gn(i,t),Kn(t),l&512&&(xt||s===null||Xr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Te]||d[re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),un(d,l,s),d[re]=t,Ue(d),l=d;break e;case"link":var E=bv("link","href",f).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),un(d,l,s),f.head.appendChild(d);break;case"meta":if(E=bv("meta","content",f).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break t}}d=f.createElement(l),un(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[re]=t,Ue(d),l=d}t.stateNode=l}else Rv(f,t.type,t.stateNode);else t.stateNode=Av(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Rv(f,t.type,t.stateNode):Av(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Gn(i,t),Kn(t),l&512&&(xt||s===null||Xr(s,s.return)),s!==null&&l&4&&Vd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Gn(i,t),Kn(t),l&512&&(xt||s===null||Xr(s,s.return)),t.flags&32){f=t.stateNode;try{ar(f,"")}catch($){Tt(t,t.return,$)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Vd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(Gn(i,t),Kn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch($){Tt(t,t.return,$)}}break;case 3:if(Kc=null,f=br,br=Fc(i.containerInfo),Gn(i,t),br=f,Kn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch($){Tt(t,t.return,$)}Ld&&(Ld=!1,M_(t));break;case 4:l=br,br=Fc(t.stateNode.containerInfo),Gn(i,t),Kn(t),br=l;break;case 12:Gn(i,t),Kn(t);break;case 13:Gn(i,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fd=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ud(t,l)));break;case 22:f=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,q=Oi,J=xt;if(Oi=q||f,xt=J||C,Gn(i,t),xt=J,Oi=q,Kn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||C||Oi||xt||_s(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var ne=C.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Tt(C,C.return,$)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch($){Tt(C,C.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ud(t,s))));break;case 19:Gn(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ud(t,l)));break;case 30:break;case 21:break;default:Gn(i,t),Kn(t)}}function Kn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(A_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=xd(t);Oc(t,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(ar(E,""),s.flags&=-33);var T=xd(t);Oc(t,T,E);break;case 3:case 4:var C=s.stateNode.containerInfo,q=xd(t);kd(t,q,C);break;default:throw Error(a(161))}}catch(J){Tt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function M_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;M_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function oa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)I_(t,i.alternate,i),i=i.sibling}function _s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:sa(4,i,i.return),_s(i);break;case 1:Xr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&w_(i,i.return,s),_s(i);break;case 27:ql(i.stateNode);case 26:case 5:Xr(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}t=t.sibling}}function la(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:la(f,d,s),Pl(4,d);break;case 1:if(la(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Tt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)oy(C[f],T)}catch(q){Tt(l,l.return,q)}}s&&E&64&&T_(d),Vl(d,d.return);break;case 27:b_(d);case 26:case 5:la(f,d,s),s&&l===null&&E&4&&S_(d),Vl(d,d.return);break;case 12:la(f,d,s);break;case 13:la(f,d,s),s&&E&4&&N_(f,d);break;case 22:d.memoizedState===null&&la(f,d,s),Vl(d,d.return);break;case 30:break;default:la(f,d,s)}i=i.sibling}}function zd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&vl(s))}function jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function Wr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,s,l),i=i.sibling}function P_(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wr(t,i,s,l),f&2048&&Pl(9,i);break;case 1:Wr(t,i,s,l);break;case 3:Wr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(f&2048){Wr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Tt(i,i.return,C)}}else Wr(t,i,s,l);break;case 13:Wr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Wr(t,i,s,l):xl(t,i):d._visibility&2?Wr(t,i,s,l):(d._visibility|=2,ho(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&zd(E,i);break;case 24:Wr(t,i,s,l),f&2048&&jd(i.alternate,i);break;default:Wr(t,i,s,l)}}function ho(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,T=s,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:ho(d,E,T,C,f),Pl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ho(d,E,T,C,f):xl(d,E):(J._visibility|=2,ho(d,E,T,C,f)),f&&q&2048&&zd(E.alternate,E);break;case 24:ho(d,E,T,C,f),f&&q&2048&&jd(E.alternate,E);break;default:ho(d,E,T,C,f)}i=i.sibling}}function xl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:xl(s,l),f&2048&&zd(l.alternate,l);break;case 24:xl(s,l),f&2048&&jd(l.alternate,l);break;default:xl(s,l)}i=i.sibling}}var kl=8192;function fo(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 26:fo(t),t.flags&kl&&t.memoizedState!==null&&Lb(br,t.memoizedState,t.memoizedProps);break;case 5:fo(t);break;case 3:case 4:var i=br;br=Fc(t.stateNode.containerInfo),fo(t),br=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,fo(t),kl=i):fo(t));break;default:fo(t)}}function x_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];en=l,L_(l,t)}x_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)k_(t),t=t.sibling}function k_(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&sa(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):Ll(t);break;default:Ll(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];en=l,L_(l,t)}x_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:sa(8,i,i.return),Mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function L_(t,i){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:sa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var f=l.sibling,d=l.return;if(C_(l),l===s){en=null;break e}if(f!==null){f.return=d,en=f;break e}en=d}}}var JA={getCacheForType:function(t){var i=gn(Kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},eb=typeof WeakMap=="function"?WeakMap:Map,dt=0,St=null,Qe=null,rt=0,mt=0,Yn=null,ua=!1,mo=!1,Bd=!1,Pi=0,Mt=0,ca=0,vs=0,Hd=0,mr=0,po=0,Ul=null,Vn=null,qd=!1,Fd=0,Pc=1/0,Vc=null,ha=null,ln=0,fa=null,go=null,yo=0,Gd=0,Kd=null,U_=null,zl=0,Yd=null;function $n(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=ro;return t!==0?t:em()}return D()}function z_(){mr===0&&(mr=(rt&536870912)===0||ct?di():536870912);var t=dr.current;return t!==null&&(t.flags|=32),mr}function Qn(t,i,s){(t===St&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(_o(t,0),da(t,rt,mr,!1)),Tr(t,s),((dt&2)===0||t!==St)&&(t===St&&((dt&2)===0&&(vs|=s),Mt===4&&da(t,rt,mr,!1)),Zr(t))}function j_(t,i,s){if((dt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||nr(t,i),f=l?rb(t,i):Xd(t,i,!0),d=l;do{if(f===0){mo&&!l&&da(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!tb(s)){f=Xd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;f=Ul;var C=T.current.memoizedState.isDehydrated;if(C&&(_o(T,E).flags|=256),E=Xd(T,E,!1),E!==2){if(Bd&&!C){T.errorRecoveryDisabledLanes|=d,vs|=d,f=4;break e}d=Vn,Vn=f,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){_o(t,0),da(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:da(l,i,mr,!ua);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Fd+300-Sn(),10<f)){if(da(l,i,mr,!ua),fi(l,0,!0)!==0)break e;l.timeoutHandle=pv(B_.bind(null,l,s,Vn,Vc,qd,i,mr,vs,po,ua,d,2,-0,0),f);break e}B_(l,s,Vn,Vc,qd,i,mr,vs,po,ua,d,0,-0,0)}}break}while(!0);Zr(t)}function B_(t,i,s,l,f,d,E,T,C,q,J,ne,K,$){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:kb},V_(i),ne=Ub(),ne!==null)){t.cancelPendingCommit=ne($_.bind(null,t,i,d,s,l,f,E,T,C,J,1,K,$)),da(t,d,E,!q);return}$_(t,i,d,s,l,f,E,T,C)}function tb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!qn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function da(t,i,s,l){i&=~Hd,i&=~vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Ut(f),E=1<<d;l[d]=-1,f&=~E}s!==0&&An(t,s,i)}function xc(){return(dt&6)===0?(jl(0),!1):!0}function $d(){if(Qe!==null){if(mt===0)var t=Qe.return;else t=Qe,bi=ds=null,hd(t),uo=null,Nl=0,t=Qe;for(;t!==null;)E_(t.alternate,t),t=t.return;Qe=null}}function _o(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,vb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$d(),St=t,Qe=s=wi(t.current,null),rt=i,mt=0,Yn=null,ua=!1,mo=nr(t,i),Bd=!1,po=mr=Hd=vs=ca=Mt=0,Vn=Ul=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Ut(l),d=1<<f;i|=t[f],l&=~d}return Pi=i,rc(),s}function H_(t,i){Ke=null,G.H=wc,i===Tl||i===fc?(i=ay(),mt=3):i===ny?(i=ay(),mt=4):mt=i===s_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Qe===null&&(Mt=1,Ic(t,ur(i,t.current)))}function q_(){var t=G.H;return G.H=wc,t===null?wc:t}function F_(){var t=G.A;return G.A=JA,t}function Qd(){Mt=4,ua||(rt&4194048)!==rt&&dr.current!==null||(mo=!0),(ca&134217727)===0&&(vs&134217727)===0||St===null||da(St,rt,mr,!1)}function Xd(t,i,s){var l=dt;dt|=2;var f=q_(),d=F_();(St!==t||rt!==i)&&(Vc=null,_o(t,i)),i=!1;var E=Mt;e:do try{if(mt!==0&&Qe!==null){var T=Qe,C=Yn;switch(mt){case 8:$d(),E=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(i=!0);var q=mt;if(mt=0,Yn=null,vo(t,T,C,q),s&&mo){E=0;break e}break;default:q=mt,mt=0,Yn=null,vo(t,T,C,q)}}nb(),E=Mt;break}catch(J){H_(t,J)}while(!0);return i&&t.shellSuspendCounter++,bi=ds=null,dt=l,G.H=f,G.A=d,Qe===null&&(St=null,rt=0,rc()),E}function nb(){for(;Qe!==null;)G_(Qe)}function rb(t,i){var s=dt;dt|=2;var l=q_(),f=F_();St!==t||rt!==i?(Vc=null,Pc=Sn()+500,_o(t,i)):mo=nr(t,i);e:do try{if(mt!==0&&Qe!==null){i=Qe;var d=Yn;t:switch(mt){case 1:mt=0,Yn=null,vo(t,i,d,1);break;case 2:case 9:if(ry(d)){mt=0,Yn=null,K_(i);break}i=function(){mt!==2&&mt!==9||St!==t||(mt=7),Zr(t)},d.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:ry(d)?(mt=0,Yn=null,K_(i)):(mt=0,Yn=null,vo(t,i,d,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var T=Qe;if(!E||Iv(E)){mt=0,Yn=null;var C=T.sibling;if(C!==null)Qe=C;else{var q=T.return;q!==null?(Qe=q,kc(q)):Qe=null}break t}}mt=0,Yn=null,vo(t,i,d,5);break;case 6:mt=0,Yn=null,vo(t,i,d,6);break;case 8:$d(),Mt=6;break e;default:throw Error(a(462))}}ib();break}catch(J){H_(t,J)}while(!0);return bi=ds=null,G.H=l,G.A=f,dt=s,Qe!==null?0:(St=null,rt=0,rc(),Mt)}function ib(){for(;Qe!==null&&!Ka();)G_(Qe)}function G_(t){var i=__(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,i===null?kc(t):Qe=i}function K_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=f_(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=f_(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:hd(i);default:E_(s,i),i=Qe=Yg(i,Pi),i=__(s,i,Pi)}t.memoizedProps=t.pendingProps,i===null?kc(t):Qe=i}function vo(t,i,s,l){bi=ds=null,hd(i),uo=null,Nl=0;var f=i.return;try{if(YA(t,f,i,s,rt)){Mt=1,Ic(t,ur(s,t.current)),Qe=null;return}}catch(d){if(f!==null)throw Qe=f,d;Mt=1,Ic(t,ur(s,t.current)),Qe=null;return}i.flags&32768?(ct||l===1?t=!0:mo||(rt&536870912)!==0?t=!1:(ua=t=!0,(l===2||l===9||l===3||l===6)&&(l=dr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){Y_(i,ua);return}t=i.return;var s=QA(i.alternate,i,Pi);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=t}while(i!==null);Mt===0&&(Mt=5)}function Y_(t,i){do{var s=XA(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);Mt=6,Qe=null}function $_(t,i,s,l,f,d,E,T,C){t.cancelPendingCommit=null;do Lc();while(ln!==0);if((dt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=jf,Ki(t,s,d,E,T,C),t===St&&(Qe=St=null,rt=0),go=i,fa=t,yo=s,Gd=d,Kd=f,U_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lb(hi,function(){return J_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ce.p,ce.p=2,E=dt,dt|=4;try{WA(t,i,s)}finally{dt=E,ce.p=f,G.T=l}}ln=1,Q_(),X_(),W_()}}function Q_(){if(ln===1){ln=0;var t=fa,i=go,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ce.p;ce.p=2;var f=dt;dt|=4;try{O_(i,t);var d=lm,E=Lg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&kg(T.ownerDocument.documentElement,T)){if(C!==null&&xf(T)){var q=C.start,J=C.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),xe=T.textContent.length,Oe=Math.min(C.start,xe),vt=C.end===void 0?Oe:Math.min(C.end,xe);!$.extend&&Oe>vt&&(E=vt,vt=Oe,Oe=E);var L=xg(T,Oe),V=xg(T,vt);if(L&&V&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var B=ne.createRange();B.setStart(L.node,L.offset),$.removeAllRanges(),Oe>vt?($.addRange(B),$.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),$.addRange(B))}}}}for(ne=[],$=T;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Qc=!!om,lm=om=null}finally{dt=f,ce.p=l,G.T=s}}t.current=i,ln=2}}function X_(){if(ln===2){ln=0;var t=fa,i=go,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ce.p;ce.p=2;var f=dt;dt|=4;try{I_(t,i.alternate,i)}finally{dt=f,ce.p=l,G.T=s}}ln=3}}function W_(){if(ln===4||ln===3){ln=0,Us();var t=fa,i=go,s=yo,l=U_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,go=fa=null,Z_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ha=null),Yi(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,f=ce.p,ce.p=2,G.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{G.T=i,ce.p=f}}(yo&3)!==0&&Lc(),Zr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Yd?zl++:(zl=0,Yd=t):zl=0,jl(0)}}function Z_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function Lc(t){return Q_(),X_(),W_(),J_()}function J_(){if(ln!==5)return!1;var t=fa,i=Gd;Gd=0;var s=Yi(yo),l=G.T,f=ce.p;try{ce.p=32>s?32:s,G.T=null,s=Kd,Kd=null;var d=fa,E=yo;if(ln=0,go=fa=null,yo=0,(dt&6)!==0)throw Error(a(331));var T=dt;if(dt|=4,k_(d.current),P_(d,d.current,E,s),dt=T,jl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ce.p=f,G.T=l,Z_(t,i)}}function ev(t,i,s){i=ur(s,i),i=bd(t.stateNode,i,2),t=na(t,i,2),t!==null&&(Tr(t,2),Zr(t))}function Tt(t,i,s){if(t.tag===3)ev(t,t,s);else for(;i!==null;){if(i.tag===3){ev(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=ur(s,t),s=i_(2),l=na(i,s,2),l!==null&&(a_(s,l,i,t),Tr(l,2),Zr(l));break}}i=i.return}}function Wd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new eb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Bd=!0,f.add(s),t=ab.bind(null,t,i,s),i.then(t,t))}function ab(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,St===t&&(rt&s)===s&&(Mt===4||Mt===3&&(rt&62914560)===rt&&300>Sn()-Fd?(dt&2)===0&&_o(t,0):Hd|=s,po===rt&&(po=0)),Zr(t)}function tv(t,i){i===0&&(i=$a()),t=Js(t,i),t!==null&&(Tr(t,i),Zr(t))}function sb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),tv(t,s)}function ob(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),tv(t,s)}function lb(t,i){return ci(t,i)}var Uc=null,Eo=null,Zd=!1,zc=!1,Jd=!1,Es=0;function Zr(t){t!==Eo&&t.next===null&&(Eo===null?Uc=Eo=t:Eo=Eo.next=t),zc=!0,Zd||(Zd=!0,cb())}function jl(t,i){if(!Jd&&zc){Jd=!0;do for(var s=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ut(42|t)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,av(l,d))}else d=rt,d=fi(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||nr(l,d)||(s=!0,av(l,d));l=l.next}while(s);Jd=!1}}function ub(){nv()}function nv(){zc=Zd=!1;var t=0;Es!==0&&(_b()&&(t=Es),Es=0);for(var i=Sn(),s=null,l=Uc;l!==null;){var f=l.next,d=rv(l,i);d===0?(l.next=null,s===null?Uc=f:s.next=f,f===null&&(Eo=s)):(s=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=f}jl(t)}function rv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Ut(d),T=1<<E,C=f[E];C===-1?((T&s)===0||(T&l)!==0)&&(f[E]=Gi(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=St,s=rt,s=fi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||nr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&wn(l),Yi(s)){case 2:case 8:s=Hi;break;case 32:s=hi;break;case 268435456:s=er;break;default:s=hi}return l=iv.bind(null,t),s=ci(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Lc()&&t.callbackNode!==s)return null;var l=rt;return l=fi(t,t===St?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(j_(t,l,i),rv(t,Sn()),t.callbackNode!=null&&t.callbackNode===s?iv.bind(null,t):null)}function av(t,i){if(Lc())return null;j_(t,i,!0)}function cb(){Eb(function(){(dt&6)!==0?ci(Ya,ub):nv()})}function em(){return Es===0&&(Es=di()),Es}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bs(""+t)}function ov(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function hb(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=sv((f[ue]||null).action),E=l.submitter;E&&(i=(i=E[ue]||null)?sv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Hs("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var C=E?ov(f,E):new FormData(f);Ed(s,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?ov(f,E):new FormData(f),Ed(s,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var tm=0;tm<zf.length;tm++){var nm=zf[tm],fb=nm.toLowerCase(),db=nm[0].toUpperCase()+nm.slice(1);Ar(fb,"on"+db)}Ar(jg,"onAnimationEnd"),Ar(Bg,"onAnimationIteration"),Ar(Hg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(NA,"onTransitionRun"),Ar(OA,"onTransitionStart"),Ar(MA,"onTransitionCancel"),Ar(qg,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function lv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){Rc(J)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){Rc(J)}f.currentTarget=null,d=C}}}}function Xe(t,i){var s=i[Ae];s===void 0&&(s=i[Ae]=new Set);var l=t+"__bubble";s.has(l)||(uv(i,t,2,!1),s.add(l))}function rm(t,i,s){var l=0;i&&(l|=4),uv(s,t,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[jc]){t[jc]=!0,ut.forEach(function(s){s!=="selectionchange"&&(mb.has(s)||rm(s,!1,t),rm(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jc]||(i[jc]=!0,rm("selectionchange",!1,i))}}function uv(t,i,s,l){switch(Pv(i)){case 2:var f=Bb;break;case 8:f=Hb;break;default:f=_m}s=f.bind(null,i,s,t),f=void 0,!or||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function am(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=He(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Hu(function(){var q=d,J=sr(s),ne=[];e:{var K=Fg.get(t);if(K!==void 0){var $=Hs,xe=t;switch(t){case"keypress":if(qr(s)===0)break e;case"keydown":case"keyup":$=$s;break;case"focusin":xe="focus",$=Gs;break;case"focusout":xe="blur",$=Gs;break;case"beforeblur":case"afterblur":$=Gs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Xu;break;case jg:case Bg:case Hg:$=Ks;break;case qg:$=Zu;break;case"scroll":case"scrollend":$=qu;break;case"wheel":$=Qs;break;case"copy":case"cut":case"paste":$=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hl;break;case"toggle":case"beforetoggle":$=ec}var Oe=(i&4)!==0,vt=!Oe&&(t==="scroll"||t==="scrollend"),L=Oe?K!==null?K+"Capture":null:K;Oe=[];for(var V=q,B;V!==null;){var te=V;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||L===null||(te=Ja(V,L),te!=null&&Oe.push(Hl(V,te,B))),vt)break;V=V.return}0<Oe.length&&(K=new $(K,xe,null,s,J),ne.push({event:K,listeners:Oe}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",K&&s!==gi&&(xe=s.relatedTarget||s.fromElement)&&(He(xe)||xe[ge]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(xe=s.relatedTarget||s.toElement,$=q,xe=xe?He(xe):null,xe!==null&&(vt=u(xe),Oe=xe.tag,xe!==vt||Oe!==5&&Oe!==27&&Oe!==6)&&(xe=null)):($=null,xe=q),$!==xe)){if(Oe=lr,te="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=hl,te="onPointerLeave",L="onPointerEnter",V="pointer"),vt=$==null?K:Et($),B=xe==null?K:Et(xe),K=new Oe(te,V+"leave",$,s,J),K.target=vt,K.relatedTarget=B,te=null,He(J)===q&&(Oe=new Oe(L,V+"enter",xe,s,J),Oe.target=B,Oe.relatedTarget=vt,te=Oe),vt=te,$&&xe)t:{for(Oe=$,L=xe,V=0,B=Oe;B;B=To(B))V++;for(B=0,te=L;te;te=To(te))B++;for(;0<V-B;)Oe=To(Oe),V--;for(;0<B-V;)L=To(L),B--;for(;V--;){if(Oe===L||L!==null&&Oe===L.alternate)break t;Oe=To(Oe),L=To(L)}Oe=null}else Oe=null;$!==null&&cv(ne,K,$,Oe,!1),xe!==null&&vt!==null&&cv(ne,vt,xe,Oe,!0)}}e:{if(K=q?Et(q):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var _e=Dg;else if(Gt(K))if(Ng)_e=IA;else{_e=bA;var Ye=AA}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&il(q.elementType)&&(_e=Dg):_e=RA;if(_e&&(_e=_e(t,q))){Ti(ne,_e,s,J);break e}Ye&&Ye(t,K,q),t==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Wi(K,"number",K.value)}switch(Ye=q?Et(q):window,t){case"focusin":(Gt(Ye)||Ye.contentEditable==="true")&&(Xs=Ye,kf=q,ml=null);break;case"focusout":ml=kf=Xs=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Ug(ne,s,J);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":Ug(ne,s,J)}var Ie;if(Kr)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else tt?X(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(_&&s.locale!=="ko"&&(tt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&tt&&(Ie=sl()):(Hr=J,Zi="value"in Hr?Hr.value:Hr.textContent,tt=!0)),Ye=Bc(q,Me),0<Ye.length&&(Me=new ul(Me,t,null,s,J),ne.push({event:Me,listeners:Ye}),Ie?Me.data=Ie:(Ie=fe(s),Ie!==null&&(Me.data=Ie)))),(Ie=y?Ft(t,s):nt(t,s))&&(Me=Bc(q,"onBeforeInput"),0<Me.length&&(Ye=new ul("onBeforeInput","beforeinput",null,s,J),ne.push({event:Ye,listeners:Me}),Ye.data=Ie)),hb(ne,t,q,s,J)}lv(ne,i)})}function Hl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Bc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ja(t,s),f!=null&&l.unshift(Hl(t,f,d)),f=Ja(t,i),f!=null&&l.push(Hl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,i,s,l,f){for(var d=i._reactName,E=[];s!==null&&s!==l;){var T=s,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,f?(q=Ja(s,d),q!=null&&E.unshift(Hl(s,q,C))):f||(q=Ja(s,d),q!=null&&E.push(Hl(s,q,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(pb,`
`).replace(gb,"")}function fv(t,i){return i=hv(i),hv(t)===i}function Hc(){}function _t(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ar(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ar(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,s,l);break;case"style":rl(t,l,d);break;case"data":if(i!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",f.name,f,null),_t(t,i,"formEncType",f.formEncType,f,null),_t(t,i,"formMethod",f.formMethod,f,null),_t(t,i,"formTarget",f.formTarget,f,null)):(_t(t,i,"encType",f.encType,f,null),_t(t,i,"method",f.method,f,null),_t(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Bn(t,"popover",l);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Df.get(s)||s,Bn(t,s,l))}}function sm(t,i,s,l,f,d){switch(s){case"style":rl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ar(t,l):(typeof l=="number"||typeof l=="bigint")&&ar(t,""+l);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[ue]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Bn(t,s,l)}}}function un(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}f&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":Xe("invalid",t);var T=d=E=f=null,C=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:_t(t,i,l,J,s,null)}}Xa(t,d,T,C,q,E,f,!1),js(t);return;case"select":Xe("invalid",t),l=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:_t(t,i,f,T,s,null)}i=d,s=E,t.multiple=!!l,i!=null?pi(t,!!l,i,!1):s!=null&&pi(t,!!l,s,!0);return;case"textarea":Xe("invalid",t),d=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:_t(t,i,E,T,s,null)}Wa(t,l,f,d),js(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,C,l,s,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Xe(Bl[l],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,q,l,s,null)}return;default:if(il(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&sm(t,i,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&_t(t,i,T,l,s,null))}function yb(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,q=null,J=null;for($ in s){var ne=s[$];if(s.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty($)||_t(t,i,$,null,l,ne)}}for(var K in l){var $=l[K];if(ne=s[K],l.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":J=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==ne&&_t(t,i,K,$,l,ne)}}Hn(t,E,T,C,q,J,d,f);return;case"select":$=E=T=K=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,C)}for(f in l)if(d=l[f],C=s[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&_t(t,i,f,d,l,C)}i=T,s=E,l=$,K!=null?pi(t,!!s,K,!1):!!l!=!!s&&(i!=null?pi(t,!!s,i,!0):pi(t,!!s,s?[]:"",!1));return;case"textarea":$=K=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(t,i,T,null,l,f)}for(E in l)if(f=l[E],d=s[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&_t(t,i,E,f,l,d)}gt(t,K,$);return;case"option":for(var xe in s)if(K=s[xe],s.hasOwnProperty(xe)&&K!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:_t(t,i,xe,null,l,K)}for(C in l)if(K=l[C],$=s[C],l.hasOwnProperty(C)&&K!==$&&(K!=null||$!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:_t(t,i,C,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)K=s[Oe],s.hasOwnProperty(Oe)&&K!=null&&!l.hasOwnProperty(Oe)&&_t(t,i,Oe,null,l,K);for(q in l)if(K=l[q],$=s[q],l.hasOwnProperty(q)&&K!==$&&(K!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:_t(t,i,q,K,l,$)}return;default:if(il(i)){for(var vt in s)K=s[vt],s.hasOwnProperty(vt)&&K!==void 0&&!l.hasOwnProperty(vt)&&sm(t,i,vt,void 0,l,K);for(J in l)K=l[J],$=s[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||sm(t,i,J,K,l,$);return}}for(var L in s)K=s[L],s.hasOwnProperty(L)&&K!=null&&!l.hasOwnProperty(L)&&_t(t,i,L,null,l,K);for(ne in l)K=l[ne],$=s[ne],!l.hasOwnProperty(ne)||K===$||K==null&&$==null||_t(t,i,ne,K,l,$)}var om=null,lm=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function um(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cm=null;function _b(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(Tb)}:pv;function Tb(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function yv(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&ql(E.documentElement),s&2&&ql(E.body),s&4)for(s=E.head,ql(s),E=s.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[Te]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){t.removeChild(d),Wl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Wl(i)}function hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hm(s),we(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function wb(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Te])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Rr(t.nextSibling),t===null)break}return null}function Sb(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Rr(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ab(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Rr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var dm=null;function _v(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function vv(t,i,s){switch(i=qc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);we(t)}var pr=new Map,Ev=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=ce.d;ce.d={f:bb,r:Rb,D:Ib,C:Cb,L:Db,m:Nb,X:Mb,S:Ob,M:Pb};function bb(){var t=Vi.f(),i=xc();return t||i}function Rb(t){var i=at(t);i!==null&&i.tag===5&&i.type==="form"?jy(i):Vi.r(t)}var wo=typeof document>"u"?null:document;function Tv(t,i,s){var l=wo;if(l&&typeof i=="string"&&i){var f=zt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Ev.has(f)||(Ev.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),un(i,"link",t),Ue(i),l.head.appendChild(i)))}}function Ib(t){Vi.D(t),Tv("dns-prefetch",t,null)}function Cb(t,i){Vi.C(t,i),Tv("preconnect",t,i)}function Db(t,i,s){Vi.L(t,i,s);var l=wo;if(l&&t&&i){var f='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+zt(s.imageSizes)+'"]')):f+='[href="'+zt(t)+'"]';var d=f;switch(i){case"style":d=So(t);break;case"script":d=Ao(t)}pr.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),pr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Fl(d))||i==="script"&&l.querySelector(Gl(d))||(i=l.createElement("link"),un(i,"link",t),Ue(i),l.head.appendChild(i)))}}function Nb(t,i){Vi.m(t,i);var s=wo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!pr.has(d)&&(t=v({rel:"modulepreload",href:t},i),pr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(d)))return}l=s.createElement("link"),un(l,"link",t),Ue(l),s.head.appendChild(l)}}}function Ob(t,i,s){Vi.S(t,i,s);var l=wo;if(l&&t){var f=lt(l).hoistableStyles,d=So(t);i=i||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Fl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=pr.get(d))&&mm(t,s);var C=E=l.createElement("link");Ue(C),un(C,"link",t),C._p=new Promise(function(q,J){C.onload=q,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function Mb(t,i){Vi.X(t,i);var s=wo;if(s&&t){var l=lt(s).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=s.querySelector(Gl(f)),d||(t=v({src:t,async:!0},i),(i=pr.get(f))&&pm(t,i),d=s.createElement("script"),Ue(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Pb(t,i){Vi.M(t,i);var s=wo;if(s&&t){var l=lt(s).hoistableScripts,f=Ao(t),d=l.get(f);d||(d=s.querySelector(Gl(f)),d||(t=v({src:t,async:!0,type:"module"},i),(i=pr.get(f))&&pm(t,i),d=s.createElement("script"),Ue(d),un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function wv(t,i,s,l){var f=(f=Ne.current)?Fc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=So(s.href),s=lt(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=So(s.href);var d=lt(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Fl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),pr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},pr.set(t,s),d||Vb(f,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ao(s),s=lt(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function So(t){return'href="'+zt(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),un(i,"link",s),Ue(i),t.head.appendChild(i))}function Ao(t){return'[src="'+zt(t)+'"]'}function Gl(t){return"script[async]"+t}function Av(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+zt(s.href)+'"]');if(l)return i.instance=l,Ue(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ue(l),un(l,"style",f),Gc(l,s.precedence,t),i.instance=l;case"stylesheet":f=So(s.href);var d=t.querySelector(Fl(f));if(d)return i.state.loading|=4,i.instance=d,Ue(d),d;l=Sv(s),(f=pr.get(f))&&mm(l,f),d=(t.ownerDocument||t).createElement("link"),Ue(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),un(d,"link",l),i.state.loading|=4,Gc(d,s.precedence,t),i.instance=d;case"script":return d=Ao(s.src),(f=t.querySelector(Gl(d)))?(i.instance=f,Ue(f),f):(l=s,(f=pr.get(d))&&(l=v({},s),pm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ue(f),un(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,s.precedence,t));return i.instance}function Gc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function bv(t,i,s){if(Kc===null){var l=new Map,f=Kc=new Map;f.set(s,l)}else f=Kc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Te]||d[re]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function Rv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function xb(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function kb(){}function Lb(t,i,s){if(Kl===null)throw Error(a(475));var l=Kl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=So(s.href),d=t.querySelector(Fl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ue(d);return}d=t.ownerDocument||t,s=Sv(s),(f=pr.get(f))&&mm(s,f),d=d.createElement("link"),Ue(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),un(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ub(){if(Kl===null)throw Error(a(475));var t=Kl;return t.stylesheets&&t.count===0&&gm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&gm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $c=null;function gm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$c=new Map,i.forEach(zb,t),$c=null,Yc.call(t))}function zb(t,i){if(!(i.state.loading&4)){var s=$c.get(t);if(s)var l=s.get(null);else{s=new Map,$c.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,f),s.set(E,f),this.count++,l=Yc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Yl={$$typeof:se,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function jb(t,i,s,l,f,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cv(t,i,s,l,f,d,E,T,C,q,J,ne){return t=new jb(t,i,s,E,T,C,q,ne),i=1,d===!0&&(i|=24),d=Fn(3,null,null,i),t.current=d,d.stateNode=t,i=Wf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},td(d),t}function Dv(t){return t?(t=eo,t):eo}function Nv(t,i,s,l,f,d){f=Dv(f),l.context===null?l.context=f:l.pendingContext=f,l=ta(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=na(t,l,i),s!==null&&(Qn(s,t,i),Sl(s,t,i))}function Ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function ym(t,i){Ov(t,i),(t=t.alternate)&&Ov(t,i)}function Mv(t){if(t.tag===13){var i=Js(t,67108864);i!==null&&Qn(i,t,67108864),ym(t,67108864)}}var Qc=!0;function Bb(t,i,s,l){var f=G.T;G.T=null;var d=ce.p;try{ce.p=2,_m(t,i,s,l)}finally{ce.p=d,G.T=f}}function Hb(t,i,s,l){var f=G.T;G.T=null;var d=ce.p;try{ce.p=8,_m(t,i,s,l)}finally{ce.p=d,G.T=f}}function _m(t,i,s,l){if(Qc){var f=vm(l);if(f===null)am(t,i,l,Xc,s),Vv(t,l);else if(Fb(f,t,i,s,l))l.stopPropagation();else if(Vv(t,l),i&4&&-1<qb.indexOf(t)){for(;f!==null;){var d=at(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=zn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Ut(E);T.entanglements[1]|=C,E&=~C}Zr(d),(dt&6)===0&&(Pc=Sn()+500,jl(0))}}break;case 13:T=Js(d,2),T!==null&&Qn(T,d,2),xc(),ym(d,2)}if(d=vm(l),d===null&&am(t,i,l,Xc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else am(t,i,l,null,s)}}function vm(t){return t=sr(t),Em(t)}var Xc=null;function Em(t){if(Xc=null,t=He(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(el()){case Ya:return 2;case Hi:return 8;case hi:case Er:return 32;case er:return 268435456;default:return 32}default:return 32}}var Tm=!1,pa=null,ga=null,ya=null,$l=new Map,Ql=new Map,_a=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,i){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Xl(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=at(i),i!==null&&Mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Fb(t,i,s,l,f){switch(i){case"focusin":return pa=Xl(pa,t,i,s,l,f),!0;case"dragenter":return ga=Xl(ga,t,i,s,l,f),!0;case"mouseover":return ya=Xl(ya,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Xl($l.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Xl(Ql.get(d)||null,t,i,s,l,f)),!0}return!1}function xv(t){var i=He(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,z(t.priority,function(){if(s.tag===13){var l=$n();l=jr(l);var f=Js(s,l);f!==null&&Qn(f,s,l),ym(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=vm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);gi=l,s.target.dispatchEvent(l),gi=null}else return i=at(s),i!==null&&Mv(i),t.blockedOn=s,!1;i.shift()}return!0}function kv(t,i,s){Wc(t)&&s.delete(i)}function Gb(){Tm=!1,pa!==null&&Wc(pa)&&(pa=null),ga!==null&&Wc(ga)&&(ga=null),ya!==null&&Wc(ya)&&(ya=null),$l.forEach(kv),Ql.forEach(kv)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,Tm||(Tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gb)))}var Jc=null;function Lv(t){Jc!==t&&(Jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Em(l||s)===null)continue;break}var d=at(s);d!==null&&(t.splice(i,3),i-=3,Ed(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Wl(t){function i(C){return Zc(C,t)}pa!==null&&Zc(pa,t),ga!==null&&Zc(ga,t),ya!==null&&Zc(ya,t),$l.forEach(i),Ql.forEach(i);for(var s=0;s<_a.length;s++){var l=_a[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_a.length&&(s=_a[0],s.blockedOn===null);)xv(s),s.blockedOn===null&&_a.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],E=f[ue]||null;if(typeof d=="function")E||Lv(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[ue]||null)T=E.formAction;else if(Em(f)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Lv(s)}}}function wm(t){this._internalRoot=t}eh.prototype.render=wm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=$n();Nv(s,l,t,i,null,null)},eh.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nv(t.current,2,null,t,null,null),xc(),i[ge]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=D();t={blockedOn:null,target:t,priority:i};for(var s=0;s<_a.length&&i!==0&&i<_a[s].priority;s++);_a.splice(s,0,t),s===0&&xv(t)}};var Uv=e.version;if(Uv!=="19.1.0")throw Error(a(527,Uv,"19.1.0"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Kb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ot=th.inject(Kb),Ge=th}catch{}}return Jl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=e_,d=t_,E=n_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Cv(t,1,!1,null,null,s,l,f,d,E,T,null),t[ge]=i.current,im(t),new wm(i)},Jl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=e_,E=t_,T=n_,C=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=Cv(t,1,!0,i,s??null,l,f,d,E,T,C,q),i.context=Dv(null),s=i.current,l=$n(),l=jr(l),f=ta(l),f.callback=null,na(s,f,l),s=l,i.current.lanes=s,Tr(i,s),Zr(i),t[ge]=i.current,im(t),new eh(i)},Jl.version="19.1.0",Jl}var $v;function nR(){if($v)return bm.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=tR(),bm.exports}var rR=nR();const iR=a0(rR),aR="modulepreload",sR=function(r){return"/"+r},Qv={},oR=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(n.map(g=>{if(g=sR(g),g in Qv)return;Qv[g]=!0;const v=g.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":aR,v||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),v)return new Promise((O,U)=>{w.addEventListener("load",O),w.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o0=r=>{throw TypeError(r)},lR=(r,e,n)=>e.has(r)||o0("Cannot "+n),Dm=(r,e,n)=>(lR(r,e,"read from private field"),n?n.call(r):e.get(r)),uR=(r,e,n)=>e.has(r)?o0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Xv="popstate";function cR(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Bi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),yu("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Va(u))}function a(o,u){Pt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fR(e,n,a,r)}function $e(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function Wv(r,e){return{usr:r.state,key:r.key,idx:e}}function yu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bi(e):e,state:n,key:e&&e.key||a||hR()}}function Va({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bi(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function fR(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function S(){m="POP";let Y=v(),Z=Y==null?null:Y-g;g=Y,p&&p({action:m,location:W.location,delta:Z})}function w(Y,Z){m="PUSH";let de=yu(W.location,Y,Z);n&&n(de,Y),g=v()+1;let se=Wv(de,g),Re=W.createHref(de);try{h.pushState(se,"",Re)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(Re)}u&&p&&p({action:m,location:W.location,delta:1})}function O(Y,Z){m="REPLACE";let de=yu(W.location,Y,Z);n&&n(de,Y),g=v();let se=Wv(de,g),Re=W.createHref(de);h.replaceState(se,"",Re),u&&p&&p({action:m,location:W.location,delta:0})}function U(Y){return l0(Y)}let W={get action(){return m},get location(){return r(o,h)},listen(Y){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,S),p=Y,()=>{o.removeEventListener(Xv,S),p=null}},createHref(Y){return e(o,Y)},createURL:U,encodeLocation(Y){let Z=U(Y);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:O,go(Y){return h.go(Y)}};return W}function l0(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Va(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var ru,Zv=class{constructor(r){if(uR(this,ru,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Dm(this,ru).has(r))return Dm(this,ru).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Dm(this,ru).set(r,e)}};ru=new WeakMap;var dR=new Set(["lazy","caseSensitive","path","id","index","children"]);function mR(r){return dR.has(r)}var pR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function gR(r){return pR.has(r)}function yR(r){return r.index===!0}function _u(r,e,n=[],a={},o=!1){return r.map((u,h)=>{let m=[...n,String(h)],p=typeof u.id=="string"?u.id:m.join("-");if($e(u.index!==!0||!u.children,"Cannot specify children on an index route"),$e(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),yR(u)){let g={...u,...e(u),id:p};return a[p]=g,g}else{let g={...u,...e(u),id:p,children:void 0};return a[p]=g,u.children&&(g.children=_u(u.children,e,m,a,o)),g}})}function wa(r,e,n="/"){return hh(r,e,n,!1)}function hh(r,e,n,a){let o=typeof e=="string"?Bi(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let h=u0(r);vR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=NR(u);m=CR(h[p],g,a)}return m}function _R(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function u0(r,e=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=ei([a,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&($e(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),u0(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:RR(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of c0(u.path))o(u,h,m)}),e}function c0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=c0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function vR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:IR(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var ER=/^:[\w-]+$/,TR=3,wR=2,SR=1,AR=10,bR=-2,Jv=r=>r==="*";function RR(r,e){let n=r.split("/"),a=n.length;return n.some(Jv)&&(a+=bR),e&&(a+=wR),n.filter(o=>!Jv(o)).reduce((o,u)=>o+(ER.test(u)?TR:u===""?SR:AR),a)}function IR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function CR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:ei([u,S.pathname]),pathnameBase:VR(ei([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=ei([u,S.pathnameBase]))}return h}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=DR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:S},w)=>{if(v==="*"){let U=m[w]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[w];return S&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function DR(r,e=!1,n=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function NR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function OR({basename:r,pathname:e}){return e==="/"?r:ei([r,e])}function MR(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Bi(r):r;return{pathname:n?n.startsWith("/")?n:PR(n,e):e,search:xR(a),hash:kR(o)}}function PR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h0(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xh(r){let e=h0(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Wh(r,e,n,a=!1){let o;typeof r=="string"?o=Bi(r):(o={...r},$e(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!a&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=MR(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ei=r=>r.join("/").replace(/\/\/+/g,"/"),VR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Rh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var f0=["POST","PUT","PATCH","DELETE"],LR=new Set(f0),UR=["GET",...f0],zR=new Set(UR),jR=new Set([301,302,303,307,308]),BR=new Set([307,308]),Om={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=r=>qR.test(r),FR=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),d0="remix-router-transitions",m0=Symbol("ResetLoaderData");function GR(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";$e(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||FR,u={},h=_u(r.routes,o,void 0,u),m,p=r.basename||"/",g=r.dataStrategy||XR,v={unstable_middleware:!1,...r.future},S=null,w=new Set,O=null,U=null,W=null,Y=r.hydrationData!=null,Z=wa(h,r.history.location,p),de=!1,se=null,Re;if(Z==null&&!r.patchRoutesOnNavigation){let D=gr(404,{pathname:r.history.location.pathname}),{matches:z,route:F}=hE(h);Re=!0,Z=z,se={[F.id]:D}}else if(Z&&!r.hydrationData&&An(Z,h,r.history.location.pathname).active&&(Z=null),Z)if(Z.some(D=>D.route.lazy))Re=!1;else if(!Z.some(D=>D.route.loader))Re=!0;else{let D=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let F=Z.findIndex(re=>z[re.route.id]!==void 0);Re=Z.slice(0,F+1).every(re=>!Xm(re.route,D,z))}else Re=Z.every(F=>!Xm(F.route,D,z))}else{Re=!1,Z=[];let D=An(null,h,r.history.location.pathname);D.active&&D.matches&&(de=!0,Z=D.matches)}let me,H={historyAction:r.history.action,location:r.history.location,matches:Z,initialized:Re,navigation:Om,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||se,fetchers:new Map,blockers:new Map},M="POP",b=!1,R,P=!1,x=new Map,k=null,I=!1,qe=!1,et=new Set,G=new Map,ce=0,pe=-1,je=new Map,N=new Set,ee=new Map,he=new Map,le=new Set,Se=new Map,Be,Ne=null;function Lt(){if(S=r.history.listen(({action:D,location:z,delta:F})=>{if(Be){Be(),Be=void 0;return}Pt(Se.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Gi({currentLocation:H.location,nextLocation:z,historyAction:D});if(re&&F!=null){let ue=new Promise(ge=>{Be=ge});r.history.go(F*-1),nr(re,{state:"blocked",location:z,proceed(){nr(re,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),ue.then(()=>r.history.go(F))},reset(){let ge=new Map(H.blockers);ge.set(re,eu),At({blockers:ge})}});return}return wn(D,z)}),n){o1(e,x);let D=()=>l1(e,x);e.addEventListener("pagehide",D),k=()=>e.removeEventListener("pagehide",D)}return H.initialized||wn("POP",H.location,{initialHydration:!0}),me}function pt(){S&&S(),k&&k(),w.clear(),R&&R.abort(),H.fetchers.forEach((D,z)=>Ut(z)),H.blockers.forEach((D,z)=>fi(z))}function Jn(D){return w.add(D),()=>w.delete(D)}function At(D,z={}){D.matches&&(D.matches=D.matches.map(ue=>{let ge=u[ue.route.id],Ae=ue.route;return Ae.element!==ge.element||Ae.errorElement!==ge.errorElement||Ae.hydrateFallbackElement!==ge.hydrateFallbackElement?{...ue,route:ge}:ue})),H={...H,...D};let F=[],re=[];H.fetchers.forEach((ue,ge)=>{ue.state==="idle"&&(le.has(ge)?F.push(ge):re.push(ge))}),le.forEach(ue=>{!H.fetchers.has(ue)&&!G.has(ue)&&F.push(ue)}),[...w].forEach(ue=>ue(H,{deletedFetchers:F,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),F.forEach(ue=>Ut(ue)),re.forEach(ue=>H.fetchers.delete(ue))}function mn(D,z,{flushSync:F}={}){let re=H.actionData!=null&&H.navigation.formMethod!=null&&kn(H.navigation.formMethod)&&H.navigation.state==="loading"&&D.state?._isRedirect!==!0,ue;z.actionData?Object.keys(z.actionData).length>0?ue=z.actionData:ue=null:re?ue=H.actionData:ue=null;let ge=z.loaderData?uE(H.loaderData,z.loaderData,z.matches||[],z.errors):H.loaderData,Ae=H.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Te,we)=>Ae.set(we,eu)));let ve=I?!1:Ki(D,z.matches||H.matches),Ee=b===!0||H.navigation.formMethod!=null&&kn(H.navigation.formMethod)&&D.state?._isRedirect!==!0;m&&(h=m,m=void 0),I||M==="POP"||(M==="PUSH"?r.history.push(D,D.state):M==="REPLACE"&&r.history.replace(D,D.state));let Ce;if(M==="POP"){let Te=x.get(H.location.pathname);Te&&Te.has(D.pathname)?Ce={currentLocation:H.location,nextLocation:D}:x.has(D.pathname)&&(Ce={currentLocation:D,nextLocation:H.location})}else if(P){let Te=x.get(H.location.pathname);Te?Te.add(D.pathname):(Te=new Set([D.pathname]),x.set(H.location.pathname,Te)),Ce={currentLocation:H.location,nextLocation:D}}At({...z,actionData:ue,loaderData:ge,historyAction:M,location:D,initialized:!0,navigation:Om,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Ee,blockers:Ae},{viewTransitionOpts:Ce,flushSync:F===!0}),M="POP",b=!1,P=!1,I=!1,qe=!1,Ne?.resolve(),Ne=null}async function xr(D,z){if(typeof D=="number"){r.history.go(D);return}let F=Qm(H.location,H.matches,p,D,z?.fromRouteId,z?.relative),{path:re,submission:ue,error:ge}=eE(!1,F,z),Ae=H.location,ve=yu(H.location,re,z&&z.state);ve={...ve,...r.history.encodeLocation(ve)};let Ee=z&&z.replace!=null?z.replace:void 0,Ce="PUSH";Ee===!0?Ce="REPLACE":Ee===!1||ue!=null&&kn(ue.formMethod)&&ue.formAction===H.location.pathname+H.location.search&&(Ce="REPLACE");let Te=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,we=(z&&z.flushSync)===!0,He=Gi({currentLocation:Ae,nextLocation:ve,historyAction:Ce});if(He){nr(He,{state:"blocked",location:ve,proceed(){nr(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),xr(D,z)},reset(){let at=new Map(H.blockers);at.set(He,eu),At({blockers:at})}});return}await wn(Ce,ve,{submission:ue,pendingError:ge,preventScrollReset:Te,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:we})}function ci(){Ne||(Ne=u1()),Fi(),At({revalidation:"loading"});let D=Ne.promise;return H.navigation.state==="submitting"?D:H.navigation.state==="idle"?(wn(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),D):(wn(M||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:P===!0}),D)}async function wn(D,z,F){R&&R.abort(),R=null,M=D,I=(F&&F.startUninterruptedRevalidation)===!0,Tr(H.location,H.matches),b=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let re=m||h,ue=F&&F.overrideNavigation,ge=F?.initialHydration&&H.matches&&H.matches.length>0&&!de?H.matches:wa(re,z,p),Ae=(F&&F.flushSync)===!0;if(ge&&H.initialized&&!qe&&n1(H.location,z)&&!(F&&F.submission&&kn(F.submission.formMethod))){mn(z,{matches:ge},{flushSync:Ae});return}let ve=An(ge,re,z.pathname);if(ve.active&&ve.matches&&(ge=ve.matches),!ge){let{error:lt,notFoundMatches:Ue,route:ut}=di(z.pathname);mn(z,{matches:Ue,loaderData:{},errors:{[ut.id]:lt}},{flushSync:Ae});return}R=new AbortController;let Ee=bo(r.history,z,R.signal,F&&F.submission),Ce=new Zv(r.unstable_getContext?await r.unstable_getContext():void 0),Te;if(F&&F.pendingError)Te=[ws(ge).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&kn(F.submission.formMethod)){let lt=await Ka(Ee,z,F.submission,ge,Ce,ve.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:Ae});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[Ue,ut]=lt.pendingActionResult;if(Xn(ut)&&vu(ut.error)&&ut.error.status===404){R=null,mn(z,{matches:lt.matches,loaderData:{},errors:{[Ue]:ut.error}});return}}ge=lt.matches||ge,Te=lt.pendingActionResult,ue=Mm(z,F.submission),Ae=!1,ve.active=!1,Ee=bo(r.history,Ee.url,Ee.signal)}let{shortCircuited:we,matches:He,loaderData:at,errors:Et}=await Us(Ee,z,ge,Ce,ve.active,ue,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,Ae,Te);we||(R=null,mn(z,{matches:He||ge,...cE(Te),loaderData:at,errors:Et}))}async function Ka(D,z,F,re,ue,ge,Ae,ve={}){Fi();let Ee=a1(z,F);if(At({navigation:Ee},{flushSync:ve.flushSync===!0}),ge){let we=await zr(re,z.pathname,D.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let He=ws(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[He,{type:"error",error:we.error}]}}else if(we.matches)re=we.matches;else{let{notFoundMatches:He,error:at,route:Et}=di(z.pathname);return{matches:He,pendingActionResult:[Et.id,{type:"error",error:at}]}}}let Ce,Te=fh(re,z);if(!Te.route.action&&!Te.route.lazy)Ce={type:"error",error:gr(405,{method:D.method,pathname:z.pathname,routeId:Te.route.id})};else{let we=Oo(o,u,D,re,Te,Ae?[]:a,ue),He=await er(D,we,ue,null);if(Ce=He[Te.route.id],!Ce){for(let at of re)if(He[at.route.id]){Ce=He[at.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(Ss(Ce)){let we;return ve&&ve.replace!=null?we=ve.replace:we=sE(Ce.response.headers.get("Location"),new URL(D.url),p)===H.location.pathname+H.location.search,await Er(D,Ce,!0,{submission:F,replace:we}),{shortCircuited:!0}}if(Xn(Ce)){let we=ws(re,Te.route.id);return(ve&&ve.replace)!==!0&&(M="PUSH"),{matches:re,pendingActionResult:[we.route.id,Ce,Te.route.id]}}return{matches:re,pendingActionResult:[Te.route.id,Ce]}}async function Us(D,z,F,re,ue,ge,Ae,ve,Ee,Ce,Te,we){let He=ge||Mm(z,Ae),at=Ae||ve||dE(He),Et=!I&&!Ce;if(ue){if(Et){let It=Sn(we);At({navigation:He,...It!==void 0?{actionData:It}:{}},{flushSync:Te})}let ke=await zr(F,z.pathname,D.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let It=ws(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[It]:ke.error}}}else if(ke.matches)F=ke.matches;else{let{error:It,notFoundMatches:mi,route:In}=di(z.pathname);return{matches:mi,loaderData:{},errors:{[In.id]:It}}}}let lt=m||h,{dsMatches:Ue,revalidatingFetchers:ut}=tE(D,re,o,u,r.history,H,F,at,z,Ce?[]:a,Ce===!0,qe,et,le,ee,N,lt,p,r.patchRoutesOnNavigation!=null,we);if(pe=++ce,!r.dataStrategy&&!Ue.some(ke=>ke.shouldLoad)&&ut.length===0){let ke=Lr();return mn(z,{matches:F,loaderData:{},errors:we&&Xn(we[1])?{[we[0]]:we[1].error}:null,...cE(we),...ke?{fetchers:new Map(H.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(Et){let ke={};if(!ue){ke.navigation=He;let It=Sn(we);It!==void 0&&(ke.actionData=It)}ut.length>0&&(ke.fetchers=el(ut)),At(ke,{flushSync:Te})}ut.forEach(ke=>{tr(ke.key),ke.controller&&G.set(ke.key,ke.controller)});let On=()=>ut.forEach(ke=>tr(ke.key));R&&R.signal.addEventListener("abort",On);let{loaderResults:an,fetcherResults:Xt}=await qi(Ue,ut,D,re);if(D.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",On),ut.forEach(ke=>G.delete(ke.key));let bn=nh(an);if(bn)return await Er(D,bn.result,!0,{replace:Ee}),{shortCircuited:!0};if(bn=nh(Xt),bn)return N.add(bn.key),await Er(D,bn.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:$i,errors:jn}=lE(H,F,an,we,ut,Xt);Ce&&H.errors&&(jn={...H.errors,...jn});let ir=Lr(),Bn=Ur(pe),Rn=ir||Bn||ut.length>0;return{matches:F,loaderData:$i,errors:jn,...Rn?{fetchers:new Map(H.fetchers)}:{}}}function Sn(D){if(D&&!Xn(D[1]))return{[D[0]]:D[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function el(D){return D.forEach(z=>{let F=H.fetchers.get(z.key),re=tu(void 0,F?F.data:void 0);H.fetchers.set(z.key,re)}),new Map(H.fetchers)}async function Ya(D,z,F,re){tr(D);let ue=(re&&re.flushSync)===!0,ge=m||h,Ae=Qm(H.location,H.matches,p,F,z,re?.relative),ve=wa(ge,Ae,p),Ee=An(ve,ge,Ae);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){Ge(D,z,gr(404,{pathname:Ae}),{flushSync:ue});return}let{path:Ce,submission:Te,error:we}=eE(!0,Ae,re);if(we){Ge(D,z,we,{flushSync:ue});return}let He=new Zv(r.unstable_getContext?await r.unstable_getContext():void 0),at=(re&&re.preventScrollReset)===!0;if(Te&&kn(Te.formMethod)){await Hi(D,z,Ce,ve,He,Ee.active,ue,at,Te);return}ee.set(D,{routeId:z,path:Ce}),await hi(D,z,Ce,ve,He,Ee.active,ue,at,Te)}async function Hi(D,z,F,re,ue,ge,Ae,ve,Ee){Fi(),ee.delete(D);let Ce=H.fetchers.get(D);ot(D,s1(Ee,Ce),{flushSync:Ae});let Te=new AbortController,we=bo(r.history,F,Te.signal,Ee);if(ge){let wt=await zr(re,new URL(we.url).pathname,we.signal,D);if(wt.type==="aborted")return;if(wt.type==="error"){Ge(D,z,wt.error,{flushSync:Ae});return}else if(wt.matches)re=wt.matches;else{Ge(D,z,gr(404,{pathname:F}),{flushSync:Ae});return}}let He=fh(re,F);if(!He.route.action&&!He.route.lazy){let wt=gr(405,{method:Ee.formMethod,pathname:F,routeId:z});Ge(D,z,wt,{flushSync:Ae});return}G.set(D,Te);let at=ce,Et=Oo(o,u,we,re,He,a,ue),Ue=(await er(we,Et,ue,D))[He.route.id];if(we.signal.aborted){G.get(D)===Te&&G.delete(D);return}if(le.has(D)){if(Ss(Ue)||Xn(Ue)){ot(D,Ta(void 0));return}}else{if(Ss(Ue))if(G.delete(D),pe>at){ot(D,Ta(void 0));return}else return N.add(D),ot(D,tu(Ee)),Er(we,Ue,!1,{fetcherSubmission:Ee,preventScrollReset:ve});if(Xn(Ue)){Ge(D,z,Ue.error);return}}let ut=H.navigation.location||H.location,On=bo(r.history,ut,Te.signal),an=m||h,Xt=H.navigation.state!=="idle"?wa(an,H.navigation.location,p):H.matches;$e(Xt,"Didn't find any matches after fetcher action");let bn=++ce;je.set(D,bn);let $i=tu(Ee,Ue.data);H.fetchers.set(D,$i);let{dsMatches:jn,revalidatingFetchers:ir}=tE(On,ue,o,u,r.history,H,Xt,Ee,ut,a,!1,qe,et,le,ee,N,an,p,r.patchRoutesOnNavigation!=null,[He.route.id,Ue]);ir.filter(wt=>wt.key!==D).forEach(wt=>{let wr=wt.key,Qi=H.fetchers.get(wr),Xi=tu(void 0,Qi?Qi.data:void 0);H.fetchers.set(wr,Xi),tr(wr),wt.controller&&G.set(wr,wt.controller)}),At({fetchers:new Map(H.fetchers)});let Bn=()=>ir.forEach(wt=>tr(wt.key));Te.signal.addEventListener("abort",Bn);let{loaderResults:Rn,fetcherResults:ke}=await qi(jn,ir,On,ue);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",Bn),je.delete(D),G.delete(D),ir.forEach(wt=>G.delete(wt.key)),H.fetchers.has(D)){let wt=Ta(Ue.data);H.fetchers.set(D,wt)}let It=nh(Rn);if(It)return Er(On,It.result,!1,{preventScrollReset:ve});if(It=nh(ke),It)return N.add(It.key),Er(On,It.result,!1,{preventScrollReset:ve});let{loaderData:mi,errors:In}=lE(H,Xt,Rn,void 0,ir,ke);Ur(bn),H.navigation.state==="loading"&&bn>pe?($e(M,"Expected pending action"),R&&R.abort(),mn(H.navigation.location,{matches:Xt,loaderData:mi,errors:In,fetchers:new Map(H.fetchers)})):(At({errors:In,loaderData:uE(H.loaderData,mi,Xt,In),fetchers:new Map(H.fetchers)}),qe=!1)}async function hi(D,z,F,re,ue,ge,Ae,ve,Ee){let Ce=H.fetchers.get(D);ot(D,tu(Ee,Ce?Ce.data:void 0),{flushSync:Ae});let Te=new AbortController,we=bo(r.history,F,Te.signal);if(ge){let ut=await zr(re,new URL(we.url).pathname,we.signal,D);if(ut.type==="aborted")return;if(ut.type==="error"){Ge(D,z,ut.error,{flushSync:Ae});return}else if(ut.matches)re=ut.matches;else{Ge(D,z,gr(404,{pathname:F}),{flushSync:Ae});return}}let He=fh(re,F);G.set(D,Te);let at=ce,Et=Oo(o,u,we,re,He,a,ue),Ue=(await er(we,Et,ue,D))[He.route.id];if(G.get(D)===Te&&G.delete(D),!we.signal.aborted){if(le.has(D)){ot(D,Ta(void 0));return}if(Ss(Ue))if(pe>at){ot(D,Ta(void 0));return}else{N.add(D),await Er(we,Ue,!1,{preventScrollReset:ve});return}if(Xn(Ue)){Ge(D,z,Ue.error);return}ot(D,Ta(Ue.data))}}async function Er(D,z,F,{submission:re,fetcherSubmission:ue,preventScrollReset:ge,replace:Ae}={}){z.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let ve=z.response.headers.get("Location");$e(ve,"Expected a Location header on the redirect Response"),ve=sE(ve,new URL(D.url),p);let Ee=yu(H.location,ve,{_isRedirect:!0});if(n){let Et=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Et=!0;else if(Rp(ve)){const lt=l0(ve,!0);Et=lt.origin!==e.location.origin||vr(lt.pathname,p)==null}if(Et){Ae?e.location.replace(ve):e.location.assign(ve);return}}R=null;let Ce=Ae===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:we,formEncType:He}=H.navigation;!re&&!ue&&Te&&we&&He&&(re=dE(H.navigation));let at=re||ue;if(BR.has(z.response.status)&&at&&kn(at.formMethod))await wn(Ce,Ee,{submission:{...at,formAction:ve},preventScrollReset:ge||b,enableViewTransition:F?P:void 0});else{let Et=Mm(Ee,re);await wn(Ce,Ee,{overrideNavigation:Et,fetcherSubmission:ue,preventScrollReset:ge||b,enableViewTransition:F?P:void 0})}}async function er(D,z,F,re){let ue,ge={};try{ue=await WR(g,D,z,re,F,!1)}catch(Ae){return z.filter(ve=>ve.shouldLoad).forEach(ve=>{ge[ve.route.id]={type:"error",error:Ae}}),ge}if(D.signal.aborted)return ge;for(let[Ae,ve]of Object.entries(ue))if(r1(ve)){let Ee=ve.result;ge[Ae]={type:"redirect",response:e1(Ee,D,Ae,z,p)}}else ge[Ae]=await JR(ve);return ge}async function qi(D,z,F,re){let ue=er(F,D,re,null),ge=Promise.all(z.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let Te=(await er(Ee.request,Ee.matches,re,Ee.key))[Ee.match.route.id];return{[Ee.key]:Te}}else return Promise.resolve({[Ee.key]:{type:"error",error:gr(404,{pathname:Ee.path})}})})),Ae=await ue,ve=(await ge).reduce((Ee,Ce)=>Object.assign(Ee,Ce),{});return{loaderResults:Ae,fetcherResults:ve}}function Fi(){qe=!0,ee.forEach((D,z)=>{G.has(z)&&et.add(z),tr(z)})}function ot(D,z,F={}){H.fetchers.set(D,z),At({fetchers:new Map(H.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ge(D,z,F,re={}){let ue=ws(H.matches,z);Ut(D),At({errors:{[ue.route.id]:F},fetchers:new Map(H.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function pn(D){return he.set(D,(he.get(D)||0)+1),le.has(D)&&le.delete(D),H.fetchers.get(D)||HR}function Ut(D){let z=H.fetchers.get(D);G.has(D)&&!(z&&z.state==="loading"&&je.has(D))&&tr(D),ee.delete(D),je.delete(D),N.delete(D),le.delete(D),et.delete(D),H.fetchers.delete(D)}function zs(D){let z=(he.get(D)||0)-1;z<=0?(he.delete(D),le.add(D)):he.set(D,z),At({fetchers:new Map(H.fetchers)})}function tr(D){let z=G.get(D);z&&(z.abort(),G.delete(D))}function kr(D){for(let z of D){let F=pn(z),re=Ta(F.data);H.fetchers.set(z,re)}}function Lr(){let D=[],z=!1;for(let F of N){let re=H.fetchers.get(F);$e(re,`Expected fetcher: ${F}`),re.state==="loading"&&(N.delete(F),D.push(F),z=!0)}return kr(D),z}function Ur(D){let z=[];for(let[F,re]of je)if(re<D){let ue=H.fetchers.get(F);$e(ue,`Expected fetcher: ${F}`),ue.state==="loading"&&(tr(F),je.delete(F),z.push(F))}return kr(z),z.length>0}function zn(D,z){let F=H.blockers.get(D)||eu;return Se.get(D)!==z&&Se.set(D,z),F}function fi(D){H.blockers.delete(D),Se.delete(D)}function nr(D,z){let F=H.blockers.get(D)||eu;$e(F.state==="unblocked"&&z.state==="blocked"||F.state==="blocked"&&z.state==="blocked"||F.state==="blocked"&&z.state==="proceeding"||F.state==="blocked"&&z.state==="unblocked"||F.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${z.state}`);let re=new Map(H.blockers);re.set(D,z),At({blockers:re})}function Gi({currentLocation:D,nextLocation:z,historyAction:F}){if(Se.size===0)return;Se.size>1&&Pt(!1,"A router only supports one blocker at a time");let re=Array.from(Se.entries()),[ue,ge]=re[re.length-1],Ae=H.blockers.get(ue);if(!(Ae&&Ae.state==="proceeding")&&ge({currentLocation:D,nextLocation:z,historyAction:F}))return ue}function di(D){let z=gr(404,{pathname:D}),F=m||h,{matches:re,route:ue}=hE(F);return{notFoundMatches:re,route:ue,error:z}}function $a(D,z,F){if(O=D,W=z,U=F||null,!Y&&H.navigation===Om){Y=!0;let re=Ki(H.location,H.matches);re!=null&&At({restoreScrollPosition:re})}return()=>{O=null,W=null,U=null}}function rr(D,z){return U&&U(D,z.map(re=>_R(re,H.loaderData)))||D.key}function Tr(D,z){if(O&&W){let F=rr(D,z);O[F]=W()}}function Ki(D,z){if(O){let F=rr(D,z),re=O[F];if(typeof re=="number")return re}return null}function An(D,z,F){if(r.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:hh(z,F,p,!0)}}else return{active:!0,matches:hh(z,F,p,!0)||[]};return{active:!1,matches:null}}async function zr(D,z,F,re){if(!r.patchRoutesOnNavigation)return{type:"success",matches:D};let ue=D;for(;;){let ge=m==null,Ae=m||h,ve=u;try{await r.patchRoutesOnNavigation({signal:F,path:z,matches:ue,fetcherKey:re,patch:(Te,we)=>{F.aborted||nE(Te,we,Ae,ve,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ue}}finally{ge&&!F.aborted&&(h=[...h])}if(F.aborted)return{type:"aborted"};let Ee=wa(Ae,z,p);if(Ee)return{type:"success",matches:Ee};let Ce=hh(Ae,z,p,!0);if(!Ce||ue.length===Ce.length&&ue.every((Te,we)=>Te.route.id===Ce[we].route.id))return{type:"success",matches:null};ue=Ce}}function jr(D){u={},m=_u(D,o,void 0,u)}function Yi(D,z,F=!1){let re=m==null;nE(D,z,m||h,u,o,F),re&&(h=[...h],At({}))}return me={get basename(){return p},get future(){return v},get state(){return H},get routes(){return h},get window(){return e},initialize:Lt,subscribe:Jn,enableScrollRestoration:$a,navigate:xr,fetch:Ya,revalidate:ci,createHref:D=>r.history.createHref(D),encodeLocation:D=>r.history.encodeLocation(D),getFetcher:pn,deleteFetcher:zs,dispose:pt,getBlocker:zn,deleteBlocker:fi,patchRoutes:Yi,_internalFetchControllers:G,_internalSetRoutes:jr,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){At(D)}},me}function KR(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Qm(r,e,n,a,o,u){let h,m;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){m=g;break}}else h=e,m=e[e.length-1];let p=Wh(a||".",Xh(h),vr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=Ip(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),S=v.getAll("index");v.delete("index"),S.filter(O=>O).forEach(O=>v.append("index",O));let w=v.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=OR({basename:n,pathname:p.pathname})),Va(p)}function eE(r,e,n){if(!n||!KR(n))return{path:e};if(n.formMethod&&!i1(n.formMethod))return{path:e,error:gr(405,{method:n.formMethod})};let a=()=>({path:e,error:gr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=E0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!kn(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[O,U])=>`${w}${O}=${U}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!kn(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}$e(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=Zm(n.formData),p=n.formData;else if(n.body instanceof FormData)m=Zm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=oE(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=oE(m)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(kn(g.formMethod))return{path:e,submission:g};let v=Bi(e);return r&&v.search&&Ip(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Va(v),submission:g}}function tE(r,e,n,a,o,u,h,m,p,g,v,S,w,O,U,W,Y,Z,de,se){let Re=se?Xn(se[1])?se[1].error:se[1].data:void 0,me=o.createURL(u.location),H=o.createURL(p),M;if(v&&u.errors){let I=Object.keys(u.errors)[0];M=h.findIndex(qe=>qe.route.id===I)}else if(se&&Xn(se[1])){let I=se[0];M=h.findIndex(qe=>qe.route.id===I)-1}let b=se?se[1].statusCode:void 0,R=b&&b>=400,P={currentUrl:me,currentParams:u.matches[0]?.params||{},nextUrl:H,nextParams:h[0].params,...m,actionResult:Re,actionStatus:b},x=h.map((I,qe)=>{let{route:et}=I,G=null;if(M!=null&&qe>M?G=!1:et.lazy?G=!0:et.loader==null?G=!1:v?G=Xm(et,u.loaderData,u.errors):YR(u.loaderData,u.matches[qe],I)&&(G=!0),G!==null)return Wm(n,a,r,I,g,e,G);let ce=R?!1:S||me.pathname+me.search===H.pathname+H.search||me.search!==H.search||$R(u.matches[qe],I),pe={...P,defaultShouldRevalidate:ce},je=Ih(I,pe);return Wm(n,a,r,I,g,e,je,pe)}),k=[];return U.forEach((I,qe)=>{if(v||!h.some(he=>he.route.id===I.routeId)||O.has(qe))return;let et=u.fetchers.get(qe),G=et&&et.state!=="idle"&&et.data===void 0,ce=wa(Y,I.path,Z);if(!ce){if(de&&G)return;k.push({key:qe,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(W.has(qe))return;let pe=fh(ce,I.path),je=new AbortController,N=bo(o,I.path,je.signal),ee=null;if(w.has(qe))w.delete(qe),ee=Oo(n,a,N,ce,pe,g,e);else if(G)S&&(ee=Oo(n,a,N,ce,pe,g,e));else{let he={...P,defaultShouldRevalidate:R?!1:S};Ih(pe,he)&&(ee=Oo(n,a,N,ce,pe,g,e,he))}ee&&k.push({key:qe,routeId:I.routeId,path:I.path,matches:ee,match:pe,request:N,controller:je})}),{dsMatches:x,revalidatingFetchers:k}}function Xm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function YR(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function $R(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Ih(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function nE(r,e,n,a,o,u){let h;if(r){let g=a[r];$e(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),h=g.children}else h=n;let m=[],p=[];if(e.forEach(g=>{let v=h.find(S=>p0(g,S));v?p.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=_u(m,o,[r||"_","patch",String(h?.length||"0")],a);h.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:S}=p[g],w=v,[O]=_u([S],o,[],{},!0);Object.assign(w,{element:O.element?O.element:w.element,errorElement:O.errorElement?O.errorElement:w.errorElement,hydrateFallbackElement:O.hydrateFallbackElement?O.hydrateFallbackElement:w.hydrateFallbackElement})}}function p0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>p0(n,o))):!1}var rE=new WeakMap,g0=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if($e(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=rE.get(o);h||(h={},rE.set(o,h));let m=h[r];if(m)return m;let p=(async()=>{let g=mR(r),S=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Pt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(S)Pt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await u();w!=null&&(Object.assign(o,{[r]:w}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return h[r]=p,p},iE=new WeakMap;function QR(r,e,n,a,o){let u=n[r.id];if($e(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=iE.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let S=(async()=>{$e(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),O={};for(let U in w){let W=w[U];if(W===void 0)continue;let Y=gR(U),de=u[U]!==void 0&&U!=="hasErrorBoundary";Y?Pt(!Y,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):de?Pt(!de,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):O[U]=W}Object.assign(u,O),Object.assign(u,{...a(u),lazy:void 0})})();return iE.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let h=Object.keys(r.lazy),m=[],p;for(let v of h){if(o&&o.includes(v))continue;let S=g0({key:v,route:r,manifest:n,mapRouteProperties:a});S&&(m.push(S),v===e&&(p=S))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function aE(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function XR(r){return r.matches.some(e=>e.route.unstable_middleware)?y0(r,!1,()=>aE(r),(e,n)=>({[n]:{type:"error",result:e}})):aE(r)}async function y0(r,e,n,a){let{matches:o,request:u,params:h,context:m}=r,p={handlerResult:void 0};try{let g=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(w=>[S.route.id,w]):[]),v=await _0({request:u,params:h,context:m},g,e,p,n);return e?v:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let v=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,v):v}}async function _0(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[p,g]=m,v=!1,S,w=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await _0(r,e,n,a,o,u+1)};try{let O=await g({request:r.request,params:r.params,context:r.context},w);return v?O===void 0?S:O:w()}catch(O){throw a.middlewareError?a.middlewareError.error!==O&&(a.middlewareError={routeId:p,error:O}):a.middlewareError={routeId:p,error:O},O}}function v0(r,e,n,a,o){let u=g0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=QR(a.route,kn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Wm(r,e,n,a,o,u,h,m=null){let p=!1,g=v0(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?Ih(a,{...m,defaultShouldRevalidate:v}):Ih(a,m):h},resolve(v){return p||h||v&&!kn(n.method)&&(a.route.lazy||a.route.loader)?ZR({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Oo(r,e,n,a,o,u,h,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:v0(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Wm(r,e,n,p,u,h,!0,m))}async function WR(r,e,n,a,o,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let h={request:e,params:n[0].params,context:o,matches:n},p=await r({...h,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=h;return y0(v,!1,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,w)=>({[w]:{type:"error",result:S}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function ZR({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,m,p=kn(r.method),g=p?"action":"loader",v=S=>{let w,O=new Promise((Y,Z)=>w=Z);m=()=>w(),r.signal.addEventListener("abort",m);let U=Y=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):S({request:r,params:e.params,context:u},...Y!==void 0?[Y]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(Z=>U(Z)):U())}}catch(Y){return{type:"error",result:Y}}})();return Promise.race([W,O])};try{let S=p?e.route.action:e.route.loader;if(n||a)if(S){let w,[O]=await Promise.all([v(S).catch(U=>{w=U}),n,a]);if(w!==void 0)throw w;h=O}else{await n;let w=p?e.route.action:e.route.loader;if(w)[h]=await Promise.all([v(w),a]);else if(g==="action"){let O=new URL(r.url),U=O.pathname+O.search;throw gr(405,{method:r.method,pathname:U,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)h=await v(S);else{let w=new URL(r.url),O=w.pathname+w.search;throw gr(404,{pathname:O})}}catch(S){return{type:"error",result:S}}finally{m&&r.signal.removeEventListener("abort",m)}return h}async function JR(r){let{result:e,type:n}=r;if(T0(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Rh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?fE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Rh(e.init?.status||500,void 0,e.data),statusCode:vu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:vu(e)?e.status:void 0}:fE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function e1(r,e,n,a,o){let u=r.headers.get("Location");if($e(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rp(u)){let h=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Qm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function sE(r,e,n){if(Rp(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=vr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function bo(r,e,n,a){let o=r.createURL(E0(e)).toString(),u={signal:n};if(a&&kn(a.formMethod)){let{formMethod:h,formEncType:m}=a;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Zm(a.formData):u.body=a.formData}return new Request(o,u)}function Zm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function oE(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function t1(r,e,n,a=!1,o=!1){let u={},h=null,m,p=!1,g={},v=n&&Xn(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let w=S.route.id,O=e[w];if($e(!Ss(O),"Cannot handle redirect results in processLoaderData"),Xn(O)){let U=O.error;if(v!==void 0&&(U=v,v=void 0),h=h||{},o)h[w]=U;else{let W=ws(r,w);h[W.route.id]==null&&(h[W.route.id]=U)}a||(u[w]=m0),p||(p=!0,m=vu(O.error)?O.error.status:500),O.headers&&(g[w]=O.headers)}else u[w]=O.data,O.statusCode&&O.statusCode!==200&&!p&&(m=O.statusCode),O.headers&&(g[w]=O.headers)}),v!==void 0&&n&&(h={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function lE(r,e,n,a,o,u){let{loaderData:h,errors:m}=t1(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:S}=p,w=u[g];if($e(w,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Xn(w)){let O=ws(r.matches,v?.route.id);m&&m[O.route.id]||(m={...m,[O.route.id]:w.error}),r.fetchers.delete(g)}else if(Ss(w))$e(!1,"Unhandled fetcher revalidation redirect");else{let O=Ta(w.data);r.fetchers.set(g,O)}}),{loaderData:h,errors:m}}function uE(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==m0).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function cE(r){return r?Xn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ws(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function hE(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(h="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",m=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Rh(r||500,h,new Error(m),!0)}function nh(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(Ss(o))return{key:a,result:o}}}function E0(r){let e=typeof r=="string"?Bi(r):r;return Va({...e,hash:""})}function n1(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function r1(r){return T0(r.result)&&jR.has(r.result.status)}function Xn(r){return r.type==="error"}function Ss(r){return(r&&r.type)==="redirect"}function fE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function T0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function i1(r){return zR.has(r.toUpperCase())}function kn(r){return LR.has(r.toUpperCase())}function Ip(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function fh(r,e){let n=typeof e=="string"?Bi(e).search:e.search;if(r[r.length-1].route.index&&Ip(n||""))return r[r.length-1];let a=h0(r);return a[a.length-1]}function dE(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function Mm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function a1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function s1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ta(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function o1(r,e){try{let n=r.sessionStorage.getItem(d0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function l1(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(d0,JSON.stringify(n))}catch(a){Pt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function u1(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ms=Q.createContext(null);Ms.displayName="DataRouter";var Du=Q.createContext(null);Du.displayName="DataRouterState";Q.createContext(!1);var Cp=Q.createContext({isTransitioning:!1});Cp.displayName="ViewTransition";var w0=Q.createContext(new Map);w0.displayName="Fetchers";var c1=Q.createContext(null);c1.displayName="Await";var Mr=Q.createContext(null);Mr.displayName="Navigation";var Zh=Q.createContext(null);Zh.displayName="Location";var Pr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Dp=Q.createContext(null);Dp.displayName="RouteError";function h1(r,{relative:e}={}){$e(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Q.useContext(Mr),{hash:o,pathname:u,search:h}=Nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ei([n,u])),a.createHref({pathname:m,search:h,hash:o})}function Go(){return Q.useContext(Zh)!=null}function Ha(){return $e(Go(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Zh).location}var S0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A0(r){Q.useContext(Mr).static||Q.useLayoutEffect(r)}function Jh(){let{isDataRoute:r}=Q.useContext(Pr);return r?R1():f1()}function f1(){$e(Go(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ms),{basename:e,navigator:n}=Q.useContext(Mr),{matches:a}=Q.useContext(Pr),{pathname:o}=Ha(),u=JSON.stringify(Xh(a)),h=Q.useRef(!1);return A0(()=>{h.current=!0}),Q.useCallback((p,g={})=>{if(Pt(h.current,S0),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=Wh(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ei([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}var d1=Q.createContext(null);function m1(r){let e=Q.useContext(Pr).outlet;return e&&Q.createElement(d1.Provider,{value:r},e)}function Nu(r,{relative:e}={}){let{matches:n}=Q.useContext(Pr),{pathname:a}=Ha(),o=JSON.stringify(Xh(n));return Q.useMemo(()=>Wh(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function p1(r,e,n,a){$e(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Mr),{matches:u}=Q.useContext(Pr),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let Z=v&&v.path||"";b0(p,!v||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=Ha(),w;w=S;let O=w.pathname||"/",U=O;if(g!=="/"){let Z=g.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(Z.length).join("/")}let W=wa(r,{pathname:U});return Pt(v||W!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Pt(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),E1(W&&W.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:ei([g,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?g:ei([g,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,a)}function g1(){let r=b1(),e=vu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,h)}var y1=Q.createElement(g1,null),_1=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Pr.Provider,{value:this.props.routeContext},Q.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v1({routeContext:r,match:e,children:n}){let a=Q.useContext(Ms);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Pr.Provider,{value:r},n)}function E1(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);$e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:S}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let S,w=!1,O=null,U=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||y1,h&&(m<0&&v===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,U=null):m===v&&(w=!0,U=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,v+1)),Y=()=>{let Z;return S?Z=O:w?Z=U:g.route.Component?Z=Q.createElement(g.route.Component,null):g.route.element?Z=g.route.element:Z=p,Q.createElement(v1,{match:g,routeContext:{outlet:p,matches:W,isDataRoute:n!=null},children:Z})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Q.createElement(_1,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:Y(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Y()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(r){let e=Q.useContext(Ms);return $e(e,Np(r)),e}function w1(r){let e=Q.useContext(Du);return $e(e,Np(r)),e}function S1(r){let e=Q.useContext(Pr);return $e(e,Np(r)),e}function Op(r){let e=S1(r),n=e.matches[e.matches.length-1];return $e(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function A1(){return Op("useRouteId")}function b1(){let r=Q.useContext(Dp),e=w1("useRouteError"),n=Op("useRouteError");return r!==void 0?r:e.errors?.[n]}function R1(){let{router:r}=T1("useNavigate"),e=Op("useNavigate"),n=Q.useRef(!1);return A0(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Pt(n.current,S0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var mE={};function b0(r,e,n){!e&&!mE[r]&&(mE[r]=!0,Pt(!1,n))}var pE={};function gE(r,e){!r&&!pE[e]&&(pE[e]=!0,console.warn(e))}function I1(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var C1=["HydrateFallback","hydrateFallbackElement"],D1=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function N1({router:r,flushSync:e}){let[n,a]=Q.useState(r.state),[o,u]=Q.useState(),[h,m]=Q.useState({isTransitioning:!1}),[p,g]=Q.useState(),[v,S]=Q.useState(),[w,O]=Q.useState(),U=Q.useRef(new Map),W=Q.useCallback((se,{deletedFetchers:Re,flushSync:me,viewTransitionOpts:H})=>{se.fetchers.forEach((b,R)=>{b.data!==void 0&&U.current.set(R,b.data)}),Re.forEach(b=>U.current.delete(b)),gE(me===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(gE(H==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!M){e&&me?e(()=>a(se)):Q.startTransition(()=>a(se));return}if(e&&me){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let b=r.window.document.startViewTransition(()=>{e(()=>a(se))});b.finished.finally(()=>{e(()=>{g(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(b));return}v?(p&&p.resolve(),v.skipTransition(),O({state:se,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(u(se),m({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[r.window,e,v,p]);Q.useLayoutEffect(()=>r.subscribe(W),[r,W]),Q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new D1)},[h]),Q.useEffect(()=>{if(p&&o&&r.window){let se=o,Re=p.promise,me=r.window.document.startViewTransition(async()=>{Q.startTransition(()=>a(se)),await Re});me.finished.finally(()=>{g(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(me)}},[o,p,r.window]),Q.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,v,n.location,o]),Q.useEffect(()=>{!h.isTransitioning&&w&&(u(w.state),m({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),O(void 0))},[h.isTransitioning,w]);let Y=Q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:se=>r.navigate(se),push:(se,Re,me)=>r.navigate(se,{state:Re,preventScrollReset:me?.preventScrollReset}),replace:(se,Re,me)=>r.navigate(se,{replace:!0,state:Re,preventScrollReset:me?.preventScrollReset})}),[r]),Z=r.basename||"/",de=Q.useMemo(()=>({router:r,navigator:Y,static:!1,basename:Z}),[r,Y,Z]);return Q.createElement(Q.Fragment,null,Q.createElement(Ms.Provider,{value:de},Q.createElement(Du.Provider,{value:n},Q.createElement(w0.Provider,{value:U.current},Q.createElement(Cp.Provider,{value:h},Q.createElement(x1,{basename:Z,location:n.location,navigationType:n.historyAction,navigator:Y},Q.createElement(O1,{routes:r.routes,future:r.future,state:n})))))),null)}var O1=Q.memo(M1);function M1({routes:r,future:e,state:n}){return p1(r,void 0,n,e)}function P1({to:r,replace:e,state:n,relative:a}){$e(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Mr);Pt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(Pr),{pathname:h}=Ha(),m=Jh(),p=Wh(r,Xh(u),h,a==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function V1(r){return m1(r.context)}function x1({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){$e(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Bi(n));let{pathname:p="/",search:g="",hash:v="",state:S=null,key:w="default"}=n,O=Q.useMemo(()=>{let U=vr(p,h);return U==null?null:{location:{pathname:U,search:g,hash:v,state:S,key:w},navigationType:a}},[h,p,g,v,S,w,a]);return Pt(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Q.createElement(Mr.Provider,{value:m},Q.createElement(Zh.Provider,{children:e,value:O}))}var dh="get",mh="application/x-www-form-urlencoded";function ef(r){return r!=null&&typeof r.tagName=="string"}function k1(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function L1(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function U1(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function j1(r,e){return r.button===0&&(!e||e==="_self")&&!z1(r)}var rh=null;function B1(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var H1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(r){return r!=null&&!H1.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function q1(r,e){let n,a,o,u,h;if(L1(r)){let m=r.getAttribute("action");a=m?vr(m,e):null,n=r.getAttribute("method")||dh,o=Pm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(k1(r)||U1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?vr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Pm(r.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!B1()){let{name:g,type:v,value:S}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,a=null,o=mh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function F1(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&vr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function G1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Y1(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await G1(u,n);return h.links?h.links():[]}return[]}));return W1(a.flat(1).filter(K1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yE(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $1(r,e,{includeHydrateFallback:n}={}){return Q1(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Q1(r){return[...new Set(r)]}function X1(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function W1(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(X1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function R0(){let r=Q.useContext(Ms);return Mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Z1(){let r=Q.useContext(Du);return Mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pp=Q.createContext(void 0);Pp.displayName="FrameworkContext";function I0(){let r=Q.useContext(Pp);return Mp(r,"You must render this element inside a <HydratedRouter> element"),r}function J1(r,e){let n=Q.useContext(Pp),[a,o]=Q.useState(!1),[u,h]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,w=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let W=Z=>{Z.forEach(de=>{h(de.isIntersecting)})},Y=new IntersectionObserver(W,{threshold:.5});return w.current&&Y.observe(w.current),()=>{Y.disconnect()}}},[r]),Q.useEffect(()=>{if(a){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[a]);let O=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:nu(m,O),onBlur:nu(p,U),onMouseEnter:nu(g,O),onMouseLeave:nu(v,U),onTouchStart:nu(S,O)}]:[!1,w,{}]}function nu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function eI({page:r,...e}){let{router:n}=R0(),a=Q.useMemo(()=>wa(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Q.createElement(nI,{page:r,matches:a,...e}):null}function tI(r){let{manifest:e,routeModules:n}=I0(),[a,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return Y1(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function nI({page:r,matches:e,...n}){let a=Ha(),{manifest:o,routeModules:u}=I0(),{basename:h}=R0(),{loaderData:m,matches:p}=Z1(),g=Q.useMemo(()=>yE(r,e,p,o,a,"data"),[r,e,p,o,a]),v=Q.useMemo(()=>yE(r,e,p,o,a,"assets"),[r,e,p,o,a]),S=Q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let U=new Set,W=!1;if(e.forEach(Z=>{let de=o.routes[Z.route.id];!de||!de.hasLoader||(!g.some(se=>se.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||de.hasClientLoader?W=!0:U.add(Z.route.id))}),U.size===0)return[];let Y=F1(r,h,"data");return W&&U.size>0&&Y.searchParams.set("_routes",e.filter(Z=>U.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[Y.pathname+Y.search]},[h,m,a,o,g,e,r,u]),w=Q.useMemo(()=>$1(v,o),[v,o]),O=tI(v);return Q.createElement(Q.Fragment,null,S.map(U=>Q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>Q.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),O.map(({key:U,link:W})=>Q.createElement("link",{key:U,...W})))}function rI(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C0&&(window.__reactRouterVersion="7.7.1")}catch{}function iI(r,e){return GR({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:cR({window:e?.window}),hydrationData:aI(),routes:r,mapRouteProperties:I1,hydrationRouteProperties:C1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function aI(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:sI(r.errors)}),r}function sI(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Rh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vp=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:S,...w},O){let{basename:U}=Q.useContext(Mr),W=typeof g=="string"&&D0.test(g),Y,Z=!1;if(typeof g=="string"&&W&&(Y=g,C0))try{let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g),x=vr(P.pathname,U);P.origin===R.origin&&x!=null?g=x+P.search+P.hash:Z=!0}catch{Pt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let de=h1(g,{relative:o}),[se,Re,me]=J1(a,w),H=cI(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:S});function M(R){e&&e(R),R.defaultPrevented||H(R)}let b=Q.createElement("a",{...w,...me,href:Y||de,onClick:Z||u?e:M,ref:rI(O,Re),target:p,"data-discover":!W&&n==="render"?"true":void 0});return se&&!W?Q.createElement(Q.Fragment,null,b,Q.createElement(eI,{page:de})):b});Vp.displayName="Link";var oI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let S=Nu(h,{relative:g.relative}),w=Ha(),O=Q.useContext(Du),{navigator:U,basename:W}=Q.useContext(Mr),Y=O!=null&&pI(S)&&m===!0,Z=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,de=w.pathname,se=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(de=de.toLowerCase(),se=se?se.toLowerCase():null,Z=Z.toLowerCase()),se&&W&&(se=vr(se,W)||se);const Re=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let me=de===Z||!o&&de.startsWith(Z)&&de.charAt(Re)==="/",H=se!=null&&(se===Z||!o&&se.startsWith(Z)&&se.charAt(Z.length)==="/"),M={isActive:me,isPending:H,isTransitioning:Y},b=me?e:void 0,R;typeof a=="function"?R=a(M):R=[a,me?"active":null,H?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return Q.createElement(Vp,{...g,"aria-current":b,className:R,ref:v,style:P,to:h,viewTransition:m},typeof p=="function"?p(M):p)});oI.displayName="NavLink";var lI=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:S,...w},O)=>{let U=dI(),W=mI(m,{relative:g}),Y=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&D0.test(m),de=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let Re=se.nativeEvent.submitter,me=Re?.getAttribute("formmethod")||h;U(Re||se.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return Q.createElement("form",{ref:O,method:Y,action:W,onSubmit:a?p:de,...w,"data-discover":!Z&&r==="render"?"true":void 0})});lI.displayName="Form";function uI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(r){let e=Q.useContext(Ms);return $e(e,uI(r)),e}function cI(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Jh(),p=Ha(),g=Nu(r,{relative:u});return Q.useCallback(v=>{if(j1(v,e)){v.preventDefault();let S=n!==void 0?n:Va(p)===Va(g);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var hI=0,fI=()=>`__${String(++hI)}__`;function dI(){let{router:r}=N0("useSubmit"),{basename:e}=Q.useContext(Mr),n=A1();return Q.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=q1(a,e);if(o.navigate===!1){let v=o.fetcherKey||fI();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function mI(r,{relative:e}={}){let{basename:n}=Q.useContext(Mr),a=Q.useContext(Pr);$e(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Nu(r||".",{relative:e})},h=Ha();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ei([n,u.pathname])),Va(u)}function pI(r,{relative:e}={}){let n=Q.useContext(Cp);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=N0("useViewTransitionState"),o=Nu(r,{relative:e});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=vr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return bh(o.pathname,h)!=null||bh(o.pathname,u)!=null}var gI=s0();function yI(r){return Q.createElement(N1,{flushSync:gI.flushSync,...r})}class iu extends Error{}iu.prototype.name="InvalidTokenError";function _I(r){return decodeURIComponent(atob(r).replace(/(.)/g,(e,n)=>{let a=n.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function vI(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return _I(e)}catch{return atob(e)}}function EI(r,e){if(typeof r!="string")throw new iu("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,a=r.split(".")[n];if(typeof a!="string")throw new iu(`Invalid token specified: missing part #${n+1}`);let o;try{o=vI(a)}catch(u){throw new iu(`Invalid token specified: invalid base64 for part #${n+1} (${u.message})`)}try{return JSON.parse(o)}catch(u){throw new iu(`Invalid token specified: invalid json for part #${n+1} (${u.message})`)}}const TI=({Component:r})=>{const e=localStorage.getItem("ack-tk");return EI(e)?.email?r:ae.jsx(P1,{to:"/"})},wI="/assets/app-logo-blue-AVCkQH8-.png",SI=r=>{const e=Jh(),n=()=>{localStorage.removeItem("ack-tk"),e("/")};return ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:"aff-label",children:"All links are affiliate links; purchases may earn me a commission at no extra cost to you."}),ae.jsxs("header",{className:"header",children:[ae.jsxs("div",{className:"app-name",children:[ae.jsx("img",{className:"app-logo",src:wI}),r?.isAdmin&&ae.jsx("span",{className:"admin-label",children:"Admin"})]}),r?.isAdmin?ae.jsxs("div",{className:"action-btns",children:[ae.jsxs("button",{className:"category-btn",onClick:()=>r?.addCategoryEvent(),children:[ae.jsx("i",{className:"fas fa-cube"}),"Add Category"]}),ae.jsxs("button",{className:"product-btn",onClick:()=>r?.addProductEvent(),children:[ae.jsx("i",{className:"fas fa-plus"}),"Add Product"]}),ae.jsxs("button",{className:"signin-btn",onClick:()=>n(),children:[ae.jsx("i",{className:"fas fa-sign-out"}),"Logout"]})]}):ae.jsxs("button",{className:"product-btn",onClick:()=>e("/login"),children:[ae.jsx("i",{className:"fas fa-user"}),"Sign In"]})]})]})},_E="TopChoice",O0=()=>ae.jsx("footer",{className:"footer",children:ae.jsxs("div",{className:"footer-content",children:[ae.jsxs("div",{className:"footer-section",children:[ae.jsxs("h3",{className:"footer-title",children:["About ",_E]}),ae.jsxs("p",{children:[_E," is your premier destination for high-quality products across multiple categories."]})]}),ae.jsxs("div",{className:"footer-section",children:[ae.jsx("h3",{className:"footer-title",children:"Quick Links"}),ae.jsxs("a",{href:"#",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-home"})," Home"]}),ae.jsxs("a",{href:"#",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-tag"})," Shop"]}),ae.jsxs("a",{href:"#",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-percent"})," Deals"]}),ae.jsxs("a",{href:"#",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-question-circle"})," Help Center"]})]}),ae.jsxs("div",{className:"footer-section",children:[ae.jsx("h3",{className:"footer-title",children:"Contact Us"}),ae.jsxs("a",{href:"mailto:itsyourtopchoice@gmail.com",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-envelope"})," itsyourtopchoice@gmail.com"]}),ae.jsxs("a",{href:"tel:+91 81291 87135",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-phone"})," +91 81291 87135"]}),ae.jsxs("a",{href:"#",className:"footer-link",children:[ae.jsx("i",{className:"fas fa-map-marker-alt"})," Byrasandra, Bangalore"]})]}),ae.jsxs("div",{className:"footer-section",children:[ae.jsx("h3",{className:"footer-title",children:"Follow Us"}),ae.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[ae.jsx("a",{href:"https://www.facebook.com/profile.php?id=61578523242070",target:"blank",className:"footer-link",children:ae.jsx("i",{className:"fab fa-facebook-f"})}),ae.jsx("a",{href:"https://x.com/TopChoiceForYou",target:"blank",className:"footer-link",children:ae.jsx("i",{className:"fab fa-twitter"})}),ae.jsx("a",{href:"https://www.instagram.com/__topchoice__/",target:"blank",className:"footer-link",children:ae.jsx("i",{className:"fab fa-instagram"})}),ae.jsx("a",{href:"https://www.linkedin.com/in/topchoiceforyou/",target:"blank",className:"footer-link",children:ae.jsx("i",{className:"fab fa-linkedin-in"})})]})]})]})}),AI=()=>ae.jsxs(ae.Fragment,{children:[ae.jsx(V1,{}),ae.jsx(O0,{})]}),bI=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RI=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(w=64)),a.push(n[v],n[S],n[w],n[O])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(M0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new II;const w=u<<2|m>>4;if(a.push(w),g!==64){const O=m<<4&240|g>>2;if(a.push(O),S!==64){const U=g<<6&192|S;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(r){const e=M0(r);return P0.encodeByteArray(e,!0)},Ch=function(r){return CI(r).replace(/\./g,"")},V0=function(r){try{return P0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>DI().__FIREBASE_DEFAULTS__,OI=()=>{if(typeof process>"u"||typeof vE>"u")return;const r=vE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&V0(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return bI()||NI()||OI()||MI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},x0=r=>tf()?.emulatorHosts?.[r],PI=r=>{const e=x0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},k0=()=>tf()?.config,L0=r=>tf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const cu={};function kI(){const r={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?r.emulator.push(e):r.prod.push(e);return r}function LI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let EE=!1;function z0(r,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||cu[r]===e||cu[r]||EE)return;cu[r]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=kI().prod.length>0;function h(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{EE=!0,h()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=LI(a),O=n("text"),U=document.getElementById(O)||document.createElement("span"),W=n("learnmore"),Y=document.getElementById(W)||document.createElement("a"),Z=n("preprendIcon"),de=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;m(se),v(Y,W);const Re=g();p(de,Z),se.append(de,U,Y,Re),document.body.appendChild(se)}u?(U.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function zI(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HI(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qI(){return!zI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B0(){try{return typeof indexedDB=="object"}catch{return!1}}function H0(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function FI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="FirebaseError";class Vr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=GI,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?KI(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,m,a)}}function KI(r,e){return r.replace(YI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YI=/\{\$([^}]+)}/g;function $I(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xa(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(TE(u)&&TE(h)){if(!xa(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function TE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function au(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function QI(r,e){const n=new XI(r,e);return n.subscribe.bind(n)}class XI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");WI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e3,JI=2,eC=14400*1e3,tC=.5;function wE(r,e=ZI,n=JI){const a=e*Math.pow(n,r),o=Math.round(tC*a*(Math.random()-.5)*2);return Math.min(eC,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Nr{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new VI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iC(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rC(r){return r===Ts?void 0:r}function iC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const sC={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},oC=We.INFO,lC={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},uC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=lC[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=oC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const cC=(r,e)=>e.some(n=>r instanceof n);let SE,AE;function hC(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Jm=new WeakMap,F0=new WeakMap,xm=new WeakMap,xp=new WeakMap;function dC(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Ca(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&q0.set(n,r)}).catch(()=>{}),xp.set(e,r),e}function mC(r){if(Jm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Jm.set(r,e)}let ep={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pC(r){ep=r(ep)}function gC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(km(this),e,...n);return F0.set(a,e.sort?e.sort():[e]),Ca(a)}:fC().includes(r)?function(...e){return r.apply(km(this),e),Ca(q0.get(this))}:function(...e){return Ca(r.apply(km(this),e))}}function yC(r){return typeof r=="function"?gC(r):(r instanceof IDBTransaction&&mC(r),cC(r,hC())?new Proxy(r,ep):r)}function Ca(r){if(r instanceof IDBRequest)return dC(r);if(xm.has(r))return xm.get(r);const e=yC(r);return e!==r&&(xm.set(r,e),xp.set(e,r)),e}const km=r=>xp.get(r);function G0(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Ca(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Ca(h.result),p.oldVersion,p.newVersion,Ca(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _C=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],Lm=new Map;function bE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=vC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_C.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Lm.set(e,u),u}pC(r=>({...r,get:(e,n,a)=>bE(e,n)||r.get(e,n,a),has:(e,n)=>!!bE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function TC(r){return r.getComponent()?.type==="VERSION"}const tp="@firebase/app",RE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new nf("@firebase/app"),wC="@firebase/app-compat",SC="@firebase/analytics-compat",AC="@firebase/analytics",bC="@firebase/app-check-compat",RC="@firebase/app-check",IC="@firebase/auth",CC="@firebase/auth-compat",DC="@firebase/database",NC="@firebase/data-connect",OC="@firebase/database-compat",MC="@firebase/functions",PC="@firebase/functions-compat",VC="@firebase/installations",xC="@firebase/installations-compat",kC="@firebase/messaging",LC="@firebase/messaging-compat",UC="@firebase/performance",zC="@firebase/performance-compat",jC="@firebase/remote-config",BC="@firebase/remote-config-compat",HC="@firebase/storage",qC="@firebase/storage-compat",FC="@firebase/firestore",GC="@firebase/ai",KC="@firebase/firestore-compat",YC="firebase",$C="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",QC={[tp]:"fire-core",[wC]:"fire-core-compat",[AC]:"fire-analytics",[SC]:"fire-analytics-compat",[RC]:"fire-app-check",[bC]:"fire-app-check-compat",[IC]:"fire-auth",[CC]:"fire-auth-compat",[DC]:"fire-rtdb",[NC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[MC]:"fire-fn",[PC]:"fire-fn-compat",[VC]:"fire-iid",[xC]:"fire-iid-compat",[kC]:"fire-fcm",[LC]:"fire-fcm-compat",[UC]:"fire-perf",[zC]:"fire-perf-compat",[jC]:"fire-rc",[BC]:"fire-rc-compat",[HC]:"fire-gcs",[qC]:"fire-gcs-compat",[FC]:"fire-fst",[KC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,XC=new Map,rp=new Map;function IE(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oi(r){const e=r.name;if(rp.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,r);for(const n of Dh.values())IE(n,r);for(const n of XC.values())IE(n,r);return!0}function Vs(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ir(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Ps("app","Firebase",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=$C;function K0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:np,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Da.create("bad-app-name",{appName:String(o)});if(n||(n=k0()),!n)throw Da.create("no-options");const u=Dh.get(o);if(u){if(xa(n,u.options)&&xa(a,u.config))return u;throw Da.create("duplicate-app",{appName:o})}const h=new aC(o);for(const p of rp.values())h.addComponent(p);const m=new ZC(n,a,h);return Dh.set(o,m),m}function kp(r=np){const e=Dh.get(r);if(!e&&r===np&&k0())return K0();if(!e)throw Da.create("no-app",{appName:r});return e}function _r(r,e,n){let a=QC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}oi(new Nr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebase-heartbeat-database",eD=1,Eu="firebase-heartbeat-store";let Um=null;function Y0(){return Um||(Um=G0(JC,eD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),Um}async function tD(r){try{const n=(await Y0()).transaction(Eu),a=await n.objectStore(Eu).get($0(r));return await n.done,a}catch(e){if(e instanceof Vr)Li.warn(e.message);else{const n=Da.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function CE(r,e){try{const a=(await Y0()).transaction(Eu,"readwrite");await a.objectStore(Eu).put(e,$0(r)),await a.done}catch(n){if(n instanceof Vr)Li.warn(n.message);else{const a=Da.create("idb-set",{originalErrorMessage:n?.message});Li.warn(a.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1024,rD=30;class iD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sD(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>rD){const o=oD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:n,unsentEntries:a}=aD(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Li.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function aD(r,e=nD){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),NE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class sD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B0()?H0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return CE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function NE(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function oD(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(r){oi(new Nr("platform-logger",e=>new EC(e),"PRIVATE")),oi(new Nr("heartbeat",e=>new iD(e),"PRIVATE")),_r(tp,RE,r),_r(tp,RE,"esm2020"),_r("fire-js","")}lD("");const Q0="@firebase/installations",Lp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=1e4,W0=`w:${Lp}`,Z0="FIS_v2",uD="https://firebaseinstallations.googleapis.com/v1",cD=3600*1e3,hD="installations",fD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new Ps(hD,fD,dD);function J0(r){return r instanceof Vr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew({projectId:r}){return`${uD}/projects/${r}/installations`}function tw(r){return{token:r.token,requestStatus:2,expiresIn:pD(r.expiresIn),creationTime:Date.now()}}async function nw(r,e){const a=(await e.json()).error;return Rs.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function rw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function mD(r,{refreshToken:e}){const n=rw(r);return n.append("Authorization",gD(e)),n}async function iw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function pD(r){return Number(r.replace("s","000"))}function gD(r){return`${Z0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=ew(r),o=rw(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:Z0,appId:r.appId,sdkVersion:W0},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await iw(()=>fetch(a,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:tw(g.authToken)}}else throw await nw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^[cdef][\w-]{21}$/,ip="";function ED(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=TD(r);return vD.test(n)?n:ip}catch{return ip}}function TD(r){return _D(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;function ow(r,e){const n=rf(r);lw(n,e),wD(n,e)}function lw(r,e){const n=sw.get(r);if(n)for(const a of n)a(e)}function wD(r,e){const n=SD();n&&n.postMessage({key:r,fid:e}),AD()}let As=null;function SD(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=r=>{lw(r.data.key,r.data.fid)}),As}function AD(){sw.size===0&&As&&(As.close(),As=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebase-installations-database",RD=1,Is="firebase-installations-store";let zm=null;function Up(){return zm||(zm=G0(bD,RD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Is)}}})),zm}async function Nh(r,e){const n=rf(r),o=(await Up()).transaction(Is,"readwrite"),u=o.objectStore(Is),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&ow(r,e.fid),e}async function uw(r){const e=rf(r),a=(await Up()).transaction(Is,"readwrite");await a.objectStore(Is).delete(e),await a.done}async function af(r,e){const n=rf(r),o=(await Up()).transaction(Is,"readwrite"),u=o.objectStore(Is),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&ow(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(r){let e;const n=await af(r.appConfig,a=>{const o=ID(a),u=CD(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===ip?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ID(r){const e=r||{fid:ED(),registrationStatus:0};return cw(e)}function CD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=DD(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ND(r)}:{installationEntry:e}}async function DD(r,e){try{const n=await yD(r,e);return Nh(r.appConfig,n)}catch(n){throw J0(n)&&n.customData.serverCode===409?await uw(r.appConfig):await Nh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ND(r){let e=await OE(r.appConfig);for(;e.registrationStatus===1;)await aw(100),e=await OE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await zp(r);return a||n}return e}function OE(r){return af(r,e=>{if(!e)throw Rs.create("installation-not-found");return cw(e)})}function cw(r){return OD(r)?{fid:r.fid,registrationStatus:0}:r}function OD(r){return r.registrationStatus===1&&r.registrationTime+X0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD({appConfig:r,heartbeatServiceProvider:e},n){const a=PD(r,n),o=mD(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:W0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await iw(()=>fetch(a,m));if(p.ok){const g=await p.json();return tw(g)}else throw await nw("Generate Auth Token",p)}function PD(r,{fid:e}){return`${ew(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(r,e=!1){let n;const a=await af(r.appConfig,u=>{if(!hw(u))throw Rs.create("not-registered");const h=u.authToken;if(!e&&kD(h))return u;if(h.requestStatus===1)return n=VD(r,e),u;{if(!navigator.onLine)throw Rs.create("app-offline");const m=UD(u);return n=xD(r,m),m}});return n?await n:a.authToken}async function VD(r,e){let n=await ME(r.appConfig);for(;n.authToken.requestStatus===1;)await aw(100),n=await ME(r.appConfig);const a=n.authToken;return a.requestStatus===0?jp(r,e):a}function ME(r){return af(r,e=>{if(!hw(e))throw Rs.create("not-registered");const n=e.authToken;return zD(n)?{...e,authToken:{requestStatus:0}}:e})}async function xD(r,e){try{const n=await MD(r,e),a={...e,authToken:n};return await Nh(r.appConfig,a),n}catch(n){if(J0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uw(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Nh(r.appConfig,a)}throw n}}function hw(r){return r!==void 0&&r.registrationStatus===2}function kD(r){return r.requestStatus===2&&!LD(r)}function LD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+cD}function UD(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function zD(r){return r.requestStatus===1&&r.requestTime+X0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(r){const e=r,{installationEntry:n,registrationPromise:a}=await zp(e);return a?a.catch(console.error):jp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,e=!1){const n=r;return await HD(n),(await jp(n,e)).token}async function HD(r){const{registrationPromise:e}=await zp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){if(!r||!r.options)throw jm("App Configuration");if(!r.name)throw jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw jm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function jm(r){return Rs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="installations",FD="installations-internal",GD=r=>{const e=r.getProvider("app").getImmediate(),n=qD(e),a=Vs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},KD=r=>{const e=r.getProvider("app").getImmediate(),n=Vs(e,fw).getImmediate();return{getId:()=>jD(n),getToken:o=>BD(n,o)}};function YD(){oi(new Nr(fw,GD,"PUBLIC")),oi(new Nr(FD,KD,"PRIVATE"))}YD();_r(Q0,Lp);_r(Q0,Lp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="analytics",$D="firebase_id",QD="origin",XD=60*1e3,WD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new nf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new Ps("analytics","Analytics",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){if(!r.startsWith(Bp)){const e=Zn.create("invalid-gtag-resource",{gtagURL:r});return Un.warn(e.message),""}return r}function dw(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function e2(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function t2(r,e){const n=e2("firebase-js-sdk-policy",{createScriptURL:JD}),a=document.createElement("script"),o=`${Bp}?l=${r}&id=${e}`;a.src=n?n?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function n2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function r2(r,e,n,a,o,u){const h=a[o];try{if(h)await e[h];else{const p=(await dw(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){Un.error(m)}r("config",o,u)}async function i2(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await dw(n);for(const p of h){const g=m.find(S=>S.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){Un.error(u)}}function a2(r,e,n,a){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await i2(r,e,n,m,p)}else if(u==="config"){const[m,p]=h;await r2(r,e,n,a,m,p)}else if(u==="consent"){const[m,p]=h;r("consent",m,p)}else if(u==="get"){const[m,p,g]=h;r("get",m,p,g)}else if(u==="set"){const[m]=h;r("set",m)}else r(u,...h)}catch(m){Un.error(m)}}return o}function s2(r,e,n,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=a2(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function o2(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=30,u2=1e3;class c2{constructor(e={},n=u2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mw=new c2;function h2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function f2(r){const{appId:e,apiKey:n}=r,a={method:"GET",headers:h2(n)},o=WD.replace("{app-id}",e),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function d2(r,e=mw,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw Zn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Zn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new g2;return setTimeout(async()=>{m.abort()},XD),pw({appId:a,apiKey:o,measurementId:u},h,m,e)}async function pw(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=mw){const{appId:u,measurementId:h}=r;try{await m2(a,e)}catch(m){if(h)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await f2(r);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!p2(p)){if(o.deleteThrottleMetadata(u),h)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw m}const g=Number(p?.customData?.httpStatus)===503?wE(n,o.intervalMillis,l2):wE(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,v),Un.debug(`Calling attemptFetch again in ${g} millis`),pw(r,v,a,o)}}function m2(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function p2(r){if(!(r instanceof Vr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class g2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function y2(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,h={...a,send_to:u};r("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(){if(B0())try{await H0()}catch(r){return Un.warn(Zn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Un.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v2(r,e,n,a,o,u,h){const m=d2(r);m.then(w=>{n[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Un.error(w)),e.push(m);const p=_2().then(w=>{if(w)return a.getId()}),[g,v]=await Promise.all([m,p]);o2(u)||t2(u,g.measurementId),o("js",new Date);const S=h?.config??{};return S[QD]="firebase",S.update=!0,v!=null&&(S[$D]=v),o("config",g.measurementId,S),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.app=e}_delete(){return delete hu[this.app.options.appId],Promise.resolve()}}let hu={},PE=[];const VE={};let Bm="dataLayer",T2="gtag",xE,gw,kE=!1;function w2(){const r=[];if(j0()&&r.push("This is a browser extension environment."),FI()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Zn.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}function S2(r,e,n){w2();const a=r.options.appId;if(!a)throw Zn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(hu[a]!=null)throw Zn.create("already-exists",{id:a});if(!kE){n2(Bm);const{wrappedGtag:u,gtagCore:h}=s2(hu,PE,VE,Bm,T2);gw=u,xE=h,kE=!0}return hu[a]=v2(r,PE,VE,e,xE,Bm,n),new E2(r)}function A2(r=kp()){r=fn(r);const e=Vs(r,Oh);return e.isInitialized()?e.getImmediate():b2(r)}function b2(r,e={}){const n=Vs(r,Oh);if(n.isInitialized()){const o=n.getImmediate();if(xa(e,n.getOptions()))return o;throw Zn.create("already-initialized")}return n.initialize({options:e})}function Hp(r,e,n,a){r=fn(r),y2(gw,hu[r.app.options.appId],e,n,a).catch(o=>Un.error(o))}const LE="@firebase/analytics",UE="0.10.18";function R2(){oi(new Nr(Oh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return S2(a,o,n)},"PUBLIC")),oi(new Nr("analytics-internal",r,"PRIVATE")),_r(LE,UE),_r(LE,UE,"esm2020");function r(e){try{const n=e.getProvider(Oh).getImmediate();return{logEvent:(a,o,u)=>Hp(n,a,o,u)}}catch(n){throw Zn.create("interop-component-reg-failed",{reason:n})}}}R2();var I2="firebase",C2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(I2,C2,"app");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,yw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function R(){}R.prototype=b.prototype,M.D=b.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(P,x,k){for(var I=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)I[qe-2]=arguments[qe];return b.prototype[x].apply(P,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,R){R||(R=0);var P=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)P[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;16>x;++x)P[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=M.g[0],R=M.g[1],x=M.g[2];var k=M.g[3],I=b+(k^R&(x^k))+P[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+P[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+P[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+P[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+P[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+P[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+P[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+P[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+P[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+P[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+P[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+P[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+P[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+P[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+P[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+P[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(x^k&(R^x))+P[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+P[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+P[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+P[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+P[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+P[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+P[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+P[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+P[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+P[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+P[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+P[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+P[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+P[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+P[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+P[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(R^x^k)+P[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+P[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+P[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+P[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+P[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+P[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+P[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+P[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+P[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+P[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+P[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+P[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+P[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+P[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+P[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+P[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(x^(R|~k))+P[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+P[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+P[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+P[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+P[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+P[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+P[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+P[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+P[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+P[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+P[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+P[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+P[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+P[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+P[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+k&4294967295}a.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var R=b-this.blockSize,P=this.B,x=this.h,k=0;k<b;){if(x==0)for(;k<=R;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<b;)if(P[x++]=M.charCodeAt(k++),x==this.blockSize){o(this,P),x=0;break}}else for(;k<b;)if(P[x++]=M[k++],x==this.blockSize){o(this,P),x=0;break}}this.h=x,this.o+=b},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var R=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=R&255,R/=256;for(this.u(M),M=Array(16),b=R=0;4>b;++b)for(var P=0;32>P;P+=8)M[R++]=this.g[b]>>>P&255;return M};function u(M,b){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=b(M)}function h(M,b){this.h=b;for(var R=[],P=!0,x=M.length-1;0<=x;x--){var k=M[x]|0;P&&k==b||(R[x]=k,P=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new h([b|0],0>b?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return Y(g(-M));for(var b=[],R=1,P=0;M>=R;P++)b[P]=M/R|0,R*=4294967296;return new h(b,0)}function v(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return Y(v(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),P=S,x=0;x<M.length;x+=8){var k=Math.min(8,M.length-x),I=parseInt(M.substring(x,x+k),b);8>k?(k=g(Math.pow(b,k)),P=P.j(k).add(g(I))):(P=P.j(R),P=P.add(g(I)))}return P}var S=p(0),w=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(W(this))return-Y(this).m();for(var M=0,b=1,R=0;R<this.g.length;R++){var P=this.i(R);M+=(0<=P?P:4294967296+P)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(W(this))return"-"+Y(this).toString(M);for(var b=g(Math.pow(M,6)),R=this,P="";;){var x=Re(R,b).g;R=Z(R,x.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=x,U(R))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=Z(this,M),W(M)?-1:U(M)?0:1};function Y(M){for(var b=M.g.length,R=[],P=0;P<b;P++)R[P]=~M.g[P];return new h(R,~M.h).add(w)}r.abs=function(){return W(this)?Y(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],P=0,x=0;x<=b;x++){var k=P+(this.i(x)&65535)+(M.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);P=I>>>16,k&=65535,I&=65535,R[x]=I<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Z(M,b){return M.add(Y(b))}r.j=function(M){if(U(this)||U(M))return S;if(W(this))return W(M)?Y(this).j(Y(M)):Y(Y(this).j(M));if(W(M))return Y(this.j(Y(M)));if(0>this.l(O)&&0>M.l(O))return g(this.m()*M.m());for(var b=this.g.length+M.g.length,R=[],P=0;P<2*b;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<M.g.length;x++){var k=this.i(P)>>>16,I=this.i(P)&65535,qe=M.i(x)>>>16,et=M.i(x)&65535;R[2*P+2*x]+=I*et,de(R,2*P+2*x),R[2*P+2*x+1]+=k*et,de(R,2*P+2*x+1),R[2*P+2*x+1]+=I*qe,de(R,2*P+2*x+1),R[2*P+2*x+2]+=k*qe,de(R,2*P+2*x+2)}for(P=0;P<b;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=b;P<2*b;P++)R[P]=0;return new h(R,0)};function de(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function se(M,b){this.g=M,this.h=b}function Re(M,b){if(U(b))throw Error("division by zero");if(U(M))return new se(S,S);if(W(M))return b=Re(Y(M),b),new se(Y(b.g),Y(b.h));if(W(b))return b=Re(M,Y(b)),new se(Y(b.g),b.h);if(30<M.g.length){if(W(M)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,P=b;0>=P.l(M);)R=me(R),P=me(P);var x=H(R,1),k=H(P,1);for(P=H(P,2),R=H(R,2);!U(P);){var I=k.add(P);0>=I.l(M)&&(x=x.add(R),k=I),P=H(P,1),R=H(R,1)}return b=Z(M,x.j(b)),new se(x,b)}for(x=S;0<=M.l(b);){for(R=Math.max(1,Math.floor(M.m()/b.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=g(R),I=k.j(b);W(I)||0<I.l(M);)R-=P,k=g(R),I=k.j(b);U(k)&&(k=w),x=x.add(k),M=Z(M,I)}return new se(x,M)}r.A=function(M){return Re(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)&M.i(P);return new h(R,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)|M.i(P);return new h(R,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)^M.i(P);return new h(R,this.h^M.h)};function me(M){for(var b=M.g.length+1,R=[],P=0;P<b;P++)R[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(R,M.h)}function H(M,b){var R=b>>5;b%=32;for(var P=M.g.length-R,x=[],k=0;k<P;k++)x[k]=0<b?M.i(k+R)>>>b|M.i(k+R+1)<<32-b:M.i(k+R);return new h(x,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,yw=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Na=h}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _w,ou,vw,ph,ap,Ew,Tw,ww;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,X){for(var fe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)fe[tt-2]=arguments[tt];return y.prototype[j].apply(A,fe)}}function W(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function Y(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const j=c.length||0,X=A.length||0;c.length=j+X;for(let fe=0;fe<X;fe++)c[j+fe]=A[fe]}else c.push(A)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function de(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var me=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function H(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,_){const A=et.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new Z(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,je=new qe,N=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Be(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(me){e:{try{Re(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}U(Be,le);var Ne={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Jn(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++pt,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,y,_,A,j){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var fe=ci(c,y,A,j);return-1<fe?(y=c[fe],_||(y.fa=!1)):(y=new Jn(y,this.src,X,!!A,j),y.fa=_,c.push(y)),y};function xr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=j)&&Array.prototype.splice.call(A,j,1),X&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ci(c,y,_,A){for(var j=0;j<c.length;++j){var X=c[j];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return j}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Ka={};function Us(c,y,_,A,j){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Us(c,y[X],_,A,j);return null}return _=Fi(_),c&&c[Lt]?c.K(y,_,g(A)?!!A.capture:!1,j):Sn(c,y,_,!1,A,j)}function Sn(c,y,_,A,j,X){if(!y)throw Error("Invalid event type");var fe=g(j)?!!j.capture:!!j,tt=er(c);if(tt||(c[wn]=tt=new mn(c)),_=tt.add(y,_,A,fe,X),_.proxy)return _;if(A=el(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)Se||(j=fe),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(hi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function el(){function c(_){return y.call(c.src,c.listener,_)}const y=Er;return c}function Ya(c,y,_,A,j){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ya(c,y[X],_,A,j);else A=g(A)?!!A.capture:!!A,_=Fi(_),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=ci(X,_,A,j),-1<_&&(At(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=er(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ci(y,_,A,j)),(_=-1<c?y[c]:null)&&Hi(_))}function Hi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])xr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(hi(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=er(y))?(xr(_,c),_.h==0&&(_.src=null,y[wn]=null)):At(c)}}}function hi(c){return c in Ka?Ka[c]:Ka[c]="on"+c}function Er(c,y){if(c.da)c=!0;else{y=new Be(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Hi(c),c=_.call(A,y)}return c}function er(c){return c=c[wn],c instanceof mn?c:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(c){return typeof c=="function"?c:(c[qi]||(c[qi]=function(y){return c.handleEvent(y)}),c[qi])}function ot(){he.call(this),this.i=new mn(this),this.M=this,this.F=null}U(ot,he),ot.prototype[Lt]=!0,ot.prototype.removeEventListener=function(c,y,_,A){Ya(this,c,y,_,A)};function Ge(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var j=y;y=new le(A,c),P(y,j)}if(j=!0,_)for(var X=_.length-1;0<=X;X--){var fe=y.g=_[X];j=pn(fe,A,!0,y)&&j}if(fe=y.g=c,j=pn(fe,A,!0,y)&&j,j=pn(fe,A,!1,y)&&j,_)for(X=0;X<_.length;X++)fe=y.g=_[X],j=pn(fe,A,!1,y)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)At(_[A]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ot.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function pn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,X=0;X<y.length;++X){var fe=y[X];if(fe&&!fe.da&&fe.capture==_){var tt=fe.listener,Ft=fe.ha||fe.src;fe.fa&&xr(c.i,fe),j=tt.call(Ft,A)!==!1&&j}}return j&&!A.defaultPrevented}function Ut(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function zs(c){c.g=Ut(()=>{c.g=null,c.i&&(c.i=!1,zs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tr extends he{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(c){he.call(this),this.h=c,this.g={}}U(kr,he);var Lr=[];function Ur(c){H(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hi(y)},c),c.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Ur(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,fi=m.JSON.parse,nr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Gi(){}Gi.prototype.h=null;function di(c){return c.h||(c.h=c.i())}function $a(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){le.call(this,"d")}U(Tr,le);function Ki(){le.call(this,"c")}U(Ki,le);var An={},zr=null;function jr(){return zr=zr||new ot}An.La="serverreachability";function Yi(c){le.call(this,An.La,c)}U(Yi,le);function D(c){const y=jr();Ge(y,new Yi(y))}An.STAT_EVENT="statevent";function z(c,y){le.call(this,An.STAT_EVENT,c),this.stat=y}U(z,le);function F(c){const y=jr();Ge(y,new z(y,c))}An.Ma="timingevent";function re(c,y){le.call(this,An.Ma,c),this.size=y}U(re,le);function ue(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function Ae(c,y,_,A,j,X){c.info(function(){if(c.g)if(X)for(var fe="",tt=X.split("&"),Ft=0;Ft<tt.length;Ft++){var nt=tt[Ft].split("=");if(1<nt.length){var Zt=nt[0];nt=nt[1];var Gt=Zt.split("_");fe=2<=Gt.length&&Gt[1]=="type"?fe+(Zt+"="+nt+"&"):fe+(Zt+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+fe})}function ve(c,y,_,A,j,X,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+X+" "+fe})}function Ee(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Te(c,_)+(A?" "+A:"")})}function Ce(c,y){c.info(function(){return"TIMEOUT: "+y})}ge.prototype.info=function(){};function Te(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<j.length;fe++)j[fe]=""}}}}return zn(_)}catch{return y}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function Et(){}U(Et,Gi),Et.prototype.g=function(){return new XMLHttpRequest},Et.prototype.i=function(){return{}},at=new Et;function lt(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var ut={},On={};function an(c,y,_){c.L=1,c.v=Wa(Hn(y)),c.m=_,c.P=!0,Xt(c,null)}function Xt(c,y){c.F=Date.now(),jn(c),c.A=Hn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),al(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Ue,c.g=Zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new tr(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Lr[0]=j.toString()),j=Lr);for(var X=0;X<j.length;X++){var fe=Us(_,j[X],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),D(),Ae(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&lr(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=lr(this.g);var y=this.g.Ba();const Ti=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=Ti?D(3):D(2)),Bn(this);var _=this.g.Z();this.X=_;t:if(bn(this)){var A=Fu(this.g);c="";var j=A.length,X=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Rn(this);var fe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(X&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,ve(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ft=this.g;if((tt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!de(tt)){var nt=tt;break t}}nt=null}if(_=nt)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,It(this,_);else{this.o=!1,this.s=3,F(12),ke(this),Rn(this);break e}}if(this.P){_=!0;let sn;for(;!this.J&&this.C<fe.length;)if(sn=$i(this,fe),sn==On){Gt==4&&(this.s=4,F(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==ut){this.s=4,F(15),Ee(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,sn,null),It(this,sn);if(bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||fe.length!=0||this.h.h||(this.s=1,F(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,fe,"[Invalid Chunked Response]"),ke(this),Rn(this);else if(0<fe.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),as(Zt),Zt.M=!0,F(11))}}else Ee(this.i,this.l,fe,null),It(this,fe);Gt==4&&ke(this),this.o&&!this.J&&(Gt==4?Qu(this.j,this):(this.o=!1,jn(this)))}else Of(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),ke(this),Rn(this)}}}catch{}finally{}};function bn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $i(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?On:(_=Number(y.substring(_,A)),isNaN(_)?ut:(A+=1,A+_>y.length?On:(y=y.slice(A,A+_),c.C=A+_,y)))}lt.prototype.cancel=function(){this.J=!0,ke(this)};function jn(c){c.S=Date.now()+c.I,ir(c,c.I)}function ir(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ue(w(c.ba,c),y)}function Bn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ce(this.i,this.A),this.L!=2&&(D(),F(17)),ke(this),this.s=2,Rn(this)):ir(this,this.S-c)};function Rn(c){c.j.G==0||c.J||Qu(c.j,c)}function ke(c){Bn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ur(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function It(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Qi(_.h,c))){if(!c.K&&Qi(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)$s(_),Ks(_);else break e;cl(_),F(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ue(w(_.Za,_),6e3));if(1>=wr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((c.K||_.g==c)&&$s(_),!de(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let nt=j[y];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];const Zt=nt[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Gt=nt[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const Ti=nt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const sn=c.g;if(sn){const Yr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var X=A.h;X.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Xi(X,X.h),X.h=null))}if(A.D){const fl=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,gt(A.I,A.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var fe=c;if(A.qa=Wu(A,A.J?A.ia:null,A.W),fe.K){Cn(A.h,fe);var tt=fe,Ft=A.L;Ft&&(tt.I=Ft),tt.B&&(Bn(tt),jn(tt)),A.g=fe}else Yu(A);0<_.i.length&&Ys(_)}else nt[0]!="stop"&&nt[0]!="close"||Ei(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Ei(_,7):ll(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}D(4)}catch{}}var mi=class{constructor(c,y){this.g=c,this.map=y}};function In(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wr(c){return c.h?1:c.g?c.g.size:0}function Qi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xi(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}In.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return W(c.i)}function If(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function js(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function nl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=js(c),A=If(c),j=A.length,X=0;X<j;X++)y.call(void 0,A[X],_&&_[X],c)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var X=c[_].substring(0,A);j=c[_].substring(A+1)}else X=c[_];y(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function zt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zt){this.h=c.h,Xa(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var y=c.i,_=new gi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),pi(this,_),this.m=c.m}else c&&(y=String(c).match(Qa))?(this.h=!1,Xa(this,y[1]||"",!0),this.o=ar(y[2]||""),this.g=ar(y[3]||"",!0),Wi(this,y[4]),this.l=ar(y[5]||"",!0),pi(this,y[6]||"",!0),this.m=ar(y[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}zt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Za(y,rl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Za(y,rl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Za(_,_.charAt(0)=="/"?Df:il,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Za(_,Bs)),c.join("")};function Hn(c){return new zt(c)}function Xa(c,y,_){c.j=_?ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function pi(c,y,_){y instanceof gi?(c.i=y,Hu(c.i,c.h)):(_||(y=Za(y,Nf)),c.i=new gi(y,c.h))}function gt(c,y,_){c.i.set(y,_)}function Wa(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Za(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rl=/[#\/\?@]/g,il=/[#\?:]/g,Df=/[#\?]/g,Nf=/[#\?@]/g,Bs=/#/g;function gi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sr(c){c.g||(c.g=new Map,c.h=0,c.i&&Cf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=gi.prototype,r.add=function(c,y){sr(this),this.i=null,c=Br(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function yi(c,y){sr(c),y=Br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function _i(c,y){return sr(c),y=Br(c,y),c.g.has(y)}r.forEach=function(c,y){sr(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},r.na=function(){sr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let X=0;X<j.length;X++)_.push(y[A])}return _},r.V=function(c){sr(this);let y=[];if(typeof c=="string")_i(this,c)&&(y=y.concat(this.g.get(Br(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return sr(this),this.i=null,c=Br(this,c),_i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,_){yi(c,y),0<_.length&&(c.i=null,c.g.set(Br(c,y),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var j=X;fe[A]!==""&&(j+="="+encodeURIComponent(String(fe[A]))),c.push(j)}}return this.i=c.join("&")};function Br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Hu(c,y){y&&!c.j&&(sr(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(yi(this,A),al(this,j,_))},c)),c.j=y}function Ja(c,y){const _=new ge;if(m.Image){const A=new Image;A.onload=O(or,_,"TestLoadImage: loaded",!0,y,A),A.onerror=O(or,_,"TestLoadImage: error",!1,y,A),A.onabort=O(or,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(or,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Sr(c,y){const _=new ge,A=new AbortController,j=setTimeout(()=>{A.abort(),or(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(j),X.ok?or(_,"TestPingServer: ok",!0,y):or(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),or(_,"TestPingServer: error",!1,y)})}function or(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function es(){this.g=new nr}function Hr(c,y,_){const A=_||"";try{nl(c,function(j,X){let fe=j;g(j)&&(fe=zn(j)),y.push(A+X+"="+encodeURIComponent(fe))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Zi(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Zi,Gi),Zi.prototype.g=function(){return new vi(this.l,this.j)},Zi.prototype.i=function(c){return function(){return c}}({});function vi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(vi,ot),r=vi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?qr(this):Fr(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,qr(this))},r.Qa=function(c){this.g&&(this.response=c,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ol(c){let y="";return H(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Wt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=ol(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):gt(c,y,_))}function ht(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ht,ot);var Hs=/^https?$/i,ts=["POST","PUT"];r=ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?di(this.o):di(at),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){qu(this,X);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ts,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of _)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){qu(this,X)}};function qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,qs(c),Gr(c)}function qs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},r.bb=function(){Fs(this)};function Fs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||lr(c)!=4||c.Z()!=2)){if(c.u&&lr(c)==4)Ut(c.Ea,0,c);else if(Ge(c,"readystatechange"),lr(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=fe===0){var j=String(c.D).match(Qa)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!Hs.test(j?j.toLowerCase():"")}_=A}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var X=2<lr(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",qs(c)}}finally{Gr(c)}}}}function Gr(c,y){if(c.g){ns(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=A}catch{}}}function ns(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fi(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const y={};c=(c.g&&2<=lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(de(c[A]))continue;var _=x(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[j]||[];y[j]=X,X.push(_)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Gs(c){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,c),this.cb=rs("retryDelaySeedMs",1e4,c),this.Wa=rs("forwardChannelMaxRetries",2,c),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new In(c&&c.concurrentRequestLimit),this.Da=new es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Gs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){F(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Wu(this,null,this.W),Ys(this)};function ll(c){if(Gu(c),c.G==3){var y=c.U++,_=Hn(c.I);if(gt(_,"SID",c.K),gt(_,"RID",y),gt(_,"TYPE","terminate"),is(c,_),y=new lt(c,c.j,y),y.L=2,y.v=Wa(Hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),jn(y)}Xu(c)}function Ks(c){c.g&&(as(c),c.g.cancel(),c.g=null)}function Gu(c){Ks(c),c.u&&(m.clearTimeout(c.u),c.u=null),$s(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ys(c){if(!wt(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||N(),pe||(ce(),pe=!0),je.add(y,c),c.B=0}}function Mf(c,y){return wr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ue(w(c.Ga,c,y),hl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new lt(this,this.j,c);let X=this.o;if(this.S&&(X?(X=b(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ku(this,j,y),_=Hn(this.I),gt(_,"RID",c),gt(_,"CVER",22),this.D&&gt(_,"X-HTTP-Session-Id",this.D),is(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(ol(X)))+"&"+y:this.m&&Wt(_,this.m,X)),Xi(this.h,j),this.Ua&&gt(_,"TYPE","init"),this.P?(gt(_,"$req",y),gt(_,"SID","null"),j.T=!0,an(j,_,null)):an(j,_,y),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||wt(this.h)||ul(this))};function ul(c,y){var _;y?_=y.l:_=c.U++;const A=Hn(c.I);gt(A,"SID",c.K),gt(A,"RID",_),gt(A,"AID",c.T),is(c,A),c.m&&c.o&&Wt(A,c.m,c.o),_=new lt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xi(c.h,_),an(_,A,y)}function is(c,y){c.H&&H(c.H,function(_,A){gt(y,A,_)}),c.l&&nl({},function(_,A){gt(y,A,_)})}function Ku(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let X=-1;for(;;){const fe=["count="+_];X==-1?0<_?(X=j[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let tt=!0;for(let Ft=0;Ft<_;Ft++){let nt=j[Ft].g;const Zt=j[Ft].map;if(nt-=X,0>nt)X=Math.max(0,j[Ft].g-100),tt=!1;else try{Hr(Zt,fe,"req"+nt+"_")}catch{A&&A(Zt)}}if(tt){A=fe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||N(),pe||(ce(),pe=!0),je.add(y,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ue(w(c.Fa,c),hl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ue(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,F(10),Ks(this),$u(this))};function as(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Hn(c.qa);gt(y,"RID","rpc"),gt(y,"SID",c.K),gt(y,"AID",c.T),gt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(y,"TO",c.ja),gt(y,"TYPE","xmlhttp"),is(c,y),c.m&&c.o&&Wt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Wa(Hn(y)),_.m=null,_.P=!0,Xt(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ks(this),cl(this),F(19))};function $s(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,y){var _=null;if(c.g==y){$s(c),as(c),c.g=null;var A=2}else if(Qi(c.h,y))_=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=jr(),Ge(A,new re(A,_)),Ys(c)}else Yu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Mf(c,y)||A==2&&cl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function hl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ei(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const j=!A;A=new zt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xa(A,"https"),Wa(A),j?Ja(A.toString(),_):Sr(A.toString(),_)}else F(2);c.G=0,c.l&&c.l.sa(y),Xu(c),Gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),F(2)):(this.j.info("Failed to ping google.com"),F(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ka,y),Y(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,_){var A=_ instanceof zt?Hn(_):new zt(_);if(A.g!="")y&&(A.g=y+"."+A.g),Wi(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var X=new zt(null);A&&Xa(X,A),y&&(X.g=y),j&&Wi(X,j),_&&(X.l=_),A=X}return _=c.D,y=c.ya,_&&y&&gt(A,_,y),gt(A,"VER",c.la),is(c,A),A}function Zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new Zi({eb:_})):new ht(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qs(){}Qs.prototype.g=function(c,y){return new Dn(c,y)};function Dn(c,y){ot.call(this),this.g=new Gs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!de(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!de(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Kr(this)}U(Dn,ot),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ll(this.g)},Dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new mi(y.Ya++,c)),y.G==3&&Ys(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,Dn.aa.N.call(this)};function ec(c){Tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(ec,Tr);function tc(){Ki.call(this),this.status=1}U(tc,Ki);function Kr(c){this.g=c}U(Kr,Ju),Kr.prototype.ua=function(){Ge(this.g,"a")},Kr.prototype.ta=function(c){Ge(this.g,new ec(c))},Kr.prototype.sa=function(c){Ge(this.g,new tc)},Kr.prototype.ra=function(){Ge(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,ww=function(){return new Qs},Tw=function(){return jr()},Ew=An,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,ph=we,He.COMPLETE="complete",vw=He,$a.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ou=$a,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,_w=ht}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",BE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new nf("@firebase/firestore");function Ro(){return Cs.logLevel}function ye(r,...e){if(Cs.logLevel<=We.DEBUG){const n=e.map(qp);Cs.debug(`Firestore (${$o}): ${r}`,...n)}}function Ui(r,...e){if(Cs.logLevel<=We.ERROR){const n=e.map(qp);Cs.error(`Firestore (${$o}): ${r}`,...n)}}function Uo(r,...e){if(Cs.logLevel<=We.WARN){const n=e.map(qp);Cs.warn(`Firestore (${$o}): ${r}`,...n)}}function qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Sw(r,a,n)}function Sw(r,e,n){let a=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ui(a),new Error(a)}function ft(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||Sw(e,o,a)}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class N2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Oa,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Oa)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft(typeof a.accessToken=="string",31837,{l:a}),new Aw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class M2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=x2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ze(r,e){return r<e?-1:r>e?1:0}function sp(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Hm(o)===Hm(u)?Ze(o,u):Hm(o)?1:-1}return Ze(r.length,e.length)}const k2=55296,L2=57343;function Hm(r){const e=r.charCodeAt(0);return e>=k2&&e<=L2}function zo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Jr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Jr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ze(e.length,n.length)}static compareSegments(e,n){const a=Jr.isNumericId(e),o=Jr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class bt extends Jr{construct(e,n,a){return new bt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Jr{construct(e,n,a){return new hn(e,n,a)}static isValidIdentifier(e){return U2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new hn([qE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(bt.fromString(e))}static fromName(e){return new De(bt.fromString(e).popFirst(5))}static empty(){return new De(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,e,n){if(!n)throw new be(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function z2(r,e,n,a){if(e===!0&&a===!0)throw new be(oe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function FE(r){if(!De.isDocumentKey(r))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function GE(r){if(De.isDocumentKey(r))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function Ds(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(r);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Mu(r,e){if(!Rw(r))throw new be(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new be(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,YE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*YE);return new Rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:qt("string",Rt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Rt(0,0))}static max(){return new Le(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function j2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(a===1e9?new Rt(n+1,0):new Rt(n,a));return new ka(o,De.empty(),e)}function B2(r){return new ka(r.readTime,r.key,Tu)}class ka{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ka(Le.min(),De.empty(),Tu)}static max(){return new ka(Le.max(),De.empty(),Tu)}}function H2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(r.documentKey,e.documentKey),n!==0?n:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==q2)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,a)=>{n(e)})}static reject(e){return new ie((n,a)=>{a(e)})}static waitFor(e){return new ie((n,a)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const a of e)n=n.next(o=>o?ie.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ie((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&a(h)},v=>o(v))}})}static doWhile(e,n){return new ie((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function G2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function of(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function K2(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function Y2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$E(e)),e=$2(r.get(n),e);return $E(e)}function $2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Iw:n+="";break;default:n+=u}}return n}function $E(r){return r+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function qa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Cw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new cn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Qt(hn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Dw("Invalid base64 string: "+u):u}}(e);return new dn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const n=Q2.exec(r);if(ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ua(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="server_timestamp",Ow="__type__",Mw="__previous_value__",Pw="__local_write_time__";function Yp(r){return(r?.mapValue?.fields||{})[Ow]?.stringValue===Nw}function lf(r){const e=r.mapValue.fields[Mw];return Yp(e)?lf(e):e}function wu(r){const e=La(r.mapValue.fields[Pw].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,a,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ph="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",W2="__max__",sh={mapValue:{}},xw="__vector__",Vh="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:J2(r)?9007199254740991:Z2(r)?10:11:Ve(28295,{value:r})}function li(r,e){if(r===e)return!0;const n=za(r);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return wu(r).isEqual(wu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=La(o.timestampValue),m=La(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ua(o.bytesValue).isEqual(Ua(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=kt(o.doubleValue),m=kt(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(QE(h)!==QE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!li(h[p],m[p])))return!1;return!0}(r,e);default:return Ve(52216,{left:r})}}function Au(r,e){return(r.values||[]).find(n=>li(n,e))!==void 0}function jo(r,e){if(r===e)return 0;const n=za(r),a=za(e);if(n!==a)return Ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=kt(u.integerValue||u.doubleValue),p=kt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return WE(r.timestampValue,e.timestampValue);case 4:return WE(wu(r),wu(e));case 5:return sp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Ua(u),p=Ua(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ze(m[g],p[g]);if(v!==0)return v}return Ze(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ze(kt(u.latitude),kt(h.latitude));return m!==0?m:Ze(kt(u.longitude),kt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ZE(r.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Vh]?.arrayValue,v=p[Vh]?.arrayValue,S=Ze(g?.values?.length||0,v?.values?.length||0);return S!==0?S:ZE(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const w=sp(p[S],v[S]);if(w!==0)return w;const O=jo(m[p[S]],g[v[S]]);if(O!==0)return O}return Ze(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function WE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const n=La(r),a=La(e),o=Ze(n.seconds,a.seconds);return o!==0?o:Ze(n.nanos,a.nanos)}function ZE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=jo(n[o],a[o]);if(u)return u}return Ze(n.length,a.length)}function Bo(r){return op(r)}function op(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=La(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ua(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return De.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=op(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${op(n.fields[h])}`;return o+"}"}(r.mapValue):Ve(61005,{value:r})}function gh(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ua(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+gh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return qa(a.fields,(u,h)=>{o+=u.length+gh(h)}),o}(r.mapValue);default:throw Ve(13486,{value:r})}}function lp(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function JE(r){return!!r&&"nullValue"in r}function eT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function Z2(r){return(r?.mapValue?.fields||{})[Vw]?.stringValue===xw}function fu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qa(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=fu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(r.arrayValue.values[n]);return e}return{...r}}function J2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=hn.emptyPath(),a={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=fu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){qa(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Ln(fu(this.value))}}function kw(r){const e=[];return qa(r.fields,(n,a)=>{const o=new hn([n]);if(yh(a)){const u=kw(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new En(e,0,Le.min(),Le.min(),Le.min(),Ln.empty(),0)}static newFoundDocument(e,n,a,o){return new En(e,1,n,Le.min(),a,o,0)}static newNoDocument(e,n){return new En(e,2,n,Le.min(),Le.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Le.min(),Le.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function tT(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=De.comparator(De.fromName(h.referenceValue),n.key):a=jo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function nT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!li(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class $t extends Lw{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new nN(e,n,a):n==="array-contains"?new aN(e,a):n==="in"?new sN(e,a):n==="not-in"?new oN(e,a):n==="array-contains-any"?new lN(e,a):new $t(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new rN(e,a):new iN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Lw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return Uw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uw(r){return r.op==="and"}function zw(r){return tN(r)&&Uw(r)}function tN(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function up(r){if(r instanceof $t)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(zw(r))return r.filters.map(e=>up(e)).join(",");{const e=r.filters.map(n=>up(n)).join(",");return`${r.op}(${e})`}}function jw(r,e){return r instanceof $t?function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&li(a.value,o.value)}(r,e):r instanceof ui?function(a,o){return o instanceof ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&jw(h,o.filters[m]),!0):!1}(r,e):void Ve(19439)}function Bw(r){return r instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(r):r instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(Bw).join(" ,")+"}"}(r):"Filter"}class nN extends $t{constructor(e,n,a){super(e,n,a),this.key=De.fromName(a.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class rN extends $t{constructor(e,n){super(e,"in",n),this.keys=Hw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iN extends $t{constructor(e,n){super(e,"not-in",n),this.keys=Hw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hw(r,e){return(e.arrayValue?.values||[]).map(n=>De.fromName(n.referenceValue))}class aN extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&Au(n.arrayValue,this.value)}}class sN extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class oN extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class lN extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Au(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function rT(r,e=null,n=[],a=[],o=null,u=null,h=null){return new uN(r,e,n,a,o,u,h)}function Qp(r){const e=ze(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>up(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Bo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Bo(a)).join(",")),e.Te=n}return e.Te}function Xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nT(r.startAt,e.startAt)&&nT(r.endAt,e.endAt)}function cp(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cN(r,e,n,a,o,u,h,m){return new uf(r,e,n,a,o,u,h,m)}function qw(r){return new uf(r)}function iT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hN(r){return r.collectionGroup!==null}function du(r){const e=ze(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Qt(hn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new kh(u,a))}),n.has(hn.keyField().canonicalString())||e.Ie.push(new kh(hn.keyField(),a))}return e.Ie}function ti(r){const e=ze(r);return e.Ee||(e.Ee=fN(e,du(r))),e.Ee}function fN(r,e){if(r.limitType==="F")return rT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const n=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return rT(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function hp(r,e,n){return new uf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function cf(r,e){return Xp(ti(r),ti(e))&&r.limitType===e.limitType}function Fw(r){return`${Qp(ti(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>Bw(o)).join(", ")}]`),of(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Bo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Bo(o)).join(",")),`Target(${a})`}(ti(r))}; limitType=${r.limitType})`}function hf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):De.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of du(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,m,p){const g=tT(h,m,p);return h.inclusive?g<=0:g<0}(a.startAt,du(a),o)||a.endAt&&!function(h,m,p){const g=tT(h,m,p);return h.inclusive?g>=0:g>0}(a.endAt,du(a),o))}(r,e)}function dN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gw(r){return(e,n)=>{let a=!1;for(const o of du(r)){const u=mN(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function mN(r,e,n){const a=r.field.isKeyField()?De.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):Ve(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Nt(De.comparator);function zi(){return pN}const Kw=new Nt(De.comparator);function lu(...r){let e=Kw;for(const n of r)e=e.insert(n.key,n);return e}function Yw(r){let e=Kw;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function bs(){return mu()}function $w(){return mu()}function mu(){return new xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const gN=new Nt(De.comparator),yN=new Qt(De.comparator);function Je(...r){let e=yN;for(const n of r)e=e.add(n);return e}const _N=new Qt(Ze);function vN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function Qw(r){return{integerValue:""+r}}function EN(r,e){return K2(e)?Qw(e):Wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function TN(r,e,n){return r instanceof Lh?function(o,u){const h={fields:{[Ow]:{stringValue:Nw},[Pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=lf(u)),u&&(h.fields[Mw]=u),{mapValue:h}}(n,e):r instanceof bu?Ww(r,e):r instanceof Ru?Zw(r,e):function(o,u){const h=Xw(o,u),m=aT(h)+aT(o.Ae);return lp(h)&&lp(o.Ae)?Qw(m):Wp(o.serializer,m)}(r,e)}function wN(r,e,n){return r instanceof bu?Ww(r,e):r instanceof Ru?Zw(r,e):n}function Xw(r,e){return r instanceof Uh?function(a){return lp(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Lh extends ff{}class bu extends ff{constructor(e){super(),this.elements=e}}function Ww(r,e){const n=Jw(e);for(const a of r.elements)n.some(o=>li(o,a))||n.push(a);return{arrayValue:{values:n}}}class Ru extends ff{constructor(e){super(),this.elements=e}}function Zw(r,e){let n=Jw(e);for(const a of r.elements)n=n.filter(o=>!li(o,a));return{arrayValue:{values:n}}}class Uh extends ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aT(r){return kt(r.integerValue||r.doubleValue)}function Jw(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function SN(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof bu&&o instanceof bu||a instanceof Ru&&o instanceof Ru?zo(a.elements,o.elements,li):a instanceof Uh&&o instanceof Uh?li(a.Ae,o.Ae):a instanceof Lh&&o instanceof Lh}(r.transform,e.transform)}class AN{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class df{}function eS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zp(r.key,Dr.none()):new Pu(r.key,r.data,Dr.none());{const n=r.data,a=Ln.empty();let o=new Qt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Fa(r.key,a,new Wn(o.toArray()),Dr.none())}}function bN(r,e,n){r instanceof Pu?function(o,u,h){const m=o.value.clone(),p=oT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Fa?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=oT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(tS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function pu(r,e,n,a){return r instanceof Pu?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=u.value.clone(),v=lT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Fa?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=lT(u.fieldTransforms,p,h),v=h.data;return v.setAll(tS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,h,m){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function RN(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Xw(a.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(a.field,u))}return n||null}function sT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&zo(a,o,(u,h)=>SN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends df{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fa extends df{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function oT(r,e,n){const a=new Map;ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,wN(h,m,n[o]))}return a}function lT(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,TN(u,h,e))}return a}class Zp extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bN(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=$w();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=eS(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Le.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,a)=>sT(n,a))&&zo(this.baseMutations,e.baseMutations,(n,a)=>sT(n,a))}}class Jp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return gN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Jp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,it;function ON(r){switch(r){case oe.OK:return Ve(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function nS(r){if(r===void 0)return Ui("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Ht.OK:return oe.OK;case Ht.CANCELLED:return oe.CANCELLED;case Ht.UNKNOWN:return oe.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return oe.INTERNAL;case Ht.UNAVAILABLE:return oe.UNAVAILABLE;case Ht.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ht.NOT_FOUND:return oe.NOT_FOUND;case Ht.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ht.ABORTED:return oe.ABORTED;case Ht.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ht.DATA_LOSS:return oe.DATA_LOSS;default:return Ve(39323,{code:r})}}(it=Ht||(Ht={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Na([4294967295,4294967295],0);function uT(r){const e=MN().encode(r),n=new yw;return n.update(e),new Uint8Array(n.digest())}function cT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Na([n,a],0),new Na([o,u],0)]}class eg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(a<0)throw new uu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Na.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Na.fromNumber(a)));return o.compare(PN)===1&&(o=new Na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[a,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new eg(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=uT(e),[a,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new mf(Le.min(),o,new Nt(Ze),zi(),Je())}}class Vu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Vu(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class rS{constructor(e,n){this.targetId=e,this.Ce=n}}class iS{constructor(e,n,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class hT{constructor(){this.ve=0,this.Fe=fT(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),a=Je();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ve(38017,{changeType:u})}}),new Vu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VN{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=oh(),this.He=oh(),this.Ye=new Nt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(cp(u))if(a===0){const h=new De(u.path);this.et(n,h,En.newNoDocument(h,Le.min()))}else ft(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ua(a).toUint8Array()}catch(p){if(p instanceof Dw)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(h,o,u)}catch(p){return Uo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&cp(m.target)){const p=new De(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,En.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}});let a=Je();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new mf(e,n,this.Ye,this.je,a);return this.je=zi(),this.Je=oh(),this.He=oh(),this.Ye=new Nt(Ze),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new Nt(De.comparator)}function fT(){return new Nt(De.comparator)}const xN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class UN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(r,e){return r.useProto3Json||of(e)?e:{value:e}}function zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zN(r,e){return zh(r,e.toTimestamp())}function ni(r){return ft(!!r,49232),Le.fromTimestamp(function(n){const a=La(n);return new Rt(a.seconds,a.nanos)}(r))}function tg(r,e){return dp(r,e).canonicalString()}function dp(r,e){const n=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function sS(r){const e=bt.fromString(r);return ft(hS(e),10190,{key:e.toString()}),e}function mp(r,e){return tg(r.databaseId,e.path)}function qm(r,e){const n=sS(e);if(n.get(1)!==r.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new De(lS(n))}function oS(r,e){return tg(r.databaseId,e)}function jN(r){const e=sS(r);return e.length===4?bt.emptyPath():lS(e)}function pp(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lS(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dT(r,e,n){return{name:mp(r,e),fields:n.value.mapValue.fields}}function BN(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ft(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?oe.UNKNOWN:nS(g.code);return new be(v,g.message||"")}(h);n=new iS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qm(r,a.document.name),u=ni(a.document.updateTime),h=a.document.createTime?ni(a.document.createTime):Le.min(),m=new Ln({mapValue:{fields:a.document.fields}}),p=En.newFoundDocument(o,u,h,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new vh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qm(r,a.document),u=a.readTime?ni(a.readTime):Le.min(),h=En.newNoDocument(o,u),m=a.removedTargetIds||[];n=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qm(r,a.document),u=a.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new NN(o,u),m=a.targetId;n=new rS(m,h)}}return n}function HN(r,e){let n;if(e instanceof Pu)n={update:dT(r,e.key,e.value)};else if(e instanceof Zp)n={delete:mp(r,e.key)};else if(e instanceof Fa)n={update:dT(r,e.key,e.data),updateMask:WN(e.fieldMask)};else{if(!(e instanceof IN))return Ve(16599,{Vt:e.type});n={verify:mp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ve(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)}(r,e.precondition)),n}function qN(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?ni(o.updateTime):ni(u);return h.isEqual(Le.min())&&(h=ni(u)),new AN(h,o.transformResults||[])}(n,e))):[]}function FN(r,e){return{documents:[oS(r,e.path)]}}function GN(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=oS(r,o);const u=function(g){if(g.length!==0)return cS(ui.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Co(w.field),direction:$N(w.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=fp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function KN(r){let e=jN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ft(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const w=uS(S);return w instanceof ui&&zw(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(w=>function(U){return new kh(Do(U.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,of(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,O=S.values||[];return new xh(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,O=S.values||[];return new xh(O,w)}(n.endAt)),cN(e,o,h,u,m,"F",p,g)}function YN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Do(n.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(n.unaryFilter.field);return $t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Do(n.unaryFilter.field);return $t.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(r):r.fieldFilter!==void 0?function(n){return $t.create(Do(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(a=>uS(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(r):Ve(30097,{filter:r})}function $N(r){return xN[r]}function QN(r){return kN[r]}function XN(r){return LN[r]}function Co(r){return{fieldPath:r.canonicalString()}}function Do(r){return hn.fromServerFormat(r.fieldPath)}function cS(r){return r instanceof $t?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:QN(n.op),value:n.value}}}(r):r instanceof ui?function(n){const a=n.getFilters().map(o=>cS(o));return a.length===1?a[0]:{compositeFilter:{op:XN(n.op),filters:a}}}(r):Ve(54877,{filter:r})}function WN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,a,o,u=Le.min(),h=Le.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.yt=e}}function JN(r){const e=KN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Cn=new tO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ka.min())}updateCollectionGroup(e,n,a){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class tO{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Qt(bt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Qt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(fS,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="LruGarbageCollector",nO=1048576;function gT([r,e],[n,a]){const o=Ze(r,n);return o===0?Ze(e,a):o}class rO{constructor(e){this.Ir=e,this.buffer=new Qt(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();gT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(pT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?ye(pT,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)})}}class aO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(sf.ce);const a=new rO(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(mT)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),Ro()<=We.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function sO(r,e){return new aO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ie.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&pu(a.mutation,o,Wn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Je()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Je()){const o=bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=lu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=bs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Je()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,o){let u=zi();const h=mu(),m=function(){return mu()}();return n.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Fa)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),pu(v.mutation,g,v.mutation.getFieldMask(),Rt.now())):h.set(g.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>m.set(g,new lO(v,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const a=mu();let o=new Nt((h,m)=>h-m),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||Wn.empty();v=m.applyToLocalView(g,v),a.set(p,v);const S=(o.get(m.batchId)||Je()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,S=$w();v.forEach(w=>{if(!u.has(w)){const O=eS(n.get(w),a.get(w));O!==null&&S.set(w,O),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ie.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return De.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ie.resolve(bs());let m=Tu,p=u;return h.next(g=>ie.forEach(g,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Je())).next(v=>({batchId:m,changes:Yw(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(a=>{let o=lu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(S,w){return new uf(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((S,w)=>{h=h.insert(S,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,En.newInvalidDocument(v)))});let m=lu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&pu(v.mutation,g,Wn.empty(),Rt.now()),hf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:ni(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.overlays=new Nt(De.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const a=bs();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,n,a){const o=bs(),u=n.length+1,h=new De(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Nt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=bs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ie.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new DN(n,a));let u=this.qr.get(n);u===void 0&&(u=Je(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Qr=new Qt(nn.$r),this.Ur=new Qt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new nn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new De(new bt([])),a=new nn(n,e),o=new nn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new bt([])),a=new nn(n,e),o=new nn(n,e+1);let u=Je();return this.Ur.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new nn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(nn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CN(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Kp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Qt(Ze);return n.forEach(o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{a=a.add(m.Yr)})}),ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;De.isDocumentKey(u)||(u=u.child(""));const h=new nn(new De(u),0);let m=new Qt(Ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ie.forEach(n.mutations,o=>{const u=new nn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new nn(n,0),o=this.Zr.firstAfterOrEqual(a);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.ri=e,this.docs=function(){return new Nt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ie.resolve(a?a.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let a=zi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))}),ie.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=zi();const h=n.path,m=new De(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||H2(B2(v),a)<=0||(o.has(v.key)||hf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ve(9500)}ii(e,n){return ie.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new pO(this)}getSize(e){return ie.resolve(this.size)}}class pO extends oO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.persistence=e,this.si=new xs(n=>Qp(n),Xp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ie.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ie.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ie.resolve(a)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new fO,this.referenceDelegate=e(this),this.Pi=new gO(this),this.indexManager=new eO,this.remoteDocumentCache=function(o){return new mO(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new ZN(n),this.Ii=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new dO(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const o=new yO(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ie.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class yO extends F2{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ng,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ie.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,a=>{const o=De.fromPath(a);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new xs(a=>Y2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=sO(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return ie.forEach(this.pi,(a,o)=>this.br(e,a,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,n).next(m=>{m||(a++,u.removeEntry(h,Le.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}br(e,n,a){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qI()?8:G2(Tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new _O;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>u.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(Ro()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Ro()<=We.DEBUG&&ye("QueryEngine","Query:",Io(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ro()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ie.resolve())}ys(e,n){if(iT(n))return ie.resolve(null);let a=ti(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),a=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=Je(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,hp(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,a,o){return iT(n)||o.isEqual(Le.min())?ie.resolve(null):this.ps.getDocuments(e,a).next(u=>{const h=this.Ds(n,u);return this.Cs(n,h,a,o)?ie.resolve(null):(Ro()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,h,n,j2(o,Tu)).next(m=>m))})}Ds(e,n){let a=new Qt(Gw(e));return n.forEach((o,u)=>{hf(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Ro()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",EO=3e8;class TO{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Nt(Ze),this.xs=new xs(u=>Qp(u),Xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wO(r,e,n,a){return new TO(r,e,n,a)}async function mS(r,e){const n=ze(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=Je();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function SO(r,e){const n=ze(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const S=g.batch,w=S.keys();let O=ie.resolve();return w.forEach(U=>{O=O.next(()=>v.getEntry(p,U)).next(W=>{const Y=g.docVersions.get(U);ft(Y!==null,48541),W.version.compareTo(Y)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),v.addEntry(W)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function pS(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AO(r,e){const n=ze(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,S)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(dn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,a)),o=o.insert(S,O),function(W,Y,Z){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=EO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(w,O,v)&&m.push(n.Pi.updateTargetData(u,O))});let p=zi(),g=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(bO(u,h,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!a.isEqual(Le.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return ie.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function bO(r,e,n){let a=Je(),o=Je();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=zi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye(ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function RO(r,e){const n=ze(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function IO(r,e){const n=ze(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(a).next(h=>(o=new Ia(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function gp(r,e,n){const a=ze(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Xo(h))throw h;ye(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function yT(r,e,n){const a=ze(r);let o=Le.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const S=ze(p),w=S.xs.get(v);return w!==void 0?ie.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,v)}(a,h,ti(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Fs.getDocumentsMatchingQuery(h,e,n?o:Le.min(),n?u:Je())).next(m=>(CO(a,dN(e),m),{documents:m,Qs:u})))}function CO(r,e,n){let a=r.Os.get(e)||Le.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Os.set(e,a)}class _T{constructor(){this.activeTargetIds=vN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DO{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(vT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function yp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",OO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const h=yp(),m=this.zo(e,n.toUriEncodedString());ye(Fm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Ko(g);return this.Jo(e,m,p,a,v).then(S=>(ye(Fm,`Received RPC '${e}' ${h}: `,S),S),S=>{throw Uo(Fm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",a),S})}Ho(e,n,a,o,u,h){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const a=OO[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class VO extends MO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const h=yp();return new Promise((m,p)=>{const g=new _w;g.setWithCredentials(!0),g.listenOnce(vw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const S=g.getResponseJson();ye(_n,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case ph.TIMEOUT:ye(_n,`RPC '${e}' ${h} timed out`),p(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const w=g.getStatus();if(ye(_n,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const W=function(Z){const de=Z.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(de)>=0?de:oe.UNKNOWN}(U.status);p(new be(W,U.message))}else p(new be(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(_n,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ye(_n,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,a,15)})}T_(e,n,a){const o=yp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ww(),m=Tw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(_n,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=h.createWebChannel(v,p);this.I_(S);let w=!1,O=!1;const U=new PO({Yo:Y=>{O?ye(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(w||(ye(_n,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ye(_n,`RPC '${e}' stream ${o} sending:`,Y),S.send(Y))},Zo:()=>S.close()}),W=(Y,Z,de)=>{Y.listen(Z,se=>{try{de(se)}catch(Re){setTimeout(()=>{throw Re},0)}})};return W(S,ou.EventType.OPEN,()=>{O||(ye(_n,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),W(S,ou.EventType.CLOSE,()=>{O||(O=!0,ye(_n,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))}),W(S,ou.EventType.ERROR,Y=>{O||(O=!0,Uo(_n,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),U.a_(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),W(S,ou.EventType.MESSAGE,Y=>{if(!O){const Z=Y.data[0];ft(!!Z,16349);const de=Z,se=de?.error||de[0]?.error;if(se){ye(_n,`RPC '${e}' stream ${o} received error:`,se);const Re=se.status;let me=function(b){const R=Ht[b];if(R!==void 0)return nS(R)}(Re),H=se.message;me===void 0&&(me=oe.INTERNAL,H="Unknown error status: "+Re+" with message "+se.message),O=!0,U.a_(new be(me,H)),S.close()}else ye(_n,`RPC '${e}' stream ${o} received:`,Z),U.u_(Z)}}),W(m,Ew.STAT_EVENT,Y=>{Y.stat===ap.PROXY?ye(_n,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===ap.NOPROXY&&ye(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(r){return new UN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class yS{constructor(e,n,a,o,u,h,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new be(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xO extends yS{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BN(this.serializer,e),a=function(u){if(!("targetChange"in u))return Le.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?ni(h.readTime):Le.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=cp(p)?{documents:FN(u,p)}:{query:GN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=aS(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Le.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=YN(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class kO extends yS{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qN(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>HN(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{}class UO extends LO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,dp(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(oe.UNKNOWN,u.toString())})}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,dp(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new be(oe.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class jO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{a.enqueueAndForget(async()=>{ks(this)&&(ye(Ns,"Restarting streams for network reachability change."),await async function(p){const g=ze(p);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gf(g)}(this))})}),this.Ra=new zO(a,o)}}async function gf(r){if(ks(r))for(const e of r.da)await e(!0)}async function xu(r){for(const e of r.da)await e(!1)}function _S(r,e){const n=ze(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?lg(n):Wo(n).O_()&&og(n,e))}function sg(r,e){const n=ze(r),a=Wo(n);n.Ia.delete(e),a.O_()&&vS(n,e),n.Ia.size===0&&(a.O_()?a.L_():ks(n)&&n.Ra.set("Unknown"))}function og(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(r).Y_(e)}function vS(r,e){r.Va.Ue(e),Wo(r).Z_(e)}function lg(r){r.Va=new VN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Ra.ua()}function ug(r){return ks(r)&&!Wo(r).x_()&&r.Ia.size>0}function ks(r){return ze(r).Ea.size===0}function ES(r){r.Va=void 0}async function BO(r){r.Ra.set("Online")}async function HO(r){r.Ia.forEach((e,n)=>{og(r,e)})}async function qO(r,e){ES(r),ug(r)?(r.Ra.ha(e),lg(r)):r.Ra.set("Unknown")}async function FO(r,e,n){if(r.Ra.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(a){ye(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(r,a)}else if(e instanceof vh?r.Va.Ze(e):e instanceof rS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Le.min()))try{const a=await pS(r.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),vS(u,p);const S=new Ia(v.target,p,g,v.sequenceNumber);og(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ye(Ns,"Failed to raise snapshot:",a),await Bh(r,a)}}async function Bh(r,e,n){if(!Xo(e))throw e;r.Ea.add(1),await xu(r),r.Ra.set("Offline"),n||(n=()=>pS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Ns,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await gf(r)})}function TS(r,e){return e().catch(n=>Bh(r,n,e))}async function yf(r){const e=ze(r),n=ja(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;GO(e);)try{const o=await RO(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,KO(e,o)}catch(o){await Bh(e,o)}wS(e)&&SS(e)}function GO(r){return ks(r)&&r.Ta.length<10}function KO(r,e){r.Ta.push(e);const n=ja(r);n.O_()&&n.X_&&n.ea(e.mutations)}function wS(r){return ks(r)&&!ja(r).x_()&&r.Ta.length>0}function SS(r){ja(r).start()}async function YO(r){ja(r).ra()}async function $O(r){const e=ja(r);for(const n of r.Ta)e.ea(n.mutations)}async function QO(r,e,n){const a=r.Ta.shift(),o=Jp.from(a,e,n);await TS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yf(r)}async function XO(r,e){e&&ja(r).X_&&await async function(a,o){if(function(h){return ON(h)&&h!==oe.ABORTED}(o.code)){const u=a.Ta.shift();ja(a).B_(),await TS(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(a)}}(r,e),wS(r)&&SS(r)}async function wT(r,e){const n=ze(r);n.asyncQueue.verifyOperationInProgress(),ye(Ns,"RemoteStore received new credentials");const a=ks(n);n.Ea.add(3),await xu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gf(n)}async function WO(r,e){const n=ze(r);e?(n.Ea.delete(2),await gf(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Wo(r){return r.ma||(r.ma=function(n,a,o){const u=ze(n);return u.sa(),new xO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:BO.bind(null,r),t_:HO.bind(null,r),r_:qO.bind(null,r),H_:FO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),ug(r)?lg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ES(r))})),r.ma}function ja(r){return r.fa||(r.fa=function(n,a,o){const u=ze(n);return u.sa(),new kO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YO.bind(null,r),r_:XO.bind(null,r),ta:$O.bind(null,r),na:QO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await yf(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Ns,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new cg(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Xo(r))return new be(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||De.comparator(n.key,a.key):(n,a)=>De.comparator(n.key,a.key),this.keyedMap=lu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Mo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ga=new Nt(De.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class qo{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new qo(e,n,Mo.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JO{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=ze(n),u=o.queries;o.queries=AT(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new be(oe.ABORTED,"Firestore shutting down"))}}function AT(){return new xs(r=>Fw(r),cf)}async function eM(r,e){const n=ze(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new ZO,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=hg(h,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&fg(n)}async function tM(r,e){const n=ze(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function nM(r,e){const n=ze(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(a=!0);h.wa=o}}a&&fg(n)}function rM(r,e,n){const a=ze(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function fg(r){r.Ca.forEach(e=>{e.next()})}var _p,bT;(bT=_p||(_p={})).Ma="default",bT.Cache="cache";class iM{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new qo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class aM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=Gw(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new ST,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const w=o.get(v),O=hf(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),W=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Y=!1;w&&O?w.data.isEqual(O.data)?U!==W&&(a.track({type:3,doc:O}),Y=!0):this.su(w,O)||(a.track({type:2,doc:O}),Y=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(a.track({type:0,doc:O}),Y=!0):w&&!O&&(a.track({type:1,doc:w}),Y=!0,(p||g)&&(m=!0)),Y&&(O?(h=h.add(O),u=W?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,S)=>function(O,U){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:Y})}};return W(O)-W(U)}(v.type,S.type)||this.eu(v.doc,S.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new qo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new bS(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new AS(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class sM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class oM{constructor(e){this.key=e,this.hu=!1}}class lM{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new xs(m=>Fw(m),cf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(De.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uM(r,e,n=!0){const a=OS(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await RS(a,e,n,!0),o}async function cM(r,e){const n=OS(r);await RS(n,e,!0,!1)}async function RS(r,e,n,a){const o=await IO(r.localStore,ti(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await hM(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&_S(r.remoteStore,o),m}async function hM(r,e,n,a,o){r.pu=(S,w,O)=>async function(W,Y,Z,de){let se=Y.view.ru(Z);se.Cs&&(se=await yT(W.localStore,Y.query,!1).then(({documents:M})=>Y.view.ru(M,se)));const Re=de&&de.targetChanges.get(Y.targetId),me=de&&de.targetMismatches.get(Y.targetId)!=null,H=Y.view.applyChanges(se,W.isPrimaryClient,Re,me);return IT(W,Y.targetId,H.au),H.snapshot}(r,S,w,O);const u=await yT(r.localStore,e,!0),h=new aM(e,u.Qs),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);IT(r,n,g.au);const v=new sM(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function fM(r,e,n){const a=ze(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(h=>!cf(h,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&sg(a.remoteStore,o.targetId),vp(a,o.targetId)}).catch(Qo)):(vp(a,o.targetId),await gp(a.localStore,o.targetId,!0))}async function dM(r,e){const n=ze(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),sg(n.remoteStore,a.targetId))}async function mM(r,e,n){const a=TM(r);try{const o=await function(h,m){const p=ze(h),g=Rt.now(),v=m.reduce((O,U)=>O.add(U.key),Je());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=zi(),W=Je();return p.Ns.getEntries(O,v).next(Y=>{U=Y,U.forEach((Z,de)=>{de.isValidDocument()||(W=W.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,U)).next(Y=>{S=Y;const Z=[];for(const de of m){const se=RN(de,S.get(de.key).overlayedDocument);se!=null&&Z.push(new Fa(de.key,se,kw(se.value.mapValue),Dr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Z,m)}).next(Y=>{w=Y;const Z=Y.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(O,Y.batchId,Z)})}).then(()=>({batchId:w.batchId,changes:Yw(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new Nt(Ze)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(a,o.batchId,n),await ku(a,o.changes),await yf(a.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function IS(r,e){const n=ze(r);try{const a=await AO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Au.get(u);h&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ft(h.hu,14607):o.removedDocuments.size>0&&(ft(h.hu,42227),h.hu=!1))}),await ku(n,a,e)}catch(a){await Qo(a)}}function RT(r,e,n){const a=ze(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=ze(h);p.onlineState=m;let g=!1;p.queries.forEach((v,S)=>{for(const w of S.Sa)w.va(m)&&(g=!0)}),g&&fg(p)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pM(r,e,n){const a=ze(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let h=new Nt(De.comparator);h=h.insert(u,En.newNoDocument(u,Le.min()));const m=Je().add(u),p=new mf(Le.min(),new Map,new Nt(Ze),h,m);await IS(a,p),a.du=a.du.remove(u),a.Au.delete(e),mg(a)}else await gp(a.localStore,e,!1).then(()=>vp(a,e,n)).catch(Qo)}async function gM(r,e){const n=ze(r),a=e.batch.batchId;try{const o=await SO(n.localStore,e);DS(n,a,null),CS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ku(n,o)}catch(o){await Qo(o)}}async function yM(r,e,n){const a=ze(r);try{const o=await function(h,m){const p=ze(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(ft(S!==null,37113),v=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);DS(a,e,n),CS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ku(a,o)}catch(o){await Qo(o)}}function CS(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function DS(r,e,n){const a=ze(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||NS(r,a)})}function NS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(sg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),mg(r))}function IT(r,e,n){for(const a of n)a instanceof AS?(r.Ru.addReference(a.key,e),_M(r,a)):a instanceof bS?(ye(dg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||NS(r,a.key)):Ve(19791,{wu:a})}function _M(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ye(dg,"New document in limbo: "+n),r.Eu.add(a),mg(r))}function mg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new De(bt.fromString(e)),a=r.fu.next();r.Au.set(a,new oM(n)),r.du=r.du.insert(n,a),_S(r.remoteStore,new Ia(ti(qw(n.path)),a,"TargetPurposeLimboResolution",sf.ce))}}async function ku(r,e,n){const a=ze(r),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach((m,p)=>{h.push(a.pu(p,e,n).then(g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=ig.As(p.targetId,g);u.push(v)}}))}),await Promise.all(h),a.Pu.H_(o),await async function(p,g){const v=ze(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ie.forEach(g,w=>ie.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(S,w.targetId,O)).next(()=>ie.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))}catch(S){if(!Xo(S))throw S;ye(ag,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const O=v.Ms.get(w),U=O.snapshotVersion,W=O.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,W)}}}(a.localStore,u))}async function vM(r,e){const n=ze(r);if(!n.currentUser.isEqual(e)){ye(dg,"User change. New user:",e.toKey());const a=await mS(n.localStore,e);n.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new be(oe.CANCELLED,h))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ku(n,a.Ls)}}function EM(r,e){const n=ze(r),a=n.Au.get(e);if(a&&a.hu)return Je().add(a.key);{let o=Je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function OS(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.Pu.H_=nM.bind(null,e.eventManager),e.Pu.yu=rM.bind(null,e.eventManager),e}function TM(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wO(this.persistence,new vO,e.initialUser,this.serializer)}Cu(e){return new dS(rg.mi,this.serializer)}Du(e){return new DO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class wM extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof jh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iO(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new dS(a=>jh.mi(a,n),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>RT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vM.bind(null,this.syncEngine),await WO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JO}()}createDatastore(e){const n=pf(e.databaseInfo.databaseId),a=function(u){return new VO(u)}(e.databaseInfo);return function(u,h,m,p){return new UO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,m){return new jO(a,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return ET.v()?new ET:new NO}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const S=new lM(o,u,h,m,p,g);return v&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=ze(n);ye(Ns,"RemoteStore shutting down."),a.Ea.add(5),await xu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class AM{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ye(Ba,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ye(Ba,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=hg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ba,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await mS(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function CT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await bM(r);ye(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>wT(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>wT(e.remoteStore,o)),r._onlineComponents=e}async function bM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ba,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Km(r,new Hh)}}else ye(Ba,"Using default OfflineComponentProvider"),await Km(r,new wM(void 0));return r._offlineComponents}async function MS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ba,"Using user provided OnlineComponentProvider"),await CT(r,r._uninitializedComponentsProvider._online)):(ye(Ba,"Using default OnlineComponentProvider"),await CT(r,new Ep))),r._onlineComponents}function RM(r){return MS(r).then(e=>e.syncEngine)}async function IM(r){const e=await MS(r),n=e.eventManager;return n.onListen=uM.bind(null,e.syncEngine),n.onUnlisten=fM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),n}function CM(r,e,n={}){const a=new Oa;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new SM({next:w=>{v.Nu(),h.enqueueAndForget(()=>tM(u,S)),w.fromCache&&p.source==="server"?g.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new iM(m,v,{includeMetadataChanges:!0,qa:!0});return eM(u,S)}(await IM(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firestore.googleapis.com",NT=!0;class OT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=NT}else this.host=e.host,this.ssl=e.ssl??NT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nO)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new D2;switch(a.type){case"firstParty":return new P2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=DT.get(n);a&&(ye("ComponentProvider","Removing Datastore"),DT.delete(n),a.terminate())}(this),Promise.resolve()}}function DM(r,e,n,a={}){r=Ds(r,_f);const o=Ko(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(U0(`https://${m}`),z0("Firestore",!0)),u.host!==VS&&u.host!==m&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!xa(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=vn.MOCK_USER;else{g=xI(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(S)}r._authCredentials=new N2(new Aw(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class rn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Mu(n,rn._jsonSchema))return new rn(e,a||null,new De(bt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:qt("string",rn._jsonSchemaVersion),referencePath:qt("string")};class Ma extends vf{constructor(e,n,a){super(e,n,qw(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new De(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function MT(r,e,...n){if(r=fn(r),bw("collection","path",e),r instanceof _f){const a=bt.fromString(e,...n);return GE(a),new Ma(r,null,a)}{if(!(r instanceof rn||r instanceof Ma))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return GE(a),new Ma(r.firestore,null,a)}}function NM(r,e,...n){if(r=fn(r),arguments.length===1&&(e=Fp.newId()),bw("doc","path",e),r instanceof _f){const a=bt.fromString(e,...n);return FE(a),new rn(r,null,new De(a))}{if(!(r instanceof rn||r instanceof Ma))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return FE(a),new rn(r.firestore,r instanceof Ma?r.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gS(this,"async_queue_retry"),this._c=()=>{const a=Gm();a&&ye(PT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Oa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;ye(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",xT(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:xT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Lu extends _f{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new VT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function OM(r,e){const n=typeof r=="object"?r:kp(),a=typeof r=="string"?r:Ph,o=Vs(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=PI("firestore");u&&DM(o,...u)}return o}function xS(r){if(r._terminated)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MM(r),r._firestoreClient}function MM(r){const e=r._freezeSettings(),n=function(o,u,h,m){return new X2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,PS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(dn.fromBase64String(e))}catch(n){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:qt("string",yr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:qt("string",ri._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ii(e.vectorValues);throw new be(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:qt("string",ii._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^__.*__$/;class VM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class kS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:r})}}class gg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LS(this.Ac)&&PM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||pf(e)}Cc(e,n,a,o=!1){return new gg({Ac:e,methodName:n,Dc:a,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function US(r){const e=r._freezeSettings(),n=pf(r._databaseId);return new xM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function kM(r,e,n,a,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);yg("Data must be an object, but it was:",h,a);const m=zS(a,h);let p,g;if(u.merge)p=new Wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const w=Tp(e,S,n);if(!h.contains(w))throw new be(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);BS(v,w)||v.push(w)}p=new Wn(v),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new VM(new Ln(m),p,g)}class Tf extends pg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function LM(r,e,n,a){const o=r.Cc(1,e,n);yg("Data must be an object, but it was:",o,a);const u=[],h=Ln.empty();qa(a,(p,g)=>{const v=_g(e,p,n);g=fn(g);const S=o.yc(v);if(g instanceof Tf)u.push(v);else{const w=wf(g,S);w!=null&&(u.push(v),h.set(v,w))}});const m=new Wn(u);return new kS(h,m,o.fieldTransforms)}function UM(r,e,n,a,o,u){const h=r.Cc(1,e,n),m=[Tp(e,a,n)],p=[o];if(u.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Tp(e,u[w])),p.push(u[w+1]);const g=[],v=Ln.empty();for(let w=m.length-1;w>=0;--w)if(!BS(g,m[w])){const O=m[w];let U=p[w];U=fn(U);const W=h.yc(O);if(U instanceof Tf)g.push(O);else{const Y=wf(U,W);Y!=null&&(g.push(O),v.set(O,Y))}}const S=new Wn(g);return new kS(v,S,h.fieldTransforms)}function wf(r,e){if(jS(r=fn(r)))return yg("Unsupported field value:",e,r),zS(r,e);if(r instanceof pg)return function(a,o){if(!LS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=wf(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return EN(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:zh(o.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(a instanceof ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof yr)return{bytesValue:aS(o.serializer,a._byteString)};if(a instanceof rn){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ii)return function(h,m){return{mapValue:{fields:{[Vw]:{stringValue:xw},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${Gp(a)}`)}(r,e)}function zS(r,e){const n={};return Cw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(r,(a,o)=>{const u=wf(o,e.mc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function jS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof ri||r instanceof yr||r instanceof rn||r instanceof pg||r instanceof ii)}function yg(r,e,n){if(!jS(n)||!Rw(n)){const a=Gp(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Tp(r,e,n){if((e=fn(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return _g(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const zM=new RegExp("[~\\*/\\[\\]]");function _g(r,e,n){if(e.search(zM)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new be(oe.INVALID_ARGUMENT,m+r+p)}function BS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jM extends HS{data(){return super.data()}}function qS(r,e){return typeof e=="string"?_g(r,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HM{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return qa(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map(a=>kt(a.doubleValue));return new ii(n)}convertGeoPoint(e){return new ri(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=lf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=La(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=bt.fromString(e);ft(hS(a),9688,{name:e});const o=new Su(a.get(1),a.get(3)),u=new De(a.popFirst(5));return o.isEqual(n)||Ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends HS{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(qS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:qt("string",Po._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Eh extends Po{data(e={}){return super.data(e)}}class Vo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Eh(this._firestore,this._userDataWriter,a.key,a,new uh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:FM(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:qt("string",Vo._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class GM extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function kT(r){r=Ds(r,vf);const e=Ds(r.firestore,Lu),n=xS(e),a=new GM(e);return BM(r._query),CM(n,r._query).then(o=>new Vo(e,a,r,o))}function px(r,e,n,...a){r=Ds(r,rn);const o=Ds(r.firestore,Lu),u=US(o);let h;return h=typeof(e=fn(e))=="string"||e instanceof Ef?UM(u,"updateDoc",r._key,e,n,a):LM(u,"updateDoc",r._key,e),vg(o,[h.toMutation(r._key,Dr.exists(!0))])}function gx(r){return vg(Ds(r.firestore,Lu),[new Zp(r._key,Dr.none())])}function yx(r,e){const n=Ds(r.firestore,Lu),a=NM(r),o=qM(r.converter,e);return vg(n,[kM(US(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Dr.exists(!1))]).then(()=>a)}function vg(r,e){return function(a,o){const u=new Oa;return a.asyncQueue.enqueueAndForget(async()=>mM(await RM(a),o,u)),u.promise}(xS(r),e)}(function(e,n=!0){(function(o){$o=o})(Yo),oi(new Nr("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Lu(new O2(a.getProvider("auth-internal")),new V2(h,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,v)}(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_r(jE,BE,e),_r(jE,BE,"esm2020")})();function FS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=FS,GS=new Ps("auth","Firebase",FS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new nf("@firebase/auth");function YM(r,...e){Fh.logLevel<=We.WARN&&Fh.warn(`Auth (${Yo}): ${r}`,...e)}function Th(r,...e){Fh.logLevel<=We.ERROR&&Fh.error(`Auth (${Yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,...e){throw Eg(r,...e)}function ai(r,...e){return Eg(r,...e)}function KS(r,e,n){const a={...KM(),[e]:n};return new Ps("auth","Firebase",a).create(e,{appName:r.name})}function Pa(r){return KS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return GS.create(r,...e)}function Pe(r,e,...n){if(!r)throw Eg(e,...n)}function xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function ji(r,e){r||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){return typeof self<"u"&&self.location?.href||""}function $M(){return LT()==="http:"||LT()==="https:"}function LT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($M()||j0()||"connection"in navigator)?navigator.onLine:!0}function XM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=UI()||BI()}get(){return QM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JM=new Uu(3e4,6e4);function Ls(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ga(r,e,n,a,o={}){return $S(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Ou({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return jI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(g.credentials="include"),YS.fetch()(await QS(r,r.config.apiHost,n,m),g)})}async function $S(r,e,n){r._canInitEmulator=!1;const a={...WM,...e};try{const o=new tP(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ch(r,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw KS(r,v,g);Or(r,v)}}catch(o){if(o instanceof Vr)throw o;Or(r,"network-request-failed",{message:String(o)})}}async function Sf(r,e,n,a,o={}){const u=await Ga(r,e,n,a,o);return"mfaPendingCredential"in u&&Or(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function QS(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?Tg(r.config,o):`${r.config.apiScheme}://${o}`;return ZM.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function eP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ai(this.auth,"network-request-failed")),JM.get())})}}function ch(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ai(r,e,a);return o.customData._tokenResponse=n,o}function UT(r){return r!==void 0&&r.enterprise!==void 0}class nP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rP(r,e){return Ga(r,"GET","/v2/recaptchaConfig",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(r,e){return Ga(r,"POST","/v1/accounts:delete",e)}async function Gh(r,e){return Ga(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aP(r,e=!1){const n=fn(r),a=await n.getIdToken(e),o=wg(a);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:a,authTime:gu(Ym(o.auth_time)),issuedAtTime:gu(Ym(o.iat)),expirationTime:gu(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(r){return Number(r)*1e3}function wg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zT(r){const e=wg(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Vr&&sP(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function sP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(r){const e=r.auth,n=await r.getIdToken(),a=await Iu(r,Gh(e,{idToken:n}));Pe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?XS(o.providerUserInfo):[],h=uP(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function lP(r){const e=fn(r);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uP(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function XS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(r,e){const n=await $S(r,{},async()=>{const a=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await QS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(p.credentials="include"),YS.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hP(r,e){return Ga(r,"POST","/v2/accounts:revokeToken",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=zT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await cP(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new xo;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new oP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aP(this,e)}reload(){return lP(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await Iu(this,iP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:O,providerData:U,stsTokenManager:W}=n;Pe(S&&W,e,"internal-error");const Y=xo.fromJSON(this.name,W);Pe(typeof S=="string",e,"internal-error"),Ea(a,e.name),Ea(o,e.name),Pe(typeof w=="boolean",e,"internal-error"),Pe(typeof O=="boolean",e,"internal-error"),Ea(u,e.name),Ea(h,e.name),Ea(m,e.name),Ea(p,e.name),Ea(g,e.name),Ea(v,e.name);const Z=new Cr({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(Z.providerData=U.map(de=>({...de}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,a=!1){const o=new xo;o.updateFromServerResponse(n);const u=new Cr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Kh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?XS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new xo;m.updateFromIdToken(a);const p=new Cr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;function ki(r){ji(r instanceof Function,"Expected a class definition");let e=jT.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WS.type="NONE";const BT=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class ko{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ko(ki(BT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ki(BT);const h=wh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let S;if(typeof v=="string"){const w=await Gh(e,{idToken:v}).catch(()=>{});if(!w)break;S=await Cr._fromGetAccountInfoResponse(e,w,v)}else S=Cr._fromJSON(e,v);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ko(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ko(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rA(e))return"Blackberry";if(iA(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function ZS(r=Tn()){return/firefox\//i.test(r)}function JS(r=Tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(r=Tn()){return/crios\//i.test(r)}function tA(r=Tn()){return/iemobile/i.test(r)}function nA(r=Tn()){return/android/i.test(r)}function rA(r=Tn()){return/blackberry/i.test(r)}function iA(r=Tn()){return/webos/i.test(r)}function Sg(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fP(r=Tn()){return Sg(r)&&!!window.navigator?.standalone}function dP(){return HI()&&document.documentMode===10}function aA(r=Tn()){return Sg(r)||nA(r)||iA(r)||rA(r)||/windows phone/i.test(r)||tA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r,e=[]){let n;switch(r){case"Browser":n=HT(Tn());break;case"Worker":n=`${HT(Tn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(r,e={}){return Ga(r,"GET","/v2/passwordPolicy",Ls(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=6;class yP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qT(this),this.idTokenSubscription=new qT(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),a=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(Pa(this));const n=e?fn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pP(this),n=new yP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ps("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await hP(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zo(r){return fn(r)}class qT{constructor(e){this.auth=e,this.observer=null,this.addObserver=QI(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vP(r){Af=r}function oA(r){return Af.loadJS(r)}function EP(){return Af.recaptchaEnterpriseScript}function TP(){return Af.gapiScript}function wP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class SP{constructor(){this.enterprise=new AP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bP="recaptcha-enterprise",lA="NO_RECAPTCHA";class RP{constructor(e){this.type=bP,this.auth=Zo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{rP(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new nP(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;UT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(lA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SP().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&UT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EP();p.length!==0&&(p+=m),oA(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function FT(r,e,n,a=!1,o=!1){const u=new RP(r);let h;if(o)h=lA;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function GT(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await FT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await FT(r,e,n,n==="getOobCode");return a(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(r,e){const n=Vs(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(xa(u,e??{}))return o;Or(o,"already-initialized")}return n.initialize({options:e})}function CP(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ki);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function DP(r,e,n){const a=Zo(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=uA(e),{host:h,port:m}=NP(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(xa(g,a.config.emulator)&&xa(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Ko(h)?(U0(`${u}//${h}${p}`),z0("Auth",!0)):OP()}function uA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function NP(r){const e=uA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:KT(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:KT(h)}}}function KT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OP(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function MP(r,e){return Ga(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(r,e){return Sf(r,"POST","/v1/accounts:signInWithPassword",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(r,e){return Sf(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}async function xP(r,e){return Sf(r,"POST","/v1/accounts:signInWithEmailLink",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Ag{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Cu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GT(e,n,"signInWithPassword",PP);case"emailLink":return VP(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GT(e,a,"signUpPassword",MP);case"emailLink":return xP(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,e){return Sf(r,"POST","/v1/accounts:signInWithIdp",Ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="http://localhost";class Os extends Ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const h=new Os(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Lo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(r){const e=au(su(r)).link,n=e?au(su(e)).deep_link_id:null,a=au(su(r)).deep_link_id;return(a?au(su(a)).link:null)||a||n||e||r}class bg{constructor(e){const n=au(su(e)),a=n.apiKey??null,o=n.oobCode??null,u=LP(n.mode??null);Pe(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=UP(e);try{return new bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=bg.parseLink(n);return Pe(a,"argument-error"),Cu._fromEmailAndCode(e,a.code,a.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends cA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends zu{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Aa.credential(n,a)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends zu{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends zu{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ra.credential(n,a)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Cr._fromIdTokenResponse(e,a,o),h=YT(a);return new Fo({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=YT(a);return new Fo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function YT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Vr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Yh(e,n,a,o)}}function hA(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(r,u,e,a):u})}async function zP(r,e,n=!1){const a=await Iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Fo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(r,e,n=!1){const{auth:a}=r;if(Ir(a.app))return Promise.reject(Pa(a));const o="reauthenticate";try{const u=await Iu(r,hA(a,o,e,r),n);Pe(u.idToken,a,"internal-error");const h=wg(u.idToken);Pe(h,a,"internal-error");const{sub:m}=h;return Pe(r.uid===m,a,"user-mismatch"),Fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Or(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(r,e,n=!1){if(Ir(r.app))return Promise.reject(Pa(r));const a="signIn",o=await hA(r,a,e),u=await Fo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function BP(r,e){return fA(Zo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(r){const e=Zo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qP(r,e,n){return Ir(r.app)?Promise.reject(Pa(r)):BP(fn(r),Jo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&HP(r),a})}function FP(r,e,n,a){return fn(r).onIdTokenChanged(e,n,a)}function GP(r,e,n){return fn(r).beforeAuthStateChanged(e,n)}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e3,YP=10;class mA extends dA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);dP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YP):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mA.type="LOCAL";const $P=mA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends dA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pA.type="SESSION";const gA=pA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new bf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await QP(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Rg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function WP(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function ZP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JP(){return navigator?.serviceWorker?.controller||null}function eV(){return yA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebaseLocalStorageDb",tV=1,Qh="firebaseLocalStorage",vA="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rf(r,e){return r.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function nV(){const r=indexedDB.deleteDatabase(_A);return new ju(r).toPromise()}function Ap(){const r=indexedDB.open(_A,tV);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qh,{keyPath:vA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qh)?e(a):(a.close(),await nV(),e(await Ap()))})})}async function $T(r,e,n){const a=Rf(r,!0).put({[vA]:e,value:n});return new ju(a).toPromise()}async function rV(r,e){const n=Rf(r,!1).get(e),a=await new ju(n).toPromise();return a===void 0?null:a.value}function QT(r,e){const n=Rf(r,!0).delete(e);return new ju(n).toPromise()}const iV=800,aV=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>aV)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(eV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZP(),!this.activeServiceWorker)return;this.sender=new XP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await $T(e,$h,"1"),await QT(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$T(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>rV(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rf(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const sV=EA;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(r,e){return e?ki(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lV(r){return fA(r.auth,new Ig(r),r.bypassAuthState)}function uV(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),jP(n,new Ig(r),r.bypassAuthState)}async function cV(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),zP(n,new Ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lV;case"linkViaPopup":case"linkViaRedirect":return cV;case"reauthViaPopup":case"reauthViaRedirect":return uV;default:Or(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Uu(2e3,1e4);class No extends TA{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hV.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="pendingRedirect",Sh=new Map;class dV extends TA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const a=await mV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mV(r,e){const n=yV(e),a=gV(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function pV(r,e){Sh.set(r._key(),e)}function gV(r){return ki(r._redirectPersistence)}function yV(r){return wh(fV,r.config.apiKey,r.name)}async function _V(r,e,n=!1){if(Ir(r.app))return Promise.reject(Pa(r));const a=Zo(r),o=oV(a,e),h=await new dV(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=600*1e3;class EV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wA(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vV&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function wA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function TV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(r,e={}){return Ga(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AV=/^https?/;async function bV(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wV(r);for(const n of e)try{if(RV(n))return}catch{}Or(r,"unauthorized-domain")}function RV(r){const e=wp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!AV.test(n))return!1;if(SV.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Uu(3e4,6e4);function WT(){const r=si().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CV(r){return new Promise((e,n)=>{function a(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(ai(r,"network-request-failed"))},timeout:IV.get()})}if(si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(si().gapi?.load)a();else{const o=wP("iframefcb");return si()[o]=()=>{gapi.load?a():n(ai(r,"network-request-failed"))},oA(`${TP()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function DV(r){return Ah=Ah||CV(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Uu(5e3,15e3),OV="__/auth/iframe",MV="emulator/auth/iframe",PV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tg(e,MV):`https://${r.config.authDomain}/${OV}`,a={apiKey:e.apiKey,appName:r.name,v:Yo},o=VV.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Ou(a).slice(1)}`}async function kV(r){const e=await DV(r),n=si().gapi;return Pe(n,r,"internal-error"),e.open({where:document.body,url:xV(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PV,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=ai(r,"network-request-failed"),m=si().setTimeout(()=>{u(h)},NV.get());function p(){si().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UV=500,zV=600,jV="_blank",BV="http://localhost";class ZT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HV(r,e,n,a=UV,o=zV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...LV,width:a.toString(),height:o.toString(),top:u,left:h},g=Tn().toLowerCase();n&&(m=eA(g)?jV:n),ZS(g)&&(e=e||BV,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[O,U])=>`${w}${O}=${U},`,"");if(fP(g)&&m!=="_self")return qV(e||"",m),new ZT(null);const S=window.open(e||"",m,v);Pe(S,r,"popup-blocked");try{S.focus()}catch{}return new ZT(S)}function qV(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="__/auth/handler",GV="emulator/auth/handler",KV=encodeURIComponent("fac");async function JT(r,e,n,a,o,u){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Yo,eventId:o};if(e instanceof cA){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",$I(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))h[v]=S}if(e instanceof zu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${KV}=${encodeURIComponent(p)}`:"";return`${YV(r)}?${Ou(m).slice(1)}${g}`}function YV({config:r}){return r.emulator?Tg(r,GV):`https://${r.authDomain}/${FV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=_V,this._overrideRedirectResult=pV}async _openPopup(e,n,a,o){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await JT(e,n,a,wp(),o);return HV(e,u,Rg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await JT(e,n,a,wp(),o);return WP(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ji(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await kV(e),a=new EV(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{const u=o?.[0]?.[$m];u!==void 0&&n(!!u),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aA()||JS()||Sg()}}const QV=$V;var e0="@firebase/auth",t0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZV(r){oi(new Nr("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Pe(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(r)},g=new _P(a,o,u,p);return CP(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),oi(new Nr("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(a=>new XV(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(e0,t0,WV(r)),_r(e0,t0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=300,ex=L0("authIdTokenMaxAge")||JV;let n0=null;const tx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>ex)return;const o=n?.token;n0!==o&&(n0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nx(r=kp()){const e=Vs(r,"auth");if(e.isInitialized())return e.getImmediate();const n=IP(r,{popupRedirectResolver:QV,persistence:[sV,$P,gA]}),a=L0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=tx(u.toString());GP(n,h,()=>h(n.currentUser)),FP(n,m=>h(m))}}const o=x0("auth");return o&&DP(n,`http://${o}`),n}function rx(){return document.getElementsByTagName("head")?.[0]??document}vP({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",rx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZV("Browser");const ix={apiKey:"AIzaSyDj35PuVMMVx71Adw0BOiiKQhlyP1yHKuo",authDomain:"affidavit-23b0b.firebaseapp.com",projectId:"affidavit-23b0b",storageBucket:"affidavit-23b0b.firebasestorage.app",messagingSenderId:"548679086579",appId:"1:548679086579:web:a1a8c0de6f80565cfee286",measurementId:"G-EM21GWXV65"},Cg=K0(ix),r0=OM(Cg),SA=A2(Cg),ax=nx(Cg),sx=async(r,e)=>{try{const o=await(await qP(ax,r,e)).user.getIdToken();return localStorage.setItem("ack-tk",o),o}catch{throw new Error("Invalid username or password")}},ox=()=>{const[r,e]=Q.useState(""),[n,a]=Q.useState(""),o=Jh(),u=async h=>{try{const m=await sx(r.trim(),n);localStorage.setItem("ack-tk",m),Hp(SA,"login",{action:"Login",time:new Date}),o("/app/admin")}catch(m){alert("Login failed: "+m.message)}};return ae.jsxs("div",{className:"admin-login-page",children:[ae.jsx("header",{className:"admin-login-header",children:" Admin Login"}),ae.jsxs("form",{className:"admin-login-form",onSubmit:h=>h?.preventDefault(),children:[ae.jsx("label",{htmlFor:"username",children:"Username"}),ae.jsx("input",{id:"username",type:"text",placeholder:"Enter username",value:r,onChange:h=>e(h.target.value),autoComplete:"username"}),ae.jsx("label",{htmlFor:"password",children:"Password"}),ae.jsx("input",{id:"password",type:"password",placeholder:"Enter password",value:n,onChange:h=>a(h.target.value),autoComplete:"current-password"}),ae.jsx("button",{type:"submit",className:"login-btn",onClick:u,children:"Login"})]}),ae.jsx("div",{className:"alternative-login",children:ae.jsxs("p",{children:["Not admin?"," ",ae.jsx(Vp,{to:"/",className:"user-dashboard-link",children:"Go to User Dashboard"})]})})]})},lx=({product:r,isAdmin:e,editEvent:n,deleteEvent:a})=>{const o=()=>window.open(r.link,"_blank","noopener,noreferrer");return ae.jsxs("div",{className:e?"product-card":"product-card clickable",onClick:()=>!e&&o(),title:"Click to Open",children:[ae.jsx("div",{className:"product-image-container",children:ae.jsx("img",{src:r.image||"https://blocks.astratic.com/img/general-img-landscape.png",alt:r.name,className:"product-image"})}),ae.jsxs("div",{className:"product-details",children:[ae.jsx("div",{className:"product-category",children:r.category}),ae.jsx("h3",{className:"product-name",children:r.name}),ae.jsx("p",{className:"product-description",children:r.description}),ae.jsx("div",{className:"product-price-row"}),e&&ae.jsxs("div",{className:"action-buttons",children:[ae.jsxs("button",{className:"open-btn",onClick:()=>o(),children:[ae.jsx("i",{className:"fas fa-external-link"}),"Open"]}),ae.jsxs("button",{className:"edit-btn",onClick:()=>n(r),children:[ae.jsx("i",{className:"fas fa-pencil"}),"Edit"]}),ae.jsxs("button",{className:"delete-btn",onClick:()=>a(r),children:[ae.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})]})]})},ux=r=>{const[e,n]=Q.useState([]),[a,o]=Q.useState(!1);return Q.useEffect(()=>{n(r?.products||[])},[r?.products]),a?ae.jsx("p",{children:"Loading products..."}):ae.jsx("div",{className:"productList",children:e.length===0?ae.jsx("p",{children:"No products found."}):e.map(u=>ae.jsx(lx,{product:u,isAdmin:r?.isAdmin,deleteEvent:r?.deleteEvent,editEvent:r?.editEvent},u.id))})},cx=({isAdmin:r,products:e,searchTerm:n,setSearchTerm:a,categories:o,activeCategory:u,setActiveCategory:h,deleteEvent:m,editEvent:p,types:g})=>ae.jsxs("main",{className:"main-content",children:[ae.jsxs("div",{className:"search-container",children:[ae.jsx("h1",{className:"search-title",children:"Product Catalog"}),ae.jsx("p",{className:"search-subtitle",children:"Browse our collection of high-quality products"}),ae.jsx("div",{className:"search-bar",children:ae.jsx("input",{type:"text",className:"search-input",placeholder:"Search for products...",value:n,onChange:v=>a(v.target.value)})}),ae.jsx("div",{className:"filters",children:g?.filter(v=>o?.some(S=>S===v?.name))?.sort((v,S)=>v?.order-S?.order).map(v=>ae.jsxs("div",{className:`filter ${u===v?.name?"filter-active":""}`,onClick:()=>h(v?.name),children:[ae.jsx("i",{className:`fas ${v?.icon}`}),v?.name]},v?.name))})]}),ae.jsx(ux,{products:e,isAdmin:r,editEvent:p,deleteEvent:m})]}),i0=()=>{const[r,e]=Q.useState([]),[n,a]=Q.useState([]),[o,u]=Q.useState(""),[h,m]=Q.useState("All"),p=r.filter(w=>{const O=w.name?.toLowerCase().includes(o?.toLowerCase())||w.description?.toLowerCase().includes(o?.toLowerCase()),U=h==="All"||w.category===h;return O&&U}),g=["All",...new Set(r.map(w=>w.category))];Q.useEffect(()=>{localStorage.removeItem("ack-tk"),v(),S(),Hp(SA,"page_view",{page:"User Page"})},[]);const v=async()=>{try{const w=MT(r0,"products"),U=(await kT(w)).docs.map(W=>({id:W.id,...W.data()}));e(U)}catch(w){console.error("Error fetching products:",w)}},S=async()=>{try{const w=MT(r0,"types"),U=(await kT(w)).docs.map(W=>({id:W.id,...W.data()}));a(U)}catch(w){console.error("Error fetching Categories:",w)}};return ae.jsx("div",{children:ae.jsxs("div",{className:"app-container",children:[ae.jsx(SI,{isAdmin:!1}),ae.jsx(cx,{products:p,searchTerm:o,setSearchTerm:u,categories:g,activeCategory:h,setActiveCategory:m,types:n}),ae.jsx(O0,{})]})})},hx=iI([{path:"app",element:ae.jsx(TI,{Component:ae.jsx(AI,{})}),children:[{path:"admin",lazy:()=>oR(()=>import("./AdminDashboard-C3e_i-Nx.js"),__vite__mapDeps([0,1]))}]},{path:"login",element:ae.jsx(ox,{})},{path:"/",element:ae.jsx(i0,{})},{path:"*",element:ae.jsx(i0,{})}]);function fx(){return ae.jsx("div",{children:ae.jsx(yI,{router:hx})})}iR.createRoot(document.getElementById("root")).render(ae.jsx(Wb.StrictMode,{children:ae.jsx(fx,{})}));export{O0 as F,SI as H,cx as M,SA as a,yx as b,MT as c,r0 as d,NM as e,gx as f,kT as g,ae as j,Hp as l,Q as r,px as u};
