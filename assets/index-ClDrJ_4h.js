(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();function jv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ld={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function j1(){if(r_)return eo;r_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(l,u,h){var m=null;if(h!==void 0&&(m=""+h),u.key!==void 0&&(m=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:a,type:l,key:m,ref:u!==void 0?u:null,props:h}}return eo.Fragment=t,eo.jsx=r,eo.jsxs=r,eo}var a_;function q1(){return a_||(a_=1,ld.exports=j1()),ld.exports}var H=q1(),od={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function H1(){if(s_)return Rt;s_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function Q(N,nt,ot){this.props=N,this.context=nt,this.refs=Z,this.updater=ot||j}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function et(){}et.prototype=Q.prototype;function ut(N,nt,ot){this.props=N,this.context=nt,this.refs=Z,this.updater=ot||j}var st=ut.prototype=new et;st.constructor=ut,G(st,Q.prototype),st.isPureReactComponent=!0;var wt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function O(N,nt,ot,rt,gt,Dt){return ot=Dt.ref,{$$typeof:a,type:N,key:nt,ref:ot!==void 0?ot:null,props:Dt}}function w(N,nt){return O(N.type,nt,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function M(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ot){return nt[ot]})}var x=/\/+/g;function P(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):nt.toString(36)}function I(){}function Pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function le(N,nt,ot,rt,gt){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var Tt=!1;if(N===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(N.$$typeof){case a:case t:Tt=!0;break;case T:return Tt=N._init,le(Tt(N._payload),nt,ot,rt,gt)}}if(Tt)return gt=gt(N),Tt=rt===""?"."+P(N,0):rt,wt(gt)?(ot="",Tt!=null&&(ot=Tt.replace(x,"$&/")+"/"),le(gt,nt,ot,"",function(jn){return jn})):gt!=null&&(D(gt)&&(gt=w(gt,ot+(gt.key==null||N&&N.key===gt.key?"":(""+gt.key).replace(x,"$&/")+"/")+Tt)),nt.push(gt)),1;Tt=0;var Ie=rt===""?".":rt+":";if(wt(N))for(var Jt=0;Jt<N.length;Jt++)rt=N[Jt],Dt=Ie+P(rt,Jt),Tt+=le(rt,nt,ot,Dt,gt);else if(Jt=R(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(rt=N.next()).done;)rt=rt.value,Dt=Ie+P(rt,Jt++),Tt+=le(rt,nt,ot,Dt,gt);else if(Dt==="object"){if(typeof N.then=="function")return le(Pe(N),nt,ot,rt,gt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(N,nt,ot){if(N==null)return N;var rt=[],gt=0;return le(N,rt,"","",function(Dt){return nt.call(ot,Dt,gt++)}),rt}function lt(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(ot){(N._status===0||N._status===-1)&&(N._status=1,N._result=ot)},function(ot){(N._status===0||N._status===-1)&&(N._status=2,N._result=ot)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Bt(){}return Rt.Children={map:K,forEach:function(N,nt,ot){K(N,function(){nt.apply(this,arguments)},ot)},count:function(N){var nt=0;return K(N,function(){nt++}),nt},toArray:function(N){return K(N,function(nt){return nt})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=Q,Rt.Fragment=r,Rt.Profiler=u,Rt.PureComponent=ut,Rt.StrictMode=l,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return it.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,nt,ot){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=G({},N.props),gt=N.key,Dt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!At.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=ot;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];rt.children=Ie}return O(N.type,gt,void 0,void 0,Dt,rt)},Rt.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},Rt.createElement=function(N,nt,ot){var rt,gt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)At.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)gt.children=ot;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];gt.children=Ie}if(N&&N.defaultProps)for(rt in Tt=N.defaultProps,Tt)gt[rt]===void 0&&(gt[rt]=Tt[rt]);return O(N,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:p,render:N}},Rt.isValidElement=D,Rt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:lt}},Rt.memo=function(N,nt){return{$$typeof:y,type:N,compare:nt===void 0?null:nt}},Rt.startTransition=function(N){var nt=it.T,ot={};it.T=ot;try{var rt=N(),gt=it.S;gt!==null&&gt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Bt,mt)}catch(Dt){mt(Dt)}finally{it.T=nt}},Rt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Rt.use=function(N){return it.H.use(N)},Rt.useActionState=function(N,nt,ot){return it.H.useActionState(N,nt,ot)},Rt.useCallback=function(N,nt){return it.H.useCallback(N,nt)},Rt.useContext=function(N){return it.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,nt){return it.H.useDeferredValue(N,nt)},Rt.useEffect=function(N,nt,ot){var rt=it.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(N,nt)},Rt.useId=function(){return it.H.useId()},Rt.useImperativeHandle=function(N,nt,ot){return it.H.useImperativeHandle(N,nt,ot)},Rt.useInsertionEffect=function(N,nt){return it.H.useInsertionEffect(N,nt)},Rt.useLayoutEffect=function(N,nt){return it.H.useLayoutEffect(N,nt)},Rt.useMemo=function(N,nt){return it.H.useMemo(N,nt)},Rt.useOptimistic=function(N,nt){return it.H.useOptimistic(N,nt)},Rt.useReducer=function(N,nt,ot){return it.H.useReducer(N,nt,ot)},Rt.useRef=function(N){return it.H.useRef(N)},Rt.useState=function(N){return it.H.useState(N)},Rt.useSyncExternalStore=function(N,nt,ot){return it.H.useSyncExternalStore(N,nt,ot)},Rt.useTransition=function(){return it.H.useTransition()},Rt.version="19.1.0",Rt}var l_;function Wd(){return l_||(l_=1,od.exports=H1()),od.exports}var Y=Wd();const F1=jv(Y);var ud={exports:{}},no={},cd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function G1(){return o_||(o_=1,function(a){function t(K,lt){var mt=K.length;K.push(lt);t:for(;0<mt;){var Bt=mt-1>>>1,N=K[Bt];if(0<u(N,lt))K[Bt]=lt,K[mt]=N,mt=Bt;else break t}}function r(K){return K.length===0?null:K[0]}function l(K){if(K.length===0)return null;var lt=K[0],mt=K.pop();if(mt!==lt){K[0]=mt;t:for(var Bt=0,N=K.length,nt=N>>>1;Bt<nt;){var ot=2*(Bt+1)-1,rt=K[ot],gt=ot+1,Dt=K[gt];if(0>u(rt,mt))gt<N&&0>u(Dt,rt)?(K[Bt]=Dt,K[gt]=mt,Bt=gt):(K[Bt]=rt,K[ot]=mt,Bt=ot);else if(gt<N&&0>u(Dt,mt))K[Bt]=Dt,K[gt]=mt,Bt=gt;else break t}}return lt}function u(K,lt){var mt=K.sortIndex-lt.sortIndex;return mt!==0?mt:K.id-lt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var _=[],y=[],T=1,b=null,R=3,j=!1,G=!1,Z=!1,Q=!1,et=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function wt(K){for(var lt=r(y);lt!==null;){if(lt.callback===null)l(y);else if(lt.startTime<=K)l(y),lt.sortIndex=lt.expirationTime,t(_,lt);else break;lt=r(y)}}function it(K){if(Z=!1,wt(K),!G)if(r(_)!==null)G=!0,At||(At=!0,P());else{var lt=r(y);lt!==null&&le(it,lt.startTime-K)}}var At=!1,O=-1,w=5,D=-1;function M(){return Q?!0:!(a.unstable_now()-D<w)}function x(){if(Q=!1,At){var K=a.unstable_now();D=K;var lt=!0;try{t:{G=!1,Z&&(Z=!1,ut(O),O=-1),j=!0;var mt=R;try{e:{for(wt(K),b=r(_);b!==null&&!(b.expirationTime>K&&M());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,R=b.priorityLevel;var N=Bt(b.expirationTime<=K);if(K=a.unstable_now(),typeof N=="function"){b.callback=N,wt(K),lt=!0;break e}b===r(_)&&l(_),wt(K)}else l(_);b=r(_)}if(b!==null)lt=!0;else{var nt=r(y);nt!==null&&le(it,nt.startTime-K),lt=!1}}break t}finally{b=null,R=mt,j=!1}lt=void 0}}finally{lt?P():At=!1}}}var P;if(typeof st=="function")P=function(){st(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=x,P=function(){Pe.postMessage(null)}}else P=function(){et(x,0)};function le(K,lt){O=et(function(){K(a.unstable_now())},lt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(K){switch(R){case 1:case 2:case 3:var lt=3;break;default:lt=R}var mt=R;R=lt;try{return K()}finally{R=mt}},a.unstable_requestPaint=function(){Q=!0},a.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=R;R=K;try{return lt()}finally{R=mt}},a.unstable_scheduleCallback=function(K,lt,mt){var Bt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,K={id:T++,callback:lt,priorityLevel:K,startTime:mt,expirationTime:N,sortIndex:-1},mt>Bt?(K.sortIndex=mt,t(y,K),r(_)===null&&K===r(y)&&(Z?(ut(O),O=-1):Z=!0,le(it,mt-Bt))):(K.sortIndex=N,t(_,K),G||j||(G=!0,At||(At=!0,P()))),K},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(K){var lt=R;return function(){var mt=R;R=lt;try{return K.apply(this,arguments)}finally{R=mt}}}}(hd)),hd}var u_;function Q1(){return u_||(u_=1,cd.exports=G1()),cd.exports}var fd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function Y1(){if(c_)return Ye;c_=1;var a=Wd();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:_,containerInfo:y,implementation:T}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ye.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return h(_,y,null,T)},Ye.flushSync=function(_){var y=m.T,T=l.p;try{if(m.T=null,l.p=2,_)return _()}finally{m.T=y,l.p=T,l.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&l.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?l.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:j}):T==="script"&&l.d.X(_,{crossOrigin:b,integrity:R,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);l.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);l.d.L(_,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);l.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(_)},Ye.requestFormReset=function(_){l.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,T){return m.H.useFormState(_,y,T)},Ye.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var h_;function K1(){if(h_)return fd.exports;h_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),fd.exports=Y1(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function X1(){if(f_)return no;f_=1;var a=Q1(),t=Wd(),r=K1();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function m(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(h(n)!==n)throw Error(l(188))}function _(n){var i=n.alternate;if(!i){if(i=h(n),i===null)throw Error(l(188));return i!==n?null:n}for(var s=n,o=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),n;if(d===o)return p(f),i;d=d.sibling}throw Error(l(188))}if(s.return!==o.return)s=f,o=d;else{for(var E=!1,A=f.child;A;){if(A===s){E=!0,s=f,o=d;break}if(A===o){E=!0,o=f,s=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===s){E=!0,s=d,o=f;break}if(A===o){E=!0,o=d,s=f;break}A=A.sibling}if(!E)throw Error(l(189))}}if(s.alternate!==o)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),st=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case Q:return"Profiler";case Z:return"StrictMode";case it:return"Suspense";case At:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case st:return(n.displayName||"Context")+".Provider";case ut:return(n._context.displayName||"Context")+".Consumer";case wt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return i=n.displayName||null,i!==null?i:Pe(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return Pe(n(i))}catch{}}return null}var le=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],N=-1;function nt(n){return{current:n}}function ot(n){0>N||(n.current=Bt[N],Bt[N]=null,N--)}function rt(n,i){N++,Bt[N]=n.current,n.current=i}var gt=nt(null),Dt=nt(null),Tt=nt(null),Ie=nt(null);function Jt(n,i){switch(rt(Tt,i),rt(Dt,n),rt(gt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Oy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Oy(i),n=My(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ot(gt),rt(gt,n)}function jn(){ot(gt),ot(Dt),ot(Tt)}function Yi(n){n.memoizedState!==null&&rt(Ie,n);var i=gt.current,s=My(i,n.type);i!==s&&(rt(Dt,n),rt(gt,s))}function mi(n){Dt.current===n&&(ot(gt),ot(Dt)),Ie.current===n&&(ot(Ie),$l._currentValue=mt)}var Ur=Object.prototype.hasOwnProperty,kr=a.unstable_scheduleCallback,zr=a.unstable_cancelCallback,Ys=a.unstable_shouldYield,Mo=a.unstable_requestPaint,_n=a.unstable_now,sh=a.unstable_getCurrentPriorityLevel,Ks=a.unstable_ImmediatePriority,Oa=a.unstable_UserBlockingPriority,Br=a.unstable_NormalPriority,lh=a.unstable_LowPriority,Ma=a.unstable_IdlePriority,Xs=a.log,xo=a.unstable_setDisableYieldValue,oe=null,Ft=null;function ln(n){if(typeof Xs=="function"&&xo(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,n)}catch{}}var Ge=Math.clz32?Math.clz32:jr,Lo=Math.log,oh=Math.LN2;function jr(n){return n>>>=0,n===0?32:31-(Lo(n)/oh|0)|0}var qr=256,Hr=4194304;function On(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xa(n,i,s){var o=n.pendingLanes;if(o===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?f=On(o):(E&=A,E!==0?f=On(E):s||(s=A&~n,s!==0&&(f=On(s))))):(A=o&~d,A!==0?f=On(A):E!==0?f=On(E):s||(s=o&~n,s!==0&&(f=On(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Fr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function $s(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var n=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),n}function Js(){var n=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),n}function pi(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function gi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ws(n,i,s,o,f,d){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var A=n.entanglements,C=n.expirationTimes,z=n.hiddenUpdates;for(s=E&~s;0<s;){var X=31-Ge(s),J=1<<X;A[X]=0,C[X]=-1;var B=z[X];if(B!==null)for(z[X]=null,X=0;X<B.length;X++){var q=B[X];q!==null&&(q.lane&=-536870913)}s&=~J}o!==0&&qn(n,o,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function qn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var o=31-Ge(i);n.entangledLanes|=i,n.entanglements[o]=n.entanglements[o]|1073741824|s&4194090}function tl(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var o=31-Ge(s),f=1<<o;f&i|n[o]&i&&(n[o]|=i),s&=~f}}function Ki(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function La(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xi(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:Jy(n.type))}function Po(n,i){var s=lt.p;try{return lt.p=n,i()}finally{lt.p=s}}var ne=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ne,pe="__reactProps$"+ne,vn="__reactContainer$"+ne,el="__reactEvents$"+ne,uh="__reactListeners$"+ne,$i="__reactHandles$"+ne,Uo="__reactResources$"+ne,Gr="__reactMarker$"+ne;function Zi(n){delete n[Ae],delete n[pe],delete n[el],delete n[uh],delete n[$i]}function yi(n){var i=n[Ae];if(i)return i;for(var s=n.parentNode;s;){if(i=s[vn]||s[Ae]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Uy(n);n!==null;){if(s=n[Ae])return s;n=Uy(n)}return i}n=s,s=n.parentNode}return null}function Hn(n){if(n=n[Ae]||n[vn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Fn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function Ze(n){var i=n[Uo];return i||(i=n[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(n){n[Gr]=!0}var nl=new Set,Pa={};function Mn(n,i){_i(n,i),_i(n+"Capture",i)}function _i(n,i){for(Pa[n]=i,n=0;n<i.length;n++)nl.add(i[n])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Qr={};function Bo(n){return Ur.call(Qr,n)?!0:Ur.call(zo,n)?!1:ko.test(n)?Qr[n]=!0:(zo[n]=!0,!1)}function Ji(n,i,s){if(Bo(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Gn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ue(n,i,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+o)}}var Yr,jo;function vi(n){if(Yr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Yr=i&&i[1]||"",jo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+n+jo}var Ua=!1;function ka(n,i){if(!n||Ua)return"";Ua=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var B=q}Reflect.construct(n,[],J)}else{try{J.call()}catch(q){B=q}n.call(J.prototype)}}else{try{throw Error()}catch(q){B=q}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var C=E.split(`
`),z=A.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===z.length)for(o=C.length-1,f=z.length-1;1<=o&&0<=f&&C[o]!==z[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==z[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==z[f]){var X=`
`+C[o].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=o&&0<=f);break}}}finally{Ua=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?vi(s):""}function il(n){switch(n.tag){case 26:case 27:case 5:return vi(n.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return ka(n.type,!1);case 11:return ka(n.type.render,!1);case 1:return ka(n.type,!0);case 31:return vi("Activity");default:return""}}function za(n){try{var i="";do i+=il(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Je(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ch(n){var i=rl(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),o=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ba(n){n._valueTracker||(n._valueTracker=ch(n))}function al(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return n&&(o=rl(n)?n.checked?"true":"false":n.value),n=o,n!==s?(i.setValue(n),!0):!1}function Kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hh=/[\n"\\]/g;function ge(n){return n.replace(hh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(n,i,s,o,f,d,E,A){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Je(i)):n.value!==""+Je(i)&&(n.value=""+Je(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Wi(n,E,Je(i)):s!=null?Wi(n,E,Je(s)):o!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Je(A):n.removeAttribute("name")}function Xr(n,i,s,o,f,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Je(s):"",i=i!=null?""+Je(i):s,A||i===n.value||(n.value=i),n.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=A?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Wi(n,i,s){i==="number"&&Kr(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ei(n,i,s,o){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&o&&(n[s].defaultSelected=!0)}else{for(s=""+Je(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Yt(n,i,s){if(i!=null&&(i=""+Je(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Je(s):""}function $r(n,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(l(92));if(le(o)){if(1<o.length)throw Error(l(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Je(i),n.defaultValue=s,o=n.textContent,o===s&&o!==""&&o!==null&&(n.value=o)}function En(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(n,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":o?n.setProperty(i,s):typeof s!="number"||s===0||Zr.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function sl(n,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&s[f]!==o&&qo(n,f,o)}else for(var d in i)i.hasOwnProperty(d)&&qo(n,d,i[d])}function ll(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(n){return dh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ti=null;function Tn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ai=null,Si=null;function ol(n){var i=Hn(n);if(i&&(n=i.stateNode)){var s=n[pe]||null;t:switch(n=i.stateNode,i.type){case"input":if(on(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ge(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==n&&o.form===n.form){var f=o[pe]||null;if(!f)throw Error(l(90));on(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===n.form&&al(o)}break t;case"textarea":Yt(n,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Ei(n,!!s.multiple,i,!1)}}}var Qn=!1;function Ho(n,i,s){if(Qn)return n(i,s);Qn=!0;try{var o=n(i);return o}finally{if(Qn=!1,(Ai!==null||Si!==null)&&(Pu(),Ai&&(i=Ai,n=Si,Si=Ai=null,ol(i),n)))for(i=0;i<n.length;i++)ol(n[i])}}function Jr(n,i){var s=n.stateNode;if(s===null)return null;var o=s[pe]||null;if(o===null)return null;s=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break t;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(xn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){An=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{An=!1}var Yn=null,tr=null,bi=null;function ul(){if(bi)return bi;var n,i=tr,s=i.length,o,f="value"in Yn?Yn.value:Yn.textContent,d=f.length;for(n=0;n<s&&i[n]===f[n];n++);var E=s-n;for(o=1;o<=E&&i[s-o]===f[d-o];o++);return bi=f.slice(n,1<o?1-o:void 0)}function Kn(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Xn(){return!0}function cl(){return!1}function Ne(n){function i(s,o,f,d,E){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(s=n[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:cl,this.isPropagationStopped=cl,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ne(qt),ta=T({},qt,{view:0,detail:0}),Fo=Ne(ta),Ha,Fa,$n,ea=T({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$n&&($n&&n.type==="mousemove"?(Ha=n.screenX-$n.screenX,Fa=n.screenY-$n.screenY):Fa=Ha=0,$n=n),Ha)},movementY:function(n){return"movementY"in n?n.movementY:Fa}}),Sn=Ne(ea),Go=T({},ea,{dataTransfer:0}),mh=Ne(Go),na=T({},ta,{relatedTarget:0}),Ga=Ne(na),hl=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ne(hl),Qo=T({},qt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ya=Ne(Qo),ph=T({},qt,{data:0}),fl=Ne(ph),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ko[n])?!!i[n]:!1}function ra(){return dl}var Xo=T({},ta,{key:function(n){if(n.key){var i=ia[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Kn(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yo[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(n){return n.type==="keypress"?Kn(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kn(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ka=Ne(Xo),$o=T({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Ne($o),wi=T({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Zo=Ne(wi),Jo=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=Ne(Jo),tu=T({},ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Ne(tu),We=T({},qt,{newState:0,oldState:0}),eu=Ne(We),nu=[9,13,27,32],Zn=xn&&"CompositionEvent"in window,c=null;xn&&"documentMode"in document&&(c=document.documentMode);var g=xn&&"TextEvent"in window&&!c,v=xn&&(!Zn||c&&8<c&&11>=c),S=" ",U=!1;function F(n,i){switch(n){case"keyup":return nu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xt=!1;function Se(n,i){switch(n){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return n=i.data,n===S&&U?null:n;default:return null}}function Lt(n,i){if(xt)return n==="compositionend"||!Zn&&F(n,i)?(n=ul(),bi=tr=Yn=null,xt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ve[n.type]:i==="textarea"}function Ri(n,i,s,o){Ai?Si?Si.push(o):Si=[o]:Ai=o,i=qu(i,"onChange"),0<i.length&&(s=new qa("onChange","change",null,s,o),n.push({event:s,listeners:i}))}var ke=null,Jn=null;function pl(n){Cy(n,0)}function iu(n){var i=Fn(n);if(al(i))return n}function Km(n,i){if(n==="change")return i}var Xm=!1;if(xn){var gh;if(xn){var yh="oninput"in document;if(!yh){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),yh=typeof $m.oninput=="function"}gh=yh}else gh=!1;Xm=gh&&(!document.documentMode||9<document.documentMode)}function Zm(){ke&&(ke.detachEvent("onpropertychange",Jm),Jn=ke=null)}function Jm(n){if(n.propertyName==="value"&&iu(Jn)){var i=[];Ri(i,Jn,n,Tn(n)),Ho(pl,i)}}function yT(n,i,s){n==="focusin"?(Zm(),ke=i,Jn=s,ke.attachEvent("onpropertychange",Jm)):n==="focusout"&&Zm()}function _T(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return iu(Jn)}function vT(n,i){if(n==="click")return iu(i)}function ET(n,i){if(n==="input"||n==="change")return iu(i)}function TT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var un=typeof Object.is=="function"?Object.is:TT;function gl(n,i){if(un(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ur.call(i,f)||!un(n[f],i[f]))return!1}return!0}function Wm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tp(n,i){var s=Wm(n);n=0;for(var o;s;){if(s.nodeType===3){if(o=n+s.textContent.length,n<=i&&o>=i)return{node:s,offset:i-n};n=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Wm(s)}}function ep(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ep(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function np(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Kr(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Kr(n.document)}return i}function _h(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var AT=xn&&"documentMode"in document&&11>=document.documentMode,$a=null,vh=null,yl=null,Eh=!1;function ip(n,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Eh||$a==null||$a!==Kr(o)||(o=$a,"selectionStart"in o&&_h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yl&&gl(yl,o)||(yl=o,o=qu(vh,"onSelect"),0<o.length&&(i=new qa("onSelect","select",null,i,s),n.push({event:i,listeners:o}),i.target=$a)))}function aa(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Za={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Th={},rp={};xn&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function sa(n){if(Th[n])return Th[n];if(!Za[n])return n;var i=Za[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in rp)return Th[n]=i[s];return n}var ap=sa("animationend"),sp=sa("animationiteration"),lp=sa("animationstart"),ST=sa("transitionrun"),bT=sa("transitionstart"),wT=sa("transitioncancel"),op=sa("transitionend"),up=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function Ln(n,i){up.set(n,i),Mn(i,[n])}var cp=new WeakMap;function bn(n,i){if(typeof n=="object"&&n!==null){var s=cp.get(n);return s!==void 0?s:(i={value:n,source:i,stack:za(i)},cp.set(n,i),i)}return{value:n,source:i,stack:za(i)}}var wn=[],Ja=0,Sh=0;function ru(){for(var n=Ja,i=Sh=Ja=0;i<n;){var s=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var f=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&hp(s,f,d)}}function au(n,i,s,o){wn[Ja++]=n,wn[Ja++]=i,wn[Ja++]=s,wn[Ja++]=o,Sh|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function bh(n,i,s,o){return au(n,i,s,o),su(n)}function Wa(n,i){return au(n,null,null,i),su(n)}function hp(n,i,s){n.lanes|=s;var o=n.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Ge(s),n=d.hiddenUpdates,o=n[f],o===null?n[f]=[i]:o.push(i),i.lane=s|536870912),d):null}function su(n){if(50<ql)throw ql=0,Vf=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ts={};function RT(n,i,s,o){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,i,s,o){return new RT(n,i,s,o)}function wh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ci(n,i){var s=n.alternate;return s===null?(s=cn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function fp(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lu(n,i,s,o,f,d){var E=0;if(o=n,typeof n=="function")wh(n)&&(E=1);else if(typeof n=="string")E=D1(n,s,gt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case D:return n=cn(31,s,i,f),n.elementType=D,n.lanes=d,n;case G:return la(s.children,f,d,i);case Z:E=8,f|=24;break;case Q:return n=cn(12,s,i,f|2),n.elementType=Q,n.lanes=d,n;case it:return n=cn(13,s,i,f),n.elementType=it,n.lanes=d,n;case At:return n=cn(19,s,i,f),n.elementType=At,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case st:E=10;break t;case ut:E=9;break t;case wt:E=11;break t;case O:E=14;break t;case w:E=16,o=null;break t}E=29,s=Error(l(130,n===null?"null":typeof n,"")),o=null}return i=cn(E,s,i,f),i.elementType=n,i.type=o,i.lanes=d,i}function la(n,i,s,o){return n=cn(7,n,o,i),n.lanes=s,n}function Rh(n,i,s){return n=cn(6,n,null,i),n.lanes=s,n}function Ch(n,i,s){return i=cn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var es=[],ns=0,ou=null,uu=0,Rn=[],Cn=0,oa=null,Di=1,Ii="";function ua(n,i){es[ns++]=uu,es[ns++]=ou,ou=n,uu=i}function dp(n,i,s){Rn[Cn++]=Di,Rn[Cn++]=Ii,Rn[Cn++]=oa,oa=n;var o=Di;n=Ii;var f=32-Ge(o)-1;o&=~(1<<f),s+=1;var d=32-Ge(i)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Di=1<<32-Ge(i)+f|s<<f|o,Ii=d+n}else Di=1<<d|s<<f|o,Ii=n}function Dh(n){n.return!==null&&(ua(n,1),dp(n,1,0))}function Ih(n){for(;n===ou;)ou=es[--ns],es[ns]=null,uu=es[--ns],es[ns]=null;for(;n===oa;)oa=Rn[--Cn],Rn[Cn]=null,Ii=Rn[--Cn],Rn[Cn]=null,Di=Rn[--Cn],Rn[Cn]=null}var tn=null,ue=null,jt=!1,ca=null,Wn=!1,Nh=Error(l(519));function ha(n){var i=Error(l(418,""));throw El(bn(i,n)),Nh}function mp(n){var i=n.stateNode,s=n.type,o=n.memoizedProps;switch(i[Ae]=n,i[pe]=o,s){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(s=0;s<Fl.length;s++)Vt(Fl[s],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Xr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ba(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),$r(i,o.value,o.defaultValue,o.children),Ba(i)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||Vy(i.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Hu),i=!0):i=!1,i||ha(n)}function pp(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function _l(n){if(n!==tn)return!1;if(!jt)return pp(n),jt=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Yf(n.type,n.memoizedProps)),s=!s),s&&ue&&ha(n),pp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){ue=Un(n.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}ue=null}}else i===27?(i=ue,gr(n.type)?(n=Zf,Zf=null,ue=n):ue=i):ue=tn?Un(n.stateNode.nextSibling):null;return!0}function vl(){ue=tn=null,jt=!1}function gp(){var n=ca;return n!==null&&(rn===null?rn=n:rn.push.apply(rn,n),ca=null),n}function El(n){ca===null?ca=[n]:ca.push(n)}var Vh=nt(null),fa=null,Ni=null;function er(n,i,s){rt(Vh,i._currentValue),i._currentValue=s}function Vi(n){n._currentValue=Vh.current,ot(Vh)}function Oh(n,i,s){for(;n!==null;){var o=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),n===s)break;n=n.return}}function Mh(n,i,s,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),Oh(d.return,s,n),o||(E=null);break t}d=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(l(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Oh(E,s,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Tl(n,i,s,o){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var A=f.type;un(f.pendingProps.value,E.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ie.current){if(E=f.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&Mh(i,n,s,o),i.flags|=262144}function cu(n){for(n=n.firstContext;n!==null;){if(!un(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){fa=n,Ni=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qe(n){return yp(fa,n)}function hu(n,i){return fa===null&&da(n),yp(n,i)}function yp(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ni===null){if(n===null)throw Error(l(308));Ni=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ni=Ni.next=i;return s}var CT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,o){n.push(o)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},DT=a.unstable_scheduleCallback,IT=a.unstable_NormalPriority,we={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new CT,data:new Map,refCount:0}}function Al(n){n.refCount--,n.refCount===0&&DT(IT,function(){n.controller.abort()})}var Sl=null,Lh=0,is=0,rs=null;function NT(n,i){if(Sl===null){var s=Sl=[];Lh=0,is=kf(),rs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Lh++,i.then(_p,_p),i}function _p(){if(--Lh===0&&Sl!==null){rs!==null&&(rs.status="fulfilled");var n=Sl;Sl=null,is=0,rs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function VT(n,i){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var vp=K.S;K.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&NT(n,i),vp!==null&&vp(n,i)};var ma=nt(null);function Ph(){var n=ma.current;return n!==null?n:Wt.pooledCache}function fu(n,i){i===null?rt(ma,ma.current):rt(ma,i.pool)}function Ep(){var n=Ph();return n===null?null:{parent:we._currentValue,pool:n}}var bl=Error(l(460)),Tp=Error(l(474)),du=Error(l(542)),Uh={then:function(){}};function Ap(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mu(){}function Sp(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(mu,mu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,wp(n),n;default:if(typeof i.status=="string")i.then(mu,mu);else{if(n=Wt,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,wp(n),n}throw wl=i,bl}}var wl=null;function bp(){if(wl===null)throw Error(l(459));var n=wl;return wl=null,n}function wp(n){if(n===bl||n===du)throw Error(l(483))}var nr=!1;function kh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ir(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rr(n,i,s){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=su(n),hp(n,null,s),i}return au(n,o,i,s),su(n)}function Rl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=n.pendingLanes,s|=o,i.lanes=s,tl(n,s)}}function Bh(n,i){var s=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var jh=!1;function Cl(){if(jh){var n=rs;if(n!==null)throw n}}function Dl(n,i,s,o){jh=!1;var f=n.updateQueue;nr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,z=C.next;C.next=null,E===null?d=z:E.next=z,E=C;var X=n.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==E&&(A===null?X.firstBaseUpdate=z:A.next=z,X.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;E=0,X=z=C=null,A=d;do{var B=A.lane&-536870913,q=B!==A.lane;if(q?(Pt&B)===B:(o&B)===B){B!==0&&B===is&&(jh=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Et=n,yt=A;B=i;var $t=s;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){J=Et.call($t,J,B);break t}J=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,B=typeof Et=="function"?Et.call($t,J,B):Et,B==null)break t;J=T({},J,B);break t;case 2:nr=!0}}B=A.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=f.callbacks,q===null?f.callbacks=[B]:q.push(B))}else q={lane:B,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(z=X=q,C=J):X=X.next=q,E|=B;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);X===null&&(C=J),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),fr|=E,n.lanes=E,n.memoizedState=J}}function Rp(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function Cp(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Rp(s[n],i)}var as=nt(null),pu=nt(0);function Dp(n,i){n=ki,rt(pu,n),rt(as,i),ki=n|i.baseLanes}function qh(){rt(pu,ki),rt(as,as.current)}function Hh(){ki=pu.current,ot(as),ot(pu)}var ar=0,Ct=null,Kt=null,ye=null,gu=!1,ss=!1,pa=!1,yu=0,Il=0,ls=null,OT=0;function fe(){throw Error(l(321))}function Fh(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!un(n[s],i[s]))return!1;return!0}function Gh(n,i,s,o,f,d){return ar=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?hg:fg,pa=!1,d=s(o,f),pa=!1,ss&&(d=Np(i,s,o,f)),Ip(n),d}function Ip(n){K.H=Su;var i=Kt!==null&&Kt.next!==null;if(ar=0,ye=Kt=Ct=null,gu=!1,Il=0,ls=null,i)throw Error(l(300));n===null||Oe||(n=n.dependencies,n!==null&&cu(n)&&(Oe=!0))}function Np(n,i,s,o){Ct=n;var f=0;do{if(ss&&(ls=null),Il=0,ss=!1,25<=f)throw Error(l(301));if(f+=1,ye=Kt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=zT,d=i(s,o)}while(ss);return d}function MT(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?Nl(i):i,n=n.useState()[0],(Kt!==null?Kt.memoizedState:null)!==n&&(Ct.flags|=1024),i}function Qh(){var n=yu!==0;return yu=0,n}function Yh(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Kh(n){if(gu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gu=!1}ar=0,ye=Kt=Ct=null,ss=!1,Il=yu=0,ls=null}function en(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=n:ye=ye.next=n,ye}function _e(){if(Kt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Kt.next;var i=ye===null?Ct.memoizedState:ye.next;if(i!==null)ye=i,Kt=n;else{if(n===null)throw Ct.alternate===null?Error(l(467)):Error(l(310));Kt=n,n={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?Ct.memoizedState=ye=n:ye=ye.next=n}return ye}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(n){var i=Il;return Il+=1,ls===null&&(ls=[]),n=Sp(ls,n,i),i=Ct,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?hg:fg),n}function _u(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===st)return Qe(n)}throw Error(l(438,String(n)))}function $h(n){var i=null,s=Ct.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Xh(),Ct.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),o=0;o<n;o++)s[o]=M;return i.index++,s}function Oi(n,i){return typeof i=="function"?i(n):i}function vu(n){var i=_e();return Zh(i,Kt,n)}function Zh(n,i,s){var o=n.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=s;var f=n.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,o.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var A=E=null,C=null,z=i,X=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Pt&J)===J:(ar&J)===J){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===is&&(X=!0);else if((ar&B)===B){z=z.next,B===is&&(X=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=J,E=d):C=C.next=J,Ct.lanes|=B,fr|=B;J=z.action,pa&&s(d,J),d=z.hasEagerState?z.eagerState:s(d,J)}else B={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=B,E=d):C=C.next=B,Ct.lanes|=J,fr|=J;z=z.next}while(z!==null&&z!==i);if(C===null?E=d:C.next=A,!un(d,n.memoizedState)&&(Oe=!0,X&&(s=rs,s!==null)))throw s;n.memoizedState=d,n.baseState=E,n.baseQueue=C,o.lastRenderedState=d}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function Jh(n){var i=_e(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function Vp(n,i,s){var o=Ct,f=_e(),d=jt;if(d){if(s===void 0)throw Error(l(407));s=s()}else s=i();var E=!un((Kt||f).memoizedState,s);E&&(f.memoizedState=s,Oe=!0),f=f.queue;var A=xp.bind(null,o,f,n);if(Vl(2048,8,A,[n]),f.getSnapshot!==i||E||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,os(9,Eu(),Mp.bind(null,o,f,s,i),null),Wt===null)throw Error(l(349));d||(ar&124)!==0||Op(o,i,s)}return s}function Op(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ct.updateQueue,i===null?(i=Xh(),Ct.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Mp(n,i,s,o){i.value=s,i.getSnapshot=o,Lp(i)&&Pp(n)}function xp(n,i,s){return s(function(){Lp(i)&&Pp(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!un(n,s)}catch{return!0}}function Pp(n){var i=Wa(n,2);i!==null&&pn(i,n,2)}function Wh(n){var i=en();if(typeof n=="function"){var s=n;if(n=s(),pa){ln(!0);try{s()}finally{ln(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:n},i}function Up(n,i,s,o){return n.baseState=s,Zh(n,Kt,typeof o=="function"?o:Oi)}function xT(n,i,s,o,f){if(Au(n))throw Error(l(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,kp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function kp(n,i){var s=i.action,o=i.payload,f=n.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var A=s(f,o),C=K.S;C!==null&&C(E,A),zp(n,i,A)}catch(z){tf(n,i,z)}finally{K.T=d}}else try{d=s(f,o),zp(n,i,d)}catch(z){tf(n,i,z)}}function zp(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Bp(n,i,o)},function(o){return tf(n,i,o)}):Bp(n,i,s)}function Bp(n,i,s){i.status="fulfilled",i.value=s,jp(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,kp(n,s)))}function tf(n,i,s){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,jp(i),i=i.next;while(i!==o)}n.action=null}function jp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function qp(n,i){return i}function Hp(n,i){if(jt){var s=Wt.formState;if(s!==null){t:{var o=Ct;if(jt){if(ue){e:{for(var f=ue,d=Wn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Un(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ue=Un(f.nextSibling),o=f.data==="F!";break t}}ha(o)}o=!1}o&&(i=s[0])}}return s=en(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:i},s.queue=o,s=og.bind(null,Ct,o),o.dispatch=s,o=Wh(!1),d=sf.bind(null,Ct,!1,o.queue),o=en(),f={state:i,dispatch:null,action:n,pending:null},o.queue=f,s=xT.bind(null,Ct,f,d,s),f.dispatch=s,o.memoizedState=n,[i,s,!1]}function Fp(n){var i=_e();return Gp(i,Kt,n)}function Gp(n,i,s){if(i=Zh(n,i,qp)[0],n=vu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Nl(i)}catch(E){throw E===bl?du:E}else o=i;i=_e();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ct.flags|=2048,os(9,Eu(),LT.bind(null,f,s),null)),[o,d,n]}function LT(n,i){n.action=i}function Qp(n){var i=_e(),s=Kt;if(s!==null)return Gp(i,s,n);_e(),i=i.memoizedState,s=_e();var o=s.queue.dispatch;return s.memoizedState=n,[i,o,!1]}function os(n,i,s,o){return n={tag:n,create:s,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Xh(),Ct.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(o=s.next,s.next=n,n.next=o,i.lastEffect=n),n}function Eu(){return{destroy:void 0,resource:void 0}}function Yp(){return _e().memoizedState}function Tu(n,i,s,o){var f=en();o=o===void 0?null:o,Ct.flags|=n,f.memoizedState=os(1|i,Eu(),s,o)}function Vl(n,i,s,o){var f=_e();o=o===void 0?null:o;var d=f.memoizedState.inst;Kt!==null&&o!==null&&Fh(o,Kt.memoizedState.deps)?f.memoizedState=os(i,d,s,o):(Ct.flags|=n,f.memoizedState=os(1|i,d,s,o))}function Kp(n,i){Tu(8390656,8,n,i)}function Xp(n,i){Vl(2048,8,n,i)}function $p(n,i){return Vl(4,2,n,i)}function Zp(n,i){return Vl(4,4,n,i)}function Jp(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Wp(n,i,s){s=s!=null?s.concat([n]):null,Vl(4,4,Jp.bind(null,i,n),s)}function ef(){}function tg(n,i){var s=_e();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Fh(i,o[1])?o[0]:(s.memoizedState=[n,i],n)}function eg(n,i){var s=_e();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Fh(i,o[1]))return o[0];if(o=n(),pa){ln(!0);try{n()}finally{ln(!1)}}return s.memoizedState=[o,i],o}function nf(n,i,s){return s===void 0||(ar&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=ry(),Ct.lanes|=n,fr|=n,s)}function ng(n,i,s,o){return un(s,i)?s:as.current!==null?(n=nf(n,s,o),un(n,i)||(Oe=!0),n):(ar&42)===0?(Oe=!0,n.memoizedState=s):(n=ry(),Ct.lanes|=n,fr|=n,i)}function ig(n,i,s,o,f){var d=lt.p;lt.p=d!==0&&8>d?d:8;var E=K.T,A={};K.T=A,sf(n,!1,i,s);try{var C=f(),z=K.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=VT(C,o);Ol(n,i,X,mn(n))}else Ol(n,i,o,mn(n))}catch(J){Ol(n,i,{then:function(){},status:"rejected",reason:J},mn())}finally{lt.p=d,K.T=E}}function PT(){}function rf(n,i,s,o){if(n.tag!==5)throw Error(l(476));var f=rg(n).queue;ig(n,f,i,mt,s===null?PT:function(){return ag(n),s(o)})}function rg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:mt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ag(n){var i=rg(n).next.queue;Ol(n,i,{},mn())}function af(){return Qe($l)}function sg(){return _e().memoizedState}function lg(){return _e().memoizedState}function UT(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=mn();n=ir(s);var o=rr(i,n,s);o!==null&&(pn(o,i,s),Rl(o,i,s)),i={cache:xh()},n.payload=i;return}i=i.return}}function kT(n,i,s){var o=mn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Au(n)?ug(i,s):(s=bh(n,i,s,o),s!==null&&(pn(s,n,o),cg(s,i,o)))}function og(n,i,s){var o=mn();Ol(n,i,s,o)}function Ol(n,i,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Au(n))ug(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,A=d(E,s);if(f.hasEagerState=!0,f.eagerState=A,un(A,E))return au(n,i,f,0),Wt===null&&ru(),!1}catch{}finally{}if(s=bh(n,i,f,o),s!==null)return pn(s,n,o),cg(s,i,o),!0}return!1}function sf(n,i,s,o){if(o={lane:2,revertLane:kf(),action:o,hasEagerState:!1,eagerState:null,next:null},Au(n)){if(i)throw Error(l(479))}else i=bh(n,s,o,2),i!==null&&pn(i,n,2)}function Au(n){var i=n.alternate;return n===Ct||i!==null&&i===Ct}function ug(n,i){ss=gu=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function cg(n,i,s){if((s&4194048)!==0){var o=i.lanes;o&=n.pendingLanes,s|=o,i.lanes=s,tl(n,s)}}var Su={readContext:Qe,use:_u,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},hg={readContext:Qe,use:_u,useCallback:function(n,i){return en().memoizedState=[n,i===void 0?null:i],n},useContext:Qe,useEffect:Kp,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Tu(4194308,4,Jp.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Tu(4194308,4,n,i)},useInsertionEffect:function(n,i){Tu(4,2,n,i)},useMemo:function(n,i){var s=en();i=i===void 0?null:i;var o=n();if(pa){ln(!0);try{n()}finally{ln(!1)}}return s.memoizedState=[o,i],o},useReducer:function(n,i,s){var o=en();if(s!==void 0){var f=s(i);if(pa){ln(!0);try{s(i)}finally{ln(!1)}}}else f=i;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=kT.bind(null,Ct,n),[o.memoizedState,n]},useRef:function(n){var i=en();return n={current:n},i.memoizedState=n},useState:function(n){n=Wh(n);var i=n.queue,s=og.bind(null,Ct,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(n,i){var s=en();return nf(s,n,i)},useTransition:function(){var n=Wh(!1);return n=ig.bind(null,Ct,n.queue,!0,!1),en().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var o=Ct,f=en();if(jt){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),Wt===null)throw Error(l(349));(Pt&124)!==0||Op(o,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,Kp(xp.bind(null,o,d,n),[n]),o.flags|=2048,os(9,Eu(),Mp.bind(null,o,d,s,i),null),s},useId:function(){var n=en(),i=Wt.identifierPrefix;if(jt){var s=Ii,o=Di;s=(o&~(1<<32-Ge(o)-1)).toString(32)+s,i="«"+i+"R"+s,s=yu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=OT++,i="«"+i+"r"+s.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:af,useFormState:Hp,useActionState:Hp,useOptimistic:function(n){var i=en();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=sf.bind(null,Ct,!0,s),s.dispatch=i,[n,i]},useMemoCache:$h,useCacheRefresh:function(){return en().memoizedState=UT.bind(null,Ct)}},fg={readContext:Qe,use:_u,useCallback:tg,useContext:Qe,useEffect:Xp,useImperativeHandle:Wp,useInsertionEffect:$p,useLayoutEffect:Zp,useMemo:eg,useReducer:vu,useRef:Yp,useState:function(){return vu(Oi)},useDebugValue:ef,useDeferredValue:function(n,i){var s=_e();return ng(s,Kt.memoizedState,n,i)},useTransition:function(){var n=vu(Oi)[0],i=_e().memoizedState;return[typeof n=="boolean"?n:Nl(n),i]},useSyncExternalStore:Vp,useId:sg,useHostTransitionStatus:af,useFormState:Fp,useActionState:Fp,useOptimistic:function(n,i){var s=_e();return Up(s,Kt,n,i)},useMemoCache:$h,useCacheRefresh:lg},zT={readContext:Qe,use:_u,useCallback:tg,useContext:Qe,useEffect:Xp,useImperativeHandle:Wp,useInsertionEffect:$p,useLayoutEffect:Zp,useMemo:eg,useReducer:Jh,useRef:Yp,useState:function(){return Jh(Oi)},useDebugValue:ef,useDeferredValue:function(n,i){var s=_e();return Kt===null?nf(s,n,i):ng(s,Kt.memoizedState,n,i)},useTransition:function(){var n=Jh(Oi)[0],i=_e().memoizedState;return[typeof n=="boolean"?n:Nl(n),i]},useSyncExternalStore:Vp,useId:sg,useHostTransitionStatus:af,useFormState:Qp,useActionState:Qp,useOptimistic:function(n,i){var s=_e();return Kt!==null?Up(s,Kt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:$h,useCacheRefresh:lg},us=null,Ml=0;function bu(n){var i=Ml;return Ml+=1,us===null&&(us=[]),Sp(us,n,i)}function xl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function wu(n,i){throw i.$$typeof===b?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function dg(n){var i=n._init;return i(n._payload)}function mg(n){function i(L,V){if(n){var k=L.deletions;k===null?(L.deletions=[V],L.flags|=16):k.push(V)}}function s(L,V){if(!n)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function o(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Ci(L,V),L.index=0,L.sibling=null,L}function d(L,V,k){return L.index=k,n?(k=L.alternate,k!==null?(k=k.index,k<V?(L.flags|=67108866,V):k):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function A(L,V,k,$){return V===null||V.tag!==6?(V=Rh(k,L.mode,$),V.return=L,V):(V=f(V,k),V.return=L,V)}function C(L,V,k,$){var ft=k.type;return ft===G?X(L,V,k.props.children,$,k.key):V!==null&&(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&dg(ft)===V.type)?(V=f(V,k.props),xl(V,k),V.return=L,V):(V=lu(k.type,k.key,k.props,null,L.mode,$),xl(V,k),V.return=L,V)}function z(L,V,k,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=Ch(k,L.mode,$),V.return=L,V):(V=f(V,k.children||[]),V.return=L,V)}function X(L,V,k,$,ft){return V===null||V.tag!==7?(V=la(k,L.mode,$,ft),V.return=L,V):(V=f(V,k),V.return=L,V)}function J(L,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Rh(""+V,L.mode,k),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return k=lu(V.type,V.key,V.props,null,L.mode,k),xl(k,V),k.return=L,k;case j:return V=Ch(V,L.mode,k),V.return=L,V;case w:var $=V._init;return V=$(V._payload),J(L,V,k)}if(le(V)||P(V))return V=la(V,L.mode,k,null),V.return=L,V;if(typeof V.then=="function")return J(L,bu(V),k);if(V.$$typeof===st)return J(L,hu(L,V),k);wu(L,V)}return null}function B(L,V,k,$){var ft=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:A(L,V,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return k.key===ft?C(L,V,k,$):null;case j:return k.key===ft?z(L,V,k,$):null;case w:return ft=k._init,k=ft(k._payload),B(L,V,k,$)}if(le(k)||P(k))return ft!==null?null:X(L,V,k,$,null);if(typeof k.then=="function")return B(L,V,bu(k),$);if(k.$$typeof===st)return B(L,V,hu(L,k),$);wu(L,k)}return null}function q(L,V,k,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(k)||null,A(V,L,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return L=L.get($.key===null?k:$.key)||null,C(V,L,$,ft);case j:return L=L.get($.key===null?k:$.key)||null,z(V,L,$,ft);case w:var It=$._init;return $=It($._payload),q(L,V,k,$,ft)}if(le($)||P($))return L=L.get(k)||null,X(V,L,$,ft,null);if(typeof $.then=="function")return q(L,V,k,bu($),ft);if($.$$typeof===st)return q(L,V,k,hu(V,$),ft);wu(V,$)}return null}function Et(L,V,k,$){for(var ft=null,It=null,dt=V,_t=V=0,xe=null;dt!==null&&_t<k.length;_t++){dt.index>_t?(xe=dt,dt=null):xe=dt.sibling;var zt=B(L,dt,k[_t],$);if(zt===null){dt===null&&(dt=xe);break}n&&dt&&zt.alternate===null&&i(L,dt),V=d(zt,V,_t),It===null?ft=zt:It.sibling=zt,It=zt,dt=xe}if(_t===k.length)return s(L,dt),jt&&ua(L,_t),ft;if(dt===null){for(;_t<k.length;_t++)dt=J(L,k[_t],$),dt!==null&&(V=d(dt,V,_t),It===null?ft=dt:It.sibling=dt,It=dt);return jt&&ua(L,_t),ft}for(dt=o(dt);_t<k.length;_t++)xe=q(dt,L,_t,k[_t],$),xe!==null&&(n&&xe.alternate!==null&&dt.delete(xe.key===null?_t:xe.key),V=d(xe,V,_t),It===null?ft=xe:It.sibling=xe,It=xe);return n&&dt.forEach(function(Tr){return i(L,Tr)}),jt&&ua(L,_t),ft}function yt(L,V,k,$){if(k==null)throw Error(l(151));for(var ft=null,It=null,dt=V,_t=V=0,xe=null,zt=k.next();dt!==null&&!zt.done;_t++,zt=k.next()){dt.index>_t?(xe=dt,dt=null):xe=dt.sibling;var Tr=B(L,dt,zt.value,$);if(Tr===null){dt===null&&(dt=xe);break}n&&dt&&Tr.alternate===null&&i(L,dt),V=d(Tr,V,_t),It===null?ft=Tr:It.sibling=Tr,It=Tr,dt=xe}if(zt.done)return s(L,dt),jt&&ua(L,_t),ft;if(dt===null){for(;!zt.done;_t++,zt=k.next())zt=J(L,zt.value,$),zt!==null&&(V=d(zt,V,_t),It===null?ft=zt:It.sibling=zt,It=zt);return jt&&ua(L,_t),ft}for(dt=o(dt);!zt.done;_t++,zt=k.next())zt=q(dt,L,_t,zt.value,$),zt!==null&&(n&&zt.alternate!==null&&dt.delete(zt.key===null?_t:zt.key),V=d(zt,V,_t),It===null?ft=zt:It.sibling=zt,It=zt);return n&&dt.forEach(function(B1){return i(L,B1)}),jt&&ua(L,_t),ft}function $t(L,V,k,$){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case R:t:{for(var ft=k.key;V!==null;){if(V.key===ft){if(ft=k.type,ft===G){if(V.tag===7){s(L,V.sibling),$=f(V,k.props.children),$.return=L,L=$;break t}}else if(V.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&dg(ft)===V.type){s(L,V.sibling),$=f(V,k.props),xl($,k),$.return=L,L=$;break t}s(L,V);break}else i(L,V);V=V.sibling}k.type===G?($=la(k.props.children,L.mode,$,k.key),$.return=L,L=$):($=lu(k.type,k.key,k.props,null,L.mode,$),xl($,k),$.return=L,L=$)}return E(L);case j:t:{for(ft=k.key;V!==null;){if(V.key===ft)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){s(L,V.sibling),$=f(V,k.children||[]),$.return=L,L=$;break t}else{s(L,V);break}else i(L,V);V=V.sibling}$=Ch(k,L.mode,$),$.return=L,L=$}return E(L);case w:return ft=k._init,k=ft(k._payload),$t(L,V,k,$)}if(le(k))return Et(L,V,k,$);if(P(k)){if(ft=P(k),typeof ft!="function")throw Error(l(150));return k=ft.call(k),yt(L,V,k,$)}if(typeof k.then=="function")return $t(L,V,bu(k),$);if(k.$$typeof===st)return $t(L,V,hu(L,k),$);wu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(s(L,V.sibling),$=f(V,k),$.return=L,L=$):(s(L,V),$=Rh(k,L.mode,$),$.return=L,L=$),E(L)):s(L,V)}return function(L,V,k,$){try{Ml=0;var ft=$t(L,V,k,$);return us=null,ft}catch(dt){if(dt===bl||dt===du)throw dt;var It=cn(29,dt,null,L.mode);return It.lanes=$,It.return=L,It}finally{}}}var cs=mg(!0),pg=mg(!1),Dn=nt(null),ti=null;function sr(n){var i=n.alternate;rt(Re,Re.current&1),rt(Dn,n),ti===null&&(i===null||as.current!==null||i.memoizedState!==null)&&(ti=n)}function gg(n){if(n.tag===22){if(rt(Re,Re.current),rt(Dn,n),ti===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ti=n)}}else lr()}function lr(){rt(Re,Re.current),rt(Dn,Dn.current)}function Mi(n){ot(Dn),ti===n&&(ti=null),ot(Re)}var Re=nt(0);function Ru(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||$f(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lf(n,i,s,o){i=n.memoizedState,s=s(o,i),s=s==null?i:T({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var of={enqueueSetState:function(n,i,s){n=n._reactInternals;var o=mn(),f=ir(o);f.payload=i,s!=null&&(f.callback=s),i=rr(n,f,o),i!==null&&(pn(i,n,o),Rl(i,n,o))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var o=mn(),f=ir(o);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=rr(n,f,o),i!==null&&(pn(i,n,o),Rl(i,n,o))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=mn(),o=ir(s);o.tag=2,i!=null&&(o.callback=i),i=rr(n,o,s),i!==null&&(pn(i,n,s),Rl(i,n,s))}};function yg(n,i,s,o,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,d,E):i.prototype&&i.prototype.isPureReactComponent?!gl(s,o)||!gl(f,d):!0}function _g(n,i,s,o){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==n&&of.enqueueReplaceState(i,i.state,null)}function ga(n,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(n=n.defaultProps){s===i&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Cu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function vg(n){Cu(n)}function Eg(n){console.error(n)}function Tg(n){Cu(n)}function Du(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ag(n,i,s){try{var o=n.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uf(n,i,s){return s=ir(s),s.tag=3,s.payload={element:null},s.callback=function(){Du(n,i)},s}function Sg(n){return n=ir(n),n.tag=3,n}function bg(n,i,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;n.payload=function(){return f(d)},n.callback=function(){Ag(i,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Ag(i,s,o),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function BT(n,i,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&Tl(i,s,f,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return ti===null?Mf():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Uh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Lf(n,o,f)),!1;case 22:return s.flags|=65536,o===Uh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Lf(n,o,f)),!1}throw Error(l(435,s.tag))}return Lf(n,o,f),Mf(),!1}if(jt)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Nh&&(n=Error(l(422),{cause:o}),El(bn(n,s)))):(o!==Nh&&(i=Error(l(423),{cause:o}),El(bn(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=bn(o,s),f=uf(n.stateNode,o,f),Bh(n,f),ce!==4&&(ce=2)),!1;var d=Error(l(520),{cause:o});if(d=bn(d,s),jl===null?jl=[d]:jl.push(d),ce!==4&&(ce=2),i===null)return!0;o=bn(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=uf(s.stateNode,o,n),Bh(s,n),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Sg(f),bg(f,n,s,o),Bh(s,f),!1}s=s.return}while(s!==null);return!1}var wg=Error(l(461)),Oe=!1;function ze(n,i,s,o){i.child=n===null?pg(i,null,s,o):cs(i,n.child,s,o)}function Rg(n,i,s,o,f){s=s.render;var d=i.ref;if("ref"in o){var E={};for(var A in o)A!=="ref"&&(E[A]=o[A])}else E=o;return da(i),o=Gh(n,i,s,E,d,f),A=Qh(),n!==null&&!Oe?(Yh(n,i,f),xi(n,i,f)):(jt&&A&&Dh(i),i.flags|=1,ze(n,i,o,f),i.child)}function Cg(n,i,s,o,f){if(n===null){var d=s.type;return typeof d=="function"&&!wh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Dg(n,i,d,o,f)):(n=lu(s.type,null,o,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!yf(n,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(E,o)&&n.ref===i.ref)return xi(n,i,f)}return i.flags|=1,n=Ci(d,o),n.ref=i.ref,n.return=i,i.child=n}function Dg(n,i,s,o,f){if(n!==null){var d=n.memoizedProps;if(gl(d,o)&&n.ref===i.ref)if(Oe=!1,i.pendingProps=o=d,yf(n,f))(n.flags&131072)!==0&&(Oe=!0);else return i.lanes=n.lanes,xi(n,i,f)}return cf(n,i,s,o,f)}function Ig(n,i,s){var o=i.pendingProps,f=o.children,d=n!==null?n.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Ng(n,i,o,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&fu(i,d!==null?d.cachePool:null),d!==null?Dp(i,d):qh(),gg(i);else return i.lanes=i.childLanes=536870912,Ng(n,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(fu(i,d.cachePool),Dp(i,d),lr(),i.memoizedState=null):(n!==null&&fu(i,null),qh(),lr());return ze(n,i,f,s),i.child}function Ng(n,i,s,o){var f=Ph();return f=f===null?null:{parent:we._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&fu(i,null),qh(),gg(i),n!==null&&Tl(n,i,o,!0),null}function Iu(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function cf(n,i,s,o,f){return da(i),s=Gh(n,i,s,o,void 0,f),o=Qh(),n!==null&&!Oe?(Yh(n,i,f),xi(n,i,f)):(jt&&o&&Dh(i),i.flags|=1,ze(n,i,s,f),i.child)}function Vg(n,i,s,o,f,d){return da(i),i.updateQueue=null,s=Np(i,o,s,f),Ip(n),o=Qh(),n!==null&&!Oe?(Yh(n,i,d),xi(n,i,d)):(jt&&o&&Dh(i),i.flags|=1,ze(n,i,s,d),i.child)}function Og(n,i,s,o,f){if(da(i),i.stateNode===null){var d=ts,E=s.contextType;typeof E=="object"&&E!==null&&(d=Qe(E)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=of,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},kh(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?Qe(E):ts,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(lf(i,s,E,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&of.enqueueReplaceState(d,d.state,null),Dl(i,o,d,f),Cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(n===null){d=i.stateNode;var A=i.memoizedProps,C=ga(s,A);d.props=C;var z=d.context,X=s.contextType;E=ts,typeof X=="object"&&X!==null&&(E=Qe(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==E)&&_g(i,d,o,E),nr=!1;var B=i.memoizedState;d.state=B,Dl(i,o,d,f),Cl(),z=i.memoizedState,A||B!==z||nr?(typeof J=="function"&&(lf(i,s,J,o),z=i.memoizedState),(C=nr||yg(i,s,C,o,B,z,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=E,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,zh(n,i),E=i.memoizedProps,X=ga(s,E),d.props=X,J=i.pendingProps,B=d.context,z=s.contextType,C=ts,typeof z=="object"&&z!==null&&(C=Qe(z)),A=s.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||B!==C)&&_g(i,d,o,C),nr=!1,B=i.memoizedState,d.state=B,Dl(i,o,d,f),Cl();var q=i.memoizedState;E!==J||B!==q||nr||n!==null&&n.dependencies!==null&&cu(n.dependencies)?(typeof A=="function"&&(lf(i,s,A,o),q=i.memoizedState),(X=nr||yg(i,s,X,o,B,q,C)||n!==null&&n.dependencies!==null&&cu(n.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=C,o=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),o=!1)}return d=o,Iu(n,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&o?(i.child=cs(i,n.child,null,f),i.child=cs(i,null,s,f)):ze(n,i,s,f),i.memoizedState=d.state,n=i.child):n=xi(n,i,f),n}function Mg(n,i,s,o){return vl(),i.flags|=256,ze(n,i,s,o),i.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(n){return{baseLanes:n,cachePool:Ep()}}function df(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=In),n}function xg(n,i,s){var o=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Re.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(jt){if(f?sr(i):lr(),jt){var A=ue,C;if(C=A){t:{for(C=A,A=Wn;C.nodeType!==8;){if(!A){A=null;break t}if(C=Un(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(i.memoizedState={dehydrated:A,treeContext:oa!==null?{id:Di,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},C=cn(18,null,null,0),C.stateNode=A,C.return=i,i.child=C,tn=i,ue=null,C=!0):C=!1}C||ha(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return $f(A)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return A=o.children,o=o.fallback,f?(lr(),f=i.mode,A=Nu({mode:"hidden",children:A},f),o=la(o,f,s,null),A.return=i,o.return=i,A.sibling=o,i.child=A,f=i.child,f.memoizedState=ff(s),f.childLanes=df(n,E,s),i.memoizedState=hf,o):(sr(i),mf(i,A))}if(C=n.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(sr(i),i.flags&=-257,i=pf(n,i,s)):i.memoizedState!==null?(lr(),i.child=n.child,i.flags|=128,i=null):(lr(),f=o.fallback,A=i.mode,o=Nu({mode:"visible",children:o.children},A),f=la(f,A,s,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,cs(i,n.child,null,s),o=i.child,o.memoizedState=ff(s),o.childLanes=df(n,E,s),i.memoizedState=hf,i=f);else if(sr(i),$f(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var z=E.dgst;E=z,o=Error(l(419)),o.stack="",o.digest=E,El({value:o,source:null,stack:null}),i=pf(n,i,s)}else if(Oe||Tl(n,i,s,!1),E=(s&n.childLanes)!==0,Oe||E){if(E=Wt,E!==null&&(o=s&-s,o=(o&42)!==0?1:Ki(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Wa(n,o),pn(E,n,o),wg;A.data==="$?"||Mf(),i=pf(n,i,s)}else A.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,ue=Un(A.nextSibling),tn=i,jt=!0,ca=null,Wn=!1,n!==null&&(Rn[Cn++]=Di,Rn[Cn++]=Ii,Rn[Cn++]=oa,Di=n.id,Ii=n.overflow,oa=i),i=mf(i,o.children),i.flags|=4096);return i}return f?(lr(),f=o.fallback,A=i.mode,C=n.child,z=C.sibling,o=Ci(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?f=Ci(z,f):(f=la(f,A,s,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,A=n.child.memoizedState,A===null?A=ff(s):(C=A.cachePool,C!==null?(z=we._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Ep(),A={baseLanes:A.baseLanes|s,cachePool:C}),f.memoizedState=A,f.childLanes=df(n,E,s),i.memoizedState=hf,o):(sr(i),s=n.child,n=s.sibling,s=Ci(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function mf(n,i){return i=Nu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nu(n,i){return n=cn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function pf(n,i,s){return cs(i,n.child,null,s),n=mf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Lg(n,i,s){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i),Oh(n.return,i,s)}function gf(n,i,s,o,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function Pg(n,i,s){var o=i.pendingProps,f=o.revealOrder,d=o.tail;if(ze(n,i,o.children,s),o=Re.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lg(n,s,i);else if(n.tag===19)Lg(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(rt(Re,o),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Ru(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),gf(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ru(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}gf(i,!0,s,null,d);break;case"together":gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),fr|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Tl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,s=Ci(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Ci(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function yf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&cu(n)))}function jT(n,i,s){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),er(i,we,n.memoizedState.cache),vl();break;case 27:case 5:Yi(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(sr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?xg(n,i,s):(sr(i),n=xi(n,i,s),n!==null?n.sibling:null);sr(i);break;case 19:var f=(n.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(Tl(n,i,s,!1),o=(s&i.childLanes)!==0),f){if(o)return Pg(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Re,Re.current),o)break;return null;case 22:case 23:return i.lanes=0,Ig(n,i,s);case 24:er(i,we,n.memoizedState.cache)}return xi(n,i,s)}function Ug(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Oe=!0;else{if(!yf(n,s)&&(i.flags&128)===0)return Oe=!1,jT(n,i,s);Oe=(n.flags&131072)!==0}else Oe=!1,jt&&(i.flags&1048576)!==0&&dp(i,uu,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")wh(o)?(n=ga(o,n),i.tag=1,i=Og(null,i,o,n,s)):(i.tag=0,i=cf(null,i,o,n,s));else{if(o!=null){if(f=o.$$typeof,f===wt){i.tag=11,i=Rg(null,i,o,n,s);break t}else if(f===O){i.tag=14,i=Cg(null,i,o,n,s);break t}}throw i=Pe(o)||o,Error(l(306,i,""))}}return i;case 0:return cf(n,i,i.type,i.pendingProps,s);case 1:return o=i.type,f=ga(o,i.pendingProps),Og(n,i,o,f,s);case 3:t:{if(Jt(i,i.stateNode.containerInfo),n===null)throw Error(l(387));o=i.pendingProps;var d=i.memoizedState;f=d.element,zh(n,i),Dl(i,o,null,s);var E=i.memoizedState;if(o=E.cache,er(i,we,o),o!==d.cache&&Mh(i,[we],s,!0),Cl(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Mg(n,i,o,s);break t}else if(o!==f){f=bn(Error(l(424)),i),El(f),i=Mg(n,i,o,s);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ue=Un(n.firstChild),tn=i,jt=!0,ca=null,Wn=!0,s=pg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vl(),o===f){i=xi(n,i,s);break t}ze(n,i,o,s)}i=i.child}return i;case 26:return Iu(n,i),n===null?(s=jy(i.type,null,i.pendingProps,null))?i.memoizedState=s:jt||(s=i.type,n=i.pendingProps,o=Fu(Tt.current).createElement(s),o[Ae]=i,o[pe]=n,je(o,s,n),he(o),i.stateNode=o):i.memoizedState=jy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Yi(i),n===null&&jt&&(o=i.stateNode=ky(i.type,i.pendingProps,Tt.current),tn=i,Wn=!0,f=ue,gr(i.type)?(Zf=f,ue=Un(o.firstChild)):ue=f),ze(n,i,i.pendingProps.children,s),Iu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&jt&&((f=o=ue)&&(o=p1(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,tn=i,ue=Un(o.firstChild),Wn=!1,f=!0):f=!1),f||ha(i)),Yi(i),f=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,o=d.children,Yf(f,d)?o=null:E!==null&&Yf(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Gh(n,i,MT,null,null,s),$l._currentValue=f),Iu(n,i),ze(n,i,o,s),i.child;case 6:return n===null&&jt&&((n=s=ue)&&(s=g1(s,i.pendingProps,Wn),s!==null?(i.stateNode=s,tn=i,ue=null,n=!0):n=!1),n||ha(i)),null;case 13:return xg(n,i,s);case 4:return Jt(i,i.stateNode.containerInfo),o=i.pendingProps,n===null?i.child=cs(i,null,o,s):ze(n,i,o,s),i.child;case 11:return Rg(n,i,i.type,i.pendingProps,s);case 7:return ze(n,i,i.pendingProps,s),i.child;case 8:return ze(n,i,i.pendingProps.children,s),i.child;case 12:return ze(n,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,er(i,i.type,o.value),ze(n,i,o.children,s),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,da(i),f=Qe(f),o=o(f),i.flags|=1,ze(n,i,o,s),i.child;case 14:return Cg(n,i,i.type,i.pendingProps,s);case 15:return Dg(n,i,i.type,i.pendingProps,s);case 19:return Pg(n,i,s);case 31:return o=i.pendingProps,s=i.mode,o={mode:o.mode,children:o.children},n===null?(s=Nu(o,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ci(n.child,o),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Ig(n,i,s);case 24:return da(i),o=Qe(we),n===null?(f=Ph(),f===null&&(f=Wt,d=xh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:o,cache:f},kh(i),er(i,we,f)):((n.lanes&s)!==0&&(zh(n,i),Dl(i,null,null,s),Cl()),f=n.memoizedState,d=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),er(i,we,o)):(o=d.cache,er(i,we,o),o!==f.cache&&Mh(i,[we],s,!0))),ze(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Li(n){n.flags|=4}function kg(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Qy(i)){if(i=Dn.current,i!==null&&((Pt&4194048)===Pt?ti!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==ti))throw wl=Uh,Tp;n.flags|=8192}}function Vu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Js():536870912,n.lanes|=i,ms|=i)}function Ll(n,i){if(!jt)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function re(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,o=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=s,i}function qT(n,i,s){var o=i.pendingProps;switch(Ih(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return s=i.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vi(we),jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(_l(i)?Li(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gp())),re(i),null;case 26:return s=i.memoizedState,n===null?(Li(i),s!==null?(re(i),kg(i,s)):(re(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Li(i),re(i),kg(i,s)):(re(i),i.flags&=-16777217):(n.memoizedProps!==o&&Li(i),re(i),i.flags&=-16777217),null;case 27:mi(i),s=Tt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(l(166));return re(i),null}n=gt.current,_l(i)?mp(i):(n=ky(f,o,s),i.stateNode=n,Li(i))}return re(i),null;case 5:if(mi(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(l(166));return re(i),null}if(n=gt.current,_l(i))mp(i);else{switch(f=Fu(Tt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}n[Ae]=i,n[pe]=o;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(je(n,s,o),s){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Li(i)}}return re(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==o&&Li(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(l(166));if(n=Tt.current,_l(i)){if(n=i.stateNode,s=i.memoizedProps,o=null,f=tn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[Ae]=i,n=!!(n.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Vy(n.nodeValue,s)),n||ha(i)}else n=Fu(n).createTextNode(o),n[Ae]=i,i.stateNode=n}return re(i),null;case 13:if(o=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_l(i),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(l(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Ae]=i}else vl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),f=!1}else f=gp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=o!==null,n=n!==null&&n.memoizedState!==null,s){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Vu(i,i.updateQueue),re(i),null;case 4:return jn(),n===null&&qf(i.stateNode.containerInfo),re(i),null;case 10:return Vi(i.type),re(i),null;case 19:if(ot(Re),f=i.memoizedState,f===null)return re(i),null;if(o=(i.flags&128)!==0,d=f.rendering,d===null)if(o)Ll(f,!1);else{if(ce!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ru(n),d!==null){for(i.flags|=128,Ll(f,!1),n=d.updateQueue,i.updateQueue=n,Vu(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)fp(s,n),s=s.sibling;return rt(Re,Re.current&1|2),i.child}n=n.sibling}f.tail!==null&&_n()>xu&&(i.flags|=128,o=!0,Ll(f,!1),i.lanes=4194304)}else{if(!o)if(n=Ru(d),n!==null){if(i.flags|=128,o=!0,n=n.updateQueue,i.updateQueue=n,Vu(i,n),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!jt)return re(i),null}else 2*_n()-f.renderingStartTime>xu&&s!==536870912&&(i.flags|=128,o=!0,Ll(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=_n(),i.sibling=null,n=Re.current,rt(Re,o?n&1|2:n&1),i):(re(i),null);case 22:case 23:return Mi(i),Hh(),o=i.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),s=i.updateQueue,s!==null&&Vu(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),n!==null&&ot(ma),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Vi(we),re(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function HT(n,i){switch(Ih(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Vi(we),jn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));vl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ot(Re),null;case 4:return jn(),null;case 10:return Vi(i.type),null;case 22:case 23:return Mi(i),Hh(),n!==null&&ot(ma),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Vi(we),null;case 25:return null;default:return null}}function zg(n,i){switch(Ih(i),i.tag){case 3:Vi(we),jn();break;case 26:case 27:case 5:mi(i);break;case 4:jn();break;case 13:Mi(i);break;case 19:ot(Re);break;case 10:Vi(i.type);break;case 22:case 23:Mi(i),Hh(),n!==null&&ot(ma);break;case 24:Vi(we)}}function Pl(n,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&n)===n){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==f)}}catch(A){Zt(i,i.return,A)}}function or(n,i,s){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&n)===n){var E=o.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=i;var C=s,z=A;try{z()}catch(X){Zt(f,C,X)}}}o=o.next}while(o!==d)}}catch(X){Zt(i,i.return,X)}}function Bg(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Cp(i,s)}catch(o){Zt(n,n.return,o)}}}function jg(n,i,s){s.props=ga(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(o){Zt(n,i,o)}}function Ul(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var o=n.stateNode;break;case 30:o=n.stateNode;break;default:o=n.stateNode}typeof s=="function"?n.refCleanup=s(o):s.current=o}}catch(f){Zt(n,i,f)}}function ei(n,i){var s=n.ref,o=n.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Zt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Zt(n,i,f)}else s.current=null}function qg(n){var i=n.type,s=n.memoizedProps,o=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Zt(n,n.return,f)}}function _f(n,i,s){try{var o=n.stateNode;c1(o,n.type,s,i),o[pe]=i}catch(f){Zt(n,n.return,f)}}function Hg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gr(n.type)||n.tag===4}function vf(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Hg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ef(n,i,s){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Hu));else if(o!==4&&(o===27&&gr(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Ef(n,i,s),n=n.sibling;n!==null;)Ef(n,i,s),n=n.sibling}function Ou(n,i,s){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(o!==4&&(o===27&&gr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Ou(n,i,s),n=n.sibling;n!==null;)Ou(n,i,s),n=n.sibling}function Fg(n){var i=n.stateNode,s=n.memoizedProps;try{for(var o=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);je(i,o,s),i[Ae]=n,i[pe]=s}catch(d){Zt(n,n.return,d)}}var Pi=!1,de=!1,Tf=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function FT(n,i){if(n=n.containerInfo,Gf=$u,n=np(n),_h(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else t:{s=(s=n.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,A=-1,C=-1,z=0,X=0,J=n,B=null;e:for(;;){for(var q;J!==s||f!==0&&J.nodeType!==3||(A=E+f),J!==d||o!==0&&J.nodeType!==3||(C=E+o),J.nodeType===3&&(E+=J.nodeValue.length),(q=J.firstChild)!==null;)B=J,J=q;for(;;){if(J===n)break e;if(B===s&&++z===f&&(A=E),B===d&&++X===o&&(C=E),(q=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=q}s=A===-1||C===-1?null:{start:A,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qf={focusedElem:n,selectionRange:s},$u=!1,Me=i;Me!==null;)if(i=Me,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Me=n;else for(;Me!==null;){switch(i=Me,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Et=ga(s.type,f,s.elementType===s.type);n=o.getSnapshotBeforeUpdate(Et,d),o.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Zt(s,s.return,yt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Xf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,Me=n;break}Me=i.return}}function Qg(n,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ur(n,s),o&4&&Pl(5,s);break;case 1:if(ur(n,s),o&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){Zt(s,s.return,E)}else{var f=ga(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(s,s.return,E)}}o&64&&Bg(s),o&512&&Ul(s,s.return);break;case 3:if(ur(n,s),o&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Cp(n,i)}catch(E){Zt(s,s.return,E)}}break;case 27:i===null&&o&4&&Fg(s);case 26:case 5:ur(n,s),i===null&&o&4&&qg(s),o&512&&Ul(s,s.return);break;case 12:ur(n,s);break;case 13:ur(n,s),o&4&&Xg(n,s),o&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=WT.bind(null,s),y1(n,s))));break;case 22:if(o=s.memoizedState!==null||Pi,!o){i=i!==null&&i.memoizedState!==null||de,f=Pi;var d=de;Pi=o,(de=i)&&!d?cr(n,s,(s.subtreeFlags&8772)!==0):ur(n,s),Pi=f,de=d}break;case 30:break;default:ur(n,s)}}function Yg(n){var i=n.alternate;i!==null&&(n.alternate=null,Yg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ie=null,nn=!1;function Ui(n,i,s){for(s=s.child;s!==null;)Kg(n,i,s),s=s.sibling}function Kg(n,i,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,s)}catch{}switch(s.tag){case 26:de||ei(s,i),Ui(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:de||ei(s,i);var o=ie,f=nn;gr(s.type)&&(ie=s.stateNode,nn=!1),Ui(n,i,s),Ql(s.stateNode),ie=o,nn=f;break;case 5:de||ei(s,i);case 6:if(o=ie,f=nn,ie=null,Ui(n,i,s),ie=o,nn=f,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(d){Zt(s,i,d)}else try{ie.removeChild(s.stateNode)}catch(d){Zt(s,i,d)}break;case 18:ie!==null&&(nn?(n=ie,Py(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),to(n)):Py(ie,s.stateNode));break;case 4:o=ie,f=nn,ie=s.stateNode.containerInfo,nn=!0,Ui(n,i,s),ie=o,nn=f;break;case 0:case 11:case 14:case 15:de||or(2,s,i),de||or(4,s,i),Ui(n,i,s);break;case 1:de||(ei(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&jg(s,i,o)),Ui(n,i,s);break;case 21:Ui(n,i,s);break;case 22:de=(o=de)||s.memoizedState!==null,Ui(n,i,s),de=o;break;default:Ui(n,i,s)}}function Xg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{to(n)}catch(s){Zt(i,i.return,s)}}function GT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Gg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Gg),i;default:throw Error(l(435,n.tag))}}function Af(n,i){var s=GT(n);i.forEach(function(o){var f=t1.bind(null,n,o);s.has(o)||(s.add(o),o.then(f,f))})}function hn(n,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=n,E=i,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(gr(A.type)){ie=A.stateNode,nn=!1;break t}break;case 5:ie=A.stateNode,nn=!1;break t;case 3:case 4:ie=A.stateNode.containerInfo,nn=!0;break t}A=A.return}if(ie===null)throw Error(l(160));Kg(d,E,f),ie=null,nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)$g(i,n),i=i.sibling}var Pn=null;function $g(n,i){var s=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hn(i,n),fn(n),o&4&&(or(3,n,n.return),Pl(3,n),or(5,n,n.return));break;case 1:hn(i,n),fn(n),o&512&&(de||s===null||ei(s,s.return)),o&64&&Pi&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Pn;if(hn(i,n),fn(n),o&512&&(de||s===null||ei(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=n.memoizedState,s===null)if(o===null)if(n.stateNode===null){t:{o=n.type,s=n.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Gr]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),je(d,o,s),d[Ae]=n,he(d),o=d;break t;case"link":var E=Fy("link","href",f).get(o+(s.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(A,1);break e}}d=f.createElement(o),je(d,o,s),f.head.appendChild(d);break;case"meta":if(E=Fy("meta","content",f).get(o+(s.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(A,1);break e}}d=f.createElement(o),je(d,o,s),f.head.appendChild(d);break;default:throw Error(l(468,o))}d[Ae]=n,he(d),o=d}n.stateNode=o}else Gy(f,n.type,n.stateNode);else n.stateNode=Hy(f,o,n.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Gy(f,n.type,n.stateNode):Hy(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&_f(n,n.memoizedProps,s.memoizedProps)}break;case 27:hn(i,n),fn(n),o&512&&(de||s===null||ei(s,s.return)),s!==null&&o&4&&_f(n,n.memoizedProps,s.memoizedProps);break;case 5:if(hn(i,n),fn(n),o&512&&(de||s===null||ei(s,s.return)),n.flags&32){f=n.stateNode;try{En(f,"")}catch(q){Zt(n,n.return,q)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,_f(n,f,s!==null?s.memoizedProps:f)),o&1024&&(Tf=!0);break;case 6:if(hn(i,n),fn(n),o&4){if(n.stateNode===null)throw Error(l(162));o=n.memoizedProps,s=n.stateNode;try{s.nodeValue=o}catch(q){Zt(n,n.return,q)}}break;case 3:if(Yu=null,f=Pn,Pn=Gu(i.containerInfo),hn(i,n),Pn=f,fn(n),o&4&&s!==null&&s.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(q){Zt(n,n.return,q)}Tf&&(Tf=!1,Zg(n));break;case 4:o=Pn,Pn=Gu(n.stateNode.containerInfo),hn(i,n),fn(n),Pn=o;break;case 12:hn(i,n),fn(n);break;case 13:hn(i,n),fn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Df=_n()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Af(n,o)));break;case 22:f=n.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Pi,X=de;if(Pi=z||f,de=X||C,hn(i,n),de=X,Pi=z,fn(n),o&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||C||Pi||de||ya(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Zt(C,C.return,q)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){Zt(C,C.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=n.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Af(n,s))));break;case 19:hn(i,n),fn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Af(n,o)));break;case 30:break;case 21:break;default:hn(i,n),fn(n)}}function fn(n){var i=n.flags;if(i&2){try{for(var s,o=n.return;o!==null;){if(Hg(o)){s=o;break}o=o.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var f=s.stateNode,d=vf(n);Ou(n,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(En(E,""),s.flags&=-33);var A=vf(n);Ou(n,A,E);break;case 3:case 4:var C=s.stateNode.containerInfo,z=vf(n);Ef(n,z,C);break;default:throw Error(l(161))}}catch(X){Zt(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Zg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Zg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ur(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qg(n,i.alternate,i),i=i.sibling}function ya(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:or(4,i,i.return),ya(i);break;case 1:ei(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&jg(i,i.return,s),ya(i);break;case 27:Ql(i.stateNode);case 26:case 5:ei(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}n=n.sibling}}function cr(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:cr(f,d,s),Pl(4,d);break;case 1:if(cr(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=d,f=o.updateQueue,f!==null){var A=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Rp(C[f],A)}catch(z){Zt(o,o.return,z)}}s&&E&64&&Bg(d),Ul(d,d.return);break;case 27:Fg(d);case 26:case 5:cr(f,d,s),s&&o===null&&E&4&&qg(d),Ul(d,d.return);break;case 12:cr(f,d,s);break;case 13:cr(f,d,s),s&&E&4&&Xg(f,d);break;case 22:d.memoizedState===null&&cr(f,d,s),Ul(d,d.return);break;case 30:break;default:cr(f,d,s)}i=i.sibling}}function Sf(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Al(s))}function bf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Al(n))}function ni(n,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jg(n,i,s,o),i=i.sibling}function Jg(n,i,s,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ni(n,i,s,o),f&2048&&Pl(9,i);break;case 1:ni(n,i,s,o);break;case 3:ni(n,i,s,o),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Al(n)));break;case 12:if(f&2048){ni(n,i,s,o),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Zt(i,i.return,C)}}else ni(n,i,s,o);break;case 13:ni(n,i,s,o);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ni(n,i,s,o):kl(n,i):d._visibility&2?ni(n,i,s,o):(d._visibility|=2,hs(n,i,s,o,(i.subtreeFlags&10256)!==0)),f&2048&&Sf(E,i);break;case 24:ni(n,i,s,o),f&2048&&bf(i.alternate,i);break;default:ni(n,i,s,o)}}function hs(n,i,s,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,A=s,C=o,z=E.flags;switch(E.tag){case 0:case 11:case 15:hs(d,E,A,C,f),Pl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?hs(d,E,A,C,f):kl(d,E):(X._visibility|=2,hs(d,E,A,C,f)),f&&z&2048&&Sf(E.alternate,E);break;case 24:hs(d,E,A,C,f),f&&z&2048&&bf(E.alternate,E);break;default:hs(d,E,A,C,f)}i=i.sibling}}function kl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,o=i,f=o.flags;switch(o.tag){case 22:kl(s,o),f&2048&&Sf(o.alternate,o);break;case 24:kl(s,o),f&2048&&bf(o.alternate,o);break;default:kl(s,o)}i=i.sibling}}var zl=8192;function fs(n){if(n.subtreeFlags&zl)for(n=n.child;n!==null;)Wg(n),n=n.sibling}function Wg(n){switch(n.tag){case 26:fs(n),n.flags&zl&&n.memoizedState!==null&&N1(Pn,n.memoizedState,n.memoizedProps);break;case 5:fs(n);break;case 3:case 4:var i=Pn;Pn=Gu(n.stateNode.containerInfo),fs(n),Pn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=zl,zl=16777216,fs(n),zl=i):fs(n));break;default:fs(n)}}function ty(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Bl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Me=o,ny(o,n)}ty(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(n),n=n.sibling}function ey(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&or(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Mu(n)):Bl(n);break;default:Bl(n)}}function Mu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];Me=o,ny(o,n)}ty(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:or(8,i,i.return),Mu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Mu(i));break;default:Mu(i)}n=n.sibling}}function ny(n,i){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:or(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Al(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Me=o;else t:for(s=n;Me!==null;){o=Me;var f=o.sibling,d=o.return;if(Yg(o),o===s){Me=null;break t}if(f!==null){f.return=d,Me=f;break t}Me=d}}}var QT={getCacheForType:function(n){var i=Qe(we),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},YT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Nt=null,Pt=0,Qt=0,dn=null,hr=!1,ds=!1,wf=!1,ki=0,ce=0,fr=0,_a=0,Rf=0,In=0,ms=0,jl=null,rn=null,Cf=!1,Df=0,xu=1/0,Lu=null,dr=null,Be=0,mr=null,ps=null,gs=0,If=0,Nf=null,iy=null,ql=0,Vf=null;function mn(){if((Gt&2)!==0&&Pt!==0)return Pt&-Pt;if(K.T!==null){var n=is;return n!==0?n:kf()}return Xi()}function ry(){In===0&&(In=(Pt&536870912)===0||jt?Zs():536870912);var n=Dn.current;return n!==null&&(n.flags|=32),In}function pn(n,i,s){(n===Wt&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)&&(ys(n,0),pr(n,Pt,In,!1)),gi(n,s),((Gt&2)===0||n!==Wt)&&(n===Wt&&((Gt&2)===0&&(_a|=s),ce===4&&pr(n,Pt,In,!1)),ii(n))}function ay(n,i,s){if((Gt&6)!==0)throw Error(l(327));var o=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Fr(n,i),f=o?$T(n,i):xf(n,i,!0),d=o;do{if(f===0){ds&&!o&&pr(n,i,0,!1);break}else{if(s=n.current.alternate,d&&!KT(s)){f=xf(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var A=n;f=jl;var C=A.current.memoizedState.isDehydrated;if(C&&(ys(A,E).flags|=256),E=xf(A,E,!1),E!==2){if(wf&&!C){A.errorRecoveryDisabledLanes|=d,_a|=d,f=4;break t}d=rn,rn=f,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ys(n,0),pr(n,i,0,!0);break}t:{switch(o=n,d=f,d){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:pr(o,i,In,!hr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(f=Df+300-_n(),10<f)){if(pr(o,i,In,!hr),xa(o,0,!0)!==0)break t;o.timeoutHandle=xy(sy.bind(null,o,s,rn,Lu,Cf,i,In,_a,ms,hr,d,2,-0,0),f);break t}sy(o,s,rn,Lu,Cf,i,In,_a,ms,hr,d,0,-0,0)}}break}while(!0);ii(n)}function sy(n,i,s,o,f,d,E,A,C,z,X,J,B,q){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:I1},Wg(i),J=V1(),J!==null)){n.cancelPendingCommit=J(dy.bind(null,n,i,d,s,o,f,E,A,C,X,1,B,q)),pr(n,d,E,!z);return}dy(n,i,d,s,o,f,E,A,C)}function KT(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!un(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(n,i,s,o){i&=~Rf,i&=~_a,n.suspendedLanes|=i,n.pingedLanes&=~i,o&&(n.warmLanes|=i),o=n.expirationTimes;for(var f=i;0<f;){var d=31-Ge(f),E=1<<d;o[d]=-1,f&=~E}s!==0&&qn(n,s,i)}function Pu(){return(Gt&6)===0?(Hl(0),!1):!0}function Of(){if(Nt!==null){if(Qt===0)var n=Nt.return;else n=Nt,Ni=fa=null,Kh(n),us=null,Ml=0,n=Nt;for(;n!==null;)zg(n.alternate,n),n=n.return;Nt=null}}function ys(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,f1(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Of(),Wt=n,Nt=s=Ci(n.current,null),Pt=i,Qt=0,dn=null,hr=!1,ds=Fr(n,i),wf=!1,ms=In=Rf=_a=fr=ce=0,rn=jl=null,Cf=!1,(i&8)!==0&&(i|=i&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=i;0<o;){var f=31-Ge(o),d=1<<f;i|=n[f],o&=~d}return ki=i,ru(),s}function ly(n,i){Ct=null,K.H=Su,i===bl||i===du?(i=bp(),Qt=3):i===Tp?(i=bp(),Qt=4):Qt=i===wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Nt===null&&(ce=1,Du(n,bn(i,n.current)))}function oy(){var n=K.H;return K.H=Su,n===null?Su:n}function uy(){var n=K.A;return K.A=QT,n}function Mf(){ce=4,hr||(Pt&4194048)!==Pt&&Dn.current!==null||(ds=!0),(fr&134217727)===0&&(_a&134217727)===0||Wt===null||pr(Wt,Pt,In,!1)}function xf(n,i,s){var o=Gt;Gt|=2;var f=oy(),d=uy();(Wt!==n||Pt!==i)&&(Lu=null,ys(n,i)),i=!1;var E=ce;t:do try{if(Qt!==0&&Nt!==null){var A=Nt,C=dn;switch(Qt){case 8:Of(),E=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Qt;if(Qt=0,dn=null,_s(n,A,C,z),s&&ds){E=0;break t}break;default:z=Qt,Qt=0,dn=null,_s(n,A,C,z)}}XT(),E=ce;break}catch(X){ly(n,X)}while(!0);return i&&n.shellSuspendCounter++,Ni=fa=null,Gt=o,K.H=f,K.A=d,Nt===null&&(Wt=null,Pt=0,ru()),E}function XT(){for(;Nt!==null;)cy(Nt)}function $T(n,i){var s=Gt;Gt|=2;var o=oy(),f=uy();Wt!==n||Pt!==i?(Lu=null,xu=_n()+500,ys(n,i)):ds=Fr(n,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=dn;e:switch(Qt){case 1:Qt=0,dn=null,_s(n,i,d,1);break;case 2:case 9:if(Ap(d)){Qt=0,dn=null,hy(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==n||(Qt=7),ii(n)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ap(d)?(Qt=0,dn=null,hy(i)):(Qt=0,dn=null,_s(n,i,d,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var A=Nt;if(!E||Qy(E)){Qt=0,dn=null;var C=A.sibling;if(C!==null)Nt=C;else{var z=A.return;z!==null?(Nt=z,Uu(z)):Nt=null}break e}}Qt=0,dn=null,_s(n,i,d,5);break;case 6:Qt=0,dn=null,_s(n,i,d,6);break;case 8:Of(),ce=6;break t;default:throw Error(l(462))}}ZT();break}catch(X){ly(n,X)}while(!0);return Ni=fa=null,K.H=o,K.A=f,Gt=s,Nt!==null?0:(Wt=null,Pt=0,ru(),ce)}function ZT(){for(;Nt!==null&&!Ys();)cy(Nt)}function cy(n){var i=Ug(n.alternate,n,ki);n.memoizedProps=n.pendingProps,i===null?Uu(n):Nt=i}function hy(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Vg(s,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Vg(s,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Kh(i);default:zg(s,i),i=Nt=fp(i,ki),i=Ug(s,i,ki)}n.memoizedProps=n.pendingProps,i===null?Uu(n):Nt=i}function _s(n,i,s,o){Ni=fa=null,Kh(i),us=null,Ml=0;var f=i.return;try{if(BT(n,f,i,s,Pt)){ce=1,Du(n,bn(s,n.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;ce=1,Du(n,bn(s,n.current)),Nt=null;return}i.flags&32768?(jt||o===1?n=!0:ds||(Pt&536870912)!==0?n=!1:(hr=n=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),fy(i,n)):Uu(i)}function Uu(n){var i=n;do{if((i.flags&32768)!==0){fy(i,hr);return}n=i.return;var s=qT(i.alternate,i,ki);if(s!==null){Nt=s;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=n}while(i!==null);ce===0&&(ce=5)}function fy(n,i){do{var s=HT(n.alternate,n);if(s!==null){s.flags&=32767,Nt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=s}while(n!==null);ce=6,Nt=null}function dy(n,i,s,o,f,d,E,A,C){n.cancelPendingCommit=null;do ku();while(Be!==0);if((Gt&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(d=i.lanes|i.childLanes,d|=Sh,Ws(n,s,d,E,A,C),n===Wt&&(Nt=Wt=null,Pt=0),ps=i,mr=n,gs=s,If=d,Nf=f,iy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,e1(Br,function(){return _y(),null})):(n.callbackNode=null,n.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,f=lt.p,lt.p=2,E=Gt,Gt|=4;try{FT(n,i,s)}finally{Gt=E,lt.p=f,K.T=o}}Be=1,my(),py(),gy()}}function my(){if(Be===1){Be=0;var n=mr,i=ps,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=lt.p;lt.p=2;var f=Gt;Gt|=4;try{$g(i,n);var d=Qf,E=np(n.containerInfo),A=d.focusedElem,C=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&ep(A.ownerDocument.documentElement,A)){if(C!==null&&_h(A)){var z=C.start,X=C.end;if(X===void 0&&(X=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(X,A.value.length);else{var J=A.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var q=B.getSelection(),Et=A.textContent.length,yt=Math.min(C.start,Et),$t=C.end===void 0?yt:Math.min(C.end,Et);!q.extend&&yt>$t&&(E=$t,$t=yt,yt=E);var L=tp(A,yt),V=tp(A,$t);if(L&&V&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var k=J.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),yt>$t?(q.addRange(k),q.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),q.addRange(k))}}}}for(J=[],q=A;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var $=J[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}$u=!!Gf,Qf=Gf=null}finally{Gt=f,lt.p=o,K.T=s}}n.current=i,Be=2}}function py(){if(Be===2){Be=0;var n=mr,i=ps,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=lt.p;lt.p=2;var f=Gt;Gt|=4;try{Qg(n,i.alternate,i)}finally{Gt=f,lt.p=o,K.T=s}}Be=3}}function gy(){if(Be===4||Be===3){Be=0,Mo();var n=mr,i=ps,s=gs,o=iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,ps=mr=null,yy(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(dr=null),La(s),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,f=lt.p,lt.p=2,K.T=null;try{for(var d=n.onRecoverableError,E=0;E<o.length;E++){var A=o[E];d(A.value,{componentStack:A.stack})}}finally{K.T=i,lt.p=f}}(gs&3)!==0&&ku(),ii(n),f=n.pendingLanes,(s&4194090)!==0&&(f&42)!==0?n===Vf?ql++:(ql=0,Vf=n):ql=0,Hl(0)}}function yy(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Al(i)))}function ku(n){return my(),py(),gy(),_y()}function _y(){if(Be!==5)return!1;var n=mr,i=If;If=0;var s=La(gs),o=K.T,f=lt.p;try{lt.p=32>s?32:s,K.T=null,s=Nf,Nf=null;var d=mr,E=gs;if(Be=0,ps=mr=null,gs=0,(Gt&6)!==0)throw Error(l(331));var A=Gt;if(Gt|=4,ey(d.current),Jg(d,d.current,E,s),Gt=A,Hl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{lt.p=f,K.T=o,yy(n,i)}}function vy(n,i,s){i=bn(s,i),i=uf(n.stateNode,i,2),n=rr(n,i,2),n!==null&&(gi(n,2),ii(n))}function Zt(n,i,s){if(n.tag===3)vy(n,n,s);else for(;i!==null;){if(i.tag===3){vy(i,n,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){n=bn(s,n),s=Sg(2),o=rr(i,s,2),o!==null&&(bg(s,o,i,n),gi(o,2),ii(o));break}}i=i.return}}function Lf(n,i,s){var o=n.pingCache;if(o===null){o=n.pingCache=new YT;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(s)||(wf=!0,f.add(s),n=JT.bind(null,n,i,s),i.then(n,n))}function JT(n,i,s){var o=n.pingCache;o!==null&&o.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Wt===n&&(Pt&s)===s&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>_n()-Df?(Gt&2)===0&&ys(n,0):Rf|=s,ms===Pt&&(ms=0)),ii(n)}function Ey(n,i){i===0&&(i=Js()),n=Wa(n,i),n!==null&&(gi(n,i),ii(n))}function WT(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Ey(n,s)}function t1(n,i){var s=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(i),Ey(n,s)}function e1(n,i){return kr(n,i)}var zu=null,vs=null,Pf=!1,Bu=!1,Uf=!1,va=0;function ii(n){n!==vs&&n.next===null&&(vs===null?zu=vs=n:vs=vs.next=n),Bu=!0,Pf||(Pf=!0,i1())}function Hl(n,i){if(!Uf&&Bu){Uf=!0;do for(var s=!1,o=zu;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-Ge(42|n)+1)-1,d&=f&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,by(o,d))}else d=Pt,d=xa(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Fr(o,d)||(s=!0,by(o,d));o=o.next}while(s);Uf=!1}}function n1(){Ty()}function Ty(){Bu=Pf=!1;var n=0;va!==0&&(h1()&&(n=va),va=0);for(var i=_n(),s=null,o=zu;o!==null;){var f=o.next,d=Ay(o,i);d===0?(o.next=null,s===null?zu=f:s.next=f,f===null&&(vs=s)):(s=o,(n!==0||(d&3)!==0)&&(Bu=!0)),o=f}Hl(n)}function Ay(n,i){for(var s=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Ge(d),A=1<<E,C=f[E];C===-1?((A&s)===0||(A&o)!==0)&&(f[E]=$s(A,i)):C<=i&&(n.expiredLanes|=A),d&=~A}if(i=Wt,s=Pt,s=xa(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o=n.callbackNode,s===0||n===i&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)return o!==null&&o!==null&&zr(o),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Fr(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(o!==null&&zr(o),La(s)){case 2:case 8:s=Oa;break;case 32:s=Br;break;case 268435456:s=Ma;break;default:s=Br}return o=Sy.bind(null,n),s=kr(s,o),n.callbackPriority=i,n.callbackNode=s,i}return o!==null&&o!==null&&zr(o),n.callbackPriority=2,n.callbackNode=null,2}function Sy(n,i){if(Be!==0&&Be!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(ku()&&n.callbackNode!==s)return null;var o=Pt;return o=xa(n,n===Wt?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o===0?null:(ay(n,o,i),Ay(n,_n()),n.callbackNode!=null&&n.callbackNode===s?Sy.bind(null,n):null)}function by(n,i){if(ku())return null;ay(n,i,!0)}function i1(){d1(function(){(Gt&6)!==0?kr(Ks,n1):Ty()})}function kf(){return va===0&&(va=Zs()),va}function wy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ja(""+n)}function Ry(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function r1(n,i,s,o,f){if(i==="submit"&&s&&s.stateNode===f){var d=wy((f[pe]||null).action),E=o.submitter;E&&(i=(i=E[pe]||null)?wy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var A=new qa("action","action",null,o,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(va!==0){var C=E?Ry(f,E):new FormData(f);rf(s,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=E?Ry(f,E):new FormData(f),rf(s,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var zf=0;zf<Ah.length;zf++){var Bf=Ah[zf],a1=Bf.toLowerCase(),s1=Bf[0].toUpperCase()+Bf.slice(1);Ln(a1,"on"+s1)}Ln(ap,"onAnimationEnd"),Ln(sp,"onAnimationIteration"),Ln(lp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(ST,"onTransitionRun"),Ln(bT,"onTransitionStart"),Ln(wT,"onTransitionCancel"),Ln(op,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Cy(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var o=n[s],f=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var E=o.length-1;0<=E;E--){var A=o[E],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(X){Cu(X)}f.currentTarget=null,d=C}else for(E=0;E<o.length;E++){if(A=o[E],C=A.instance,z=A.currentTarget,A=A.listener,C!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(X){Cu(X)}f.currentTarget=null,d=C}}}}function Vt(n,i){var s=i[el];s===void 0&&(s=i[el]=new Set);var o=n+"__bubble";s.has(o)||(Dy(i,n,2,!1),s.add(o))}function jf(n,i,s){var o=0;i&&(o|=4),Dy(s,n,o,i)}var ju="_reactListening"+Math.random().toString(36).slice(2);function qf(n){if(!n[ju]){n[ju]=!0,nl.forEach(function(s){s!=="selectionchange"&&(l1.has(s)||jf(s,!1,n),jf(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ju]||(i[ju]=!0,jf("selectionchange",!1,i))}}function Dy(n,i,s,o){switch(Jy(i)){case 2:var f=x1;break;case 8:f=L1;break;default:f=nd}s=f.bind(null,i,s,n),f=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function Hf(n,i,s,o,f){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var A=o.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=o.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=yi(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){o=d=E;continue t}A=A.parentNode}}o=o.return}Ho(function(){var z=d,X=Tn(s),J=[];t:{var B=up.get(n);if(B!==void 0){var q=qa,Et=n;switch(n){case"keypress":if(Kn(s)===0)break t;case"keydown":case"keyup":q=Ka;break;case"focusin":Et="focus",q=Ga;break;case"focusout":Et="blur",q=Ga;break;case"beforeblur":case"afterblur":q=Ga;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Zo;break;case ap:case sp:case lp:q=Qa;break;case op:q=Wo;break;case"scroll":case"scrollend":q=Fo;break;case"wheel":q=Xa;break;case"copy":case"cut":case"paste":q=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ml;break;case"toggle":case"beforetoggle":q=eu}var yt=(i&4)!==0,$t=!yt&&(n==="scroll"||n==="scrollend"),L=yt?B!==null?B+"Capture":null:B;yt=[];for(var V=z,k;V!==null;){var $=V;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||L===null||($=Jr(V,L),$!=null&&yt.push(Gl(V,$,k))),$t)break;V=V.return}0<yt.length&&(B=new q(B,Et,null,s,X),J.push({event:B,listeners:yt}))}}if((i&7)===0){t:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&s!==Ti&&(Et=s.relatedTarget||s.fromElement)&&(yi(Et)||Et[vn]))break t;if((q||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Et=s.relatedTarget||s.toElement,q=z,Et=Et?yi(Et):null,Et!==null&&($t=h(Et),yt=Et.tag,Et!==$t||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(q=null,Et=z),q!==Et)){if(yt=Sn,$="onMouseLeave",L="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(yt=ml,$="onPointerLeave",L="onPointerEnter",V="pointer"),$t=q==null?B:Fn(q),k=Et==null?B:Fn(Et),B=new yt($,V+"leave",q,s,X),B.target=$t,B.relatedTarget=k,$=null,yi(X)===z&&(yt=new yt(L,V+"enter",Et,s,X),yt.target=k,yt.relatedTarget=$t,$=yt),$t=$,q&&Et)e:{for(yt=q,L=Et,V=0,k=yt;k;k=Es(k))V++;for(k=0,$=L;$;$=Es($))k++;for(;0<V-k;)yt=Es(yt),V--;for(;0<k-V;)L=Es(L),k--;for(;V--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=Es(yt),L=Es(L)}yt=null}else yt=null;q!==null&&Iy(J,B,q,yt,!1),Et!==null&&$t!==null&&Iy(J,$t,Et,yt,!0)}}t:{if(B=z?Fn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ft=Km;else if(be(B))if(Xm)ft=ET;else{ft=_T;var It=yT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ll(z.elementType)&&(ft=Km):ft=vT;if(ft&&(ft=ft(n,z))){Ri(J,ft,s,X);break t}It&&It(n,B,z),n==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Wi(B,"number",B.value)}switch(It=z?Fn(z):window,n){case"focusin":(be(It)||It.contentEditable==="true")&&($a=It,vh=z,yl=null);break;case"focusout":yl=vh=$a=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,ip(J,s,X);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":ip(J,s,X)}var dt;if(Zn)t:{switch(n){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else xt?F(n,s)&&(_t="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(v&&s.locale!=="ko"&&(xt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&xt&&(dt=ul()):(Yn=X,tr="value"in Yn?Yn.value:Yn.textContent,xt=!0)),It=qu(z,_t),0<It.length&&(_t=new fl(_t,n,null,s,X),J.push({event:_t,listeners:It}),dt?_t.data=dt:(dt=at(s),dt!==null&&(_t.data=dt)))),(dt=g?Se(n,s):Lt(n,s))&&(_t=qu(z,"onBeforeInput"),0<_t.length&&(It=new fl("onBeforeInput","beforeinput",null,s,X),J.push({event:It,listeners:_t}),It.data=dt)),r1(J,n,z,s,X)}Cy(J,i)})}function Gl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function qu(n,i){for(var s=i+"Capture",o=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jr(n,s),f!=null&&o.unshift(Gl(n,f,d)),f=Jr(n,i),f!=null&&o.push(Gl(n,f,d))),n.tag===3)return o;n=n.return}return[]}function Es(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Iy(n,i,s,o,f){for(var d=i._reactName,E=[];s!==null&&s!==o;){var A=s,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===o)break;A!==5&&A!==26&&A!==27||z===null||(C=z,f?(z=Jr(s,d),z!=null&&E.unshift(Gl(s,z,C))):f||(z=Jr(s,d),z!=null&&E.push(Gl(s,z,C)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var o1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function Ny(n){return(typeof n=="string"?n:""+n).replace(o1,`
`).replace(u1,"")}function Vy(n,i){return i=Ny(i),Ny(n)===i}function Hu(){}function Xt(n,i,s,o,f,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(n,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(n,""+o);break;case"className":Gn(n,"class",o);break;case"tabIndex":Gn(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(n,s,o);break;case"style":sl(n,o,d);break;case"data":if(i!=="object"){Gn(n,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(s);break}o=ja(""+o),n.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xt(n,i,"name",f.name,f,null),Xt(n,i,"formEncType",f.formEncType,f,null),Xt(n,i,"formMethod",f.formMethod,f,null),Xt(n,i,"formTarget",f.formTarget,f,null)):(Xt(n,i,"encType",f.encType,f,null),Xt(n,i,"method",f.method,f,null),Xt(n,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(s);break}o=ja(""+o),n.setAttribute(s,o);break;case"onClick":o!=null&&(n.onclick=Hu);break;case"onScroll":o!=null&&Vt("scroll",n);break;case"onScrollEnd":o!=null&&Vt("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}s=ja(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,""+o):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":o===!0?n.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,o):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(s,o):n.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(s):n.setAttribute(s,o);break;case"popover":Vt("beforetoggle",n),Vt("toggle",n),Ji(n,"popover",o);break;case"xlinkActuate":Ue(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fh.get(s)||s,Ji(n,s,o))}}function Ff(n,i,s,o,f,d){switch(s){case"style":sl(n,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof o=="string"?En(n,o):(typeof o=="number"||typeof o=="bigint")&&En(n,""+o);break;case"onScroll":o!=null&&Vt("scroll",n);break;case"onScrollEnd":o!=null&&Vt("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=n[pe]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,o,f);break t}s in n?n[s]=o:o===!0?n.setAttribute(s,""):Ji(n,s,o)}}}function je(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",n),Vt("load",n);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Xt(n,i,d,E,s,null)}}f&&Xt(n,i,"srcSet",s.srcSet,s,null),o&&Xt(n,i,"src",s.src,s,null);return;case"input":Vt("invalid",n);var A=d=E=f=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var X=s[o];if(X!=null)switch(o){case"name":f=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,i));break;default:Xt(n,i,o,X,s,null)}}Xr(n,d,A,C,z,E,f,!1),Ba(n);return;case"select":Vt("invalid",n),o=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":o=A;default:Xt(n,i,f,A,s,null)}i=d,s=E,n.multiple=!!o,i!=null?Ei(n,!!o,i,!1):s!=null&&Ei(n,!!o,s,!0);return;case"textarea":Vt("invalid",n),d=f=o=null;for(E in s)if(s.hasOwnProperty(E)&&(A=s[E],A!=null))switch(E){case"value":o=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:Xt(n,i,E,A,s,null)}$r(n,o,f,d),Ba(n);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(n,i,C,o,s,null)}return;case"dialog":Vt("beforetoggle",n),Vt("toggle",n),Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":Vt("load",n);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Vt(Fl[o],n);break;case"image":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"embed":case"source":case"link":Vt("error",n),Vt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Xt(n,i,z,o,s,null)}return;default:if(ll(i)){for(X in s)s.hasOwnProperty(X)&&(o=s[X],o!==void 0&&Ff(n,i,X,o,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(o=s[A],o!=null&&Xt(n,i,A,o,s,null))}function c1(n,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,A=null,C=null,z=null,X=null;for(q in s){var J=s[q];if(s.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(q)||Xt(n,i,q,null,o,J)}}for(var B in o){var q=o[B];if(J=s[B],o.hasOwnProperty(B)&&(q!=null||J!=null))switch(B){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":X=q;break;case"value":E=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,i));break;default:q!==J&&Xt(n,i,B,q,o,J)}}on(n,E,A,C,z,X,d,f);return;case"select":q=E=A=B=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(d)||Xt(n,i,d,null,o,C)}for(f in o)if(d=o[f],C=s[f],o.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":B=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==C&&Xt(n,i,f,d,o,C)}i=A,s=E,o=q,B!=null?Ei(n,!!s,B,!1):!!o!=!!s&&(i!=null?Ei(n,!!s,i,!0):Ei(n,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xt(n,i,A,null,o,f)}for(E in o)if(f=o[E],d=s[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":B=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==d&&Xt(n,i,E,f,o,d)}Yt(n,B,q);return;case"option":for(var Et in s)if(B=s[Et],s.hasOwnProperty(Et)&&B!=null&&!o.hasOwnProperty(Et))switch(Et){case"selected":n.selected=!1;break;default:Xt(n,i,Et,null,o,B)}for(C in o)if(B=o[C],q=s[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(n,i,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&Xt(n,i,yt,null,o,B);for(z in o)if(B=o[z],q=s[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,i));break;default:Xt(n,i,z,B,o,q)}return;default:if(ll(i)){for(var $t in s)B=s[$t],s.hasOwnProperty($t)&&B!==void 0&&!o.hasOwnProperty($t)&&Ff(n,i,$t,void 0,o,B);for(X in o)B=o[X],q=s[X],!o.hasOwnProperty(X)||B===q||B===void 0&&q===void 0||Ff(n,i,X,B,o,q);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&Xt(n,i,L,null,o,B);for(J in o)B=o[J],q=s[J],!o.hasOwnProperty(J)||B===q||B==null&&q==null||Xt(n,i,J,B,o,q)}var Gf=null,Qf=null;function Fu(n){return n.nodeType===9?n:n.ownerDocument}function Oy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function My(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Yf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kf=null;function h1(){var n=window.event;return n&&n.type==="popstate"?n===Kf?!1:(Kf=n,!0):(Kf=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(n){return Ly.resolve(null).then(n).catch(m1)}:xy;function m1(n){setTimeout(function(){throw n})}function gr(n){return n==="head"}function Py(n,i){var s=i,o=0,f=0;do{var d=s.nextSibling;if(n.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=n.ownerDocument;if(s&1&&Ql(E.documentElement),s&2&&Ql(E.body),s&4)for(s=E.head,Ql(s),E=s.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[Gr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=A}}if(f===0){n.removeChild(d),to(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);to(i)}function Xf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xf(s),Zi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function p1(n,i,s,o){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Gr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Un(n.nextSibling),n===null)break}return null}function g1(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Un(n.nextSibling),n===null))return null;return n}function $f(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function y1(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),n._reactRetry=o}}function Un(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Zf=null;function Uy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function ky(n,i,s){switch(i=Fu(s),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Ql(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Zi(n)}var Nn=new Map,zy=new Set;function Gu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zi=lt.d;lt.d={f:_1,r:v1,D:E1,C:T1,L:A1,m:S1,X:w1,S:b1,M:R1};function _1(){var n=zi.f(),i=Pu();return n||i}function v1(n){var i=Hn(n);i!==null&&i.tag===5&&i.type==="form"?ag(i):zi.r(n)}var Ts=typeof document>"u"?null:document;function By(n,i,s){var o=Ts;if(o&&typeof i=="string"&&i){var f=ge(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),zy.has(f)||(zy.add(f),n={rel:n,crossOrigin:s,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),je(i,"link",n),he(i),o.head.appendChild(i)))}}function E1(n){zi.D(n),By("dns-prefetch",n,null)}function T1(n,i){zi.C(n,i),By("preconnect",n,i)}function A1(n,i,s){zi.L(n,i,s);var o=Ts;if(o&&n&&i){var f='link[rel="preload"][as="'+ge(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ge(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ge(s.imageSizes)+'"]')):f+='[href="'+ge(n)+'"]';var d=f;switch(i){case"style":d=As(n);break;case"script":d=Ss(n)}Nn.has(d)||(n=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Nn.set(d,n),o.querySelector(f)!==null||i==="style"&&o.querySelector(Yl(d))||i==="script"&&o.querySelector(Kl(d))||(i=o.createElement("link"),je(i,"link",n),he(i),o.head.appendChild(i)))}}function S1(n,i){zi.m(n,i);var s=Ts;if(s&&n){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(n)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ss(n)}if(!Nn.has(d)&&(n=T({rel:"modulepreload",href:n},i),Nn.set(d,n),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(d)))return}o=s.createElement("link"),je(o,"link",n),he(o),s.head.appendChild(o)}}}function b1(n,i,s){zi.S(n,i,s);var o=Ts;if(o&&n){var f=Ze(o).hoistableStyles,d=As(n);i=i||"default";var E=f.get(d);if(!E){var A={loading:0,preload:null};if(E=o.querySelector(Yl(d)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Nn.get(d))&&Jf(n,s);var C=E=o.createElement("link");he(C),je(C,"link",n),C._p=new Promise(function(z,X){C.onload=z,C.onerror=X}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qu(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(d,E)}}}function w1(n,i){zi.X(n,i);var s=Ts;if(s&&n){var o=Ze(s).hoistableScripts,f=Ss(n),d=o.get(f);d||(d=s.querySelector(Kl(f)),d||(n=T({src:n,async:!0},i),(i=Nn.get(f))&&Wf(n,i),d=s.createElement("script"),he(d),je(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function R1(n,i){zi.M(n,i);var s=Ts;if(s&&n){var o=Ze(s).hoistableScripts,f=Ss(n),d=o.get(f);d||(d=s.querySelector(Kl(f)),d||(n=T({src:n,async:!0,type:"module"},i),(i=Nn.get(f))&&Wf(n,i),d=s.createElement("script"),he(d),je(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function jy(n,i,s,o){var f=(f=Tt.current)?Gu(f):null;if(!f)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=As(s.href),s=Ze(f).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=As(s.href);var d=Ze(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Yl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Nn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(n,s),d||C1(f,n,s,E.state))),i&&o===null)throw Error(l(528,""));return E}if(i&&o!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ss(s),s=Ze(f).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function As(n){return'href="'+ge(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function qy(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function C1(n,i,s,o){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=n.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),je(i,"link",s),he(i),n.head.appendChild(i))}function Ss(n){return'[src="'+ge(n)+'"]'}function Kl(n){return"script[async]"+n}function Hy(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=n.querySelector('style[data-href~="'+ge(s.href)+'"]');if(o)return i.instance=o,he(o),o;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),he(o),je(o,"style",f),Qu(o,s.precedence,n),i.instance=o;case"stylesheet":f=As(s.href);var d=n.querySelector(Yl(f));if(d)return i.state.loading|=4,i.instance=d,he(d),d;o=qy(s),(f=Nn.get(f))&&Jf(o,f),d=(n.ownerDocument||n).createElement("link"),he(d);var E=d;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),je(d,"link",o),i.state.loading|=4,Qu(d,s.precedence,n),i.instance=d;case"script":return d=Ss(s.src),(f=n.querySelector(Kl(d)))?(i.instance=f,he(f),f):(o=s,(f=Nn.get(d))&&(o=T({},s),Wf(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),he(f),je(f,"link",o),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Qu(o,s.precedence,n));return i.instance}function Qu(n,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var A=o[E];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Jf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Wf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Yu=null;function Fy(n,i,s){if(Yu===null){var o=new Map,f=Yu=new Map;f.set(s,o)}else f=Yu,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(n))return o;for(o.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[Gr]||d[Ae]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var A=o.get(E);A?A.push(d):o.set(E,[d])}}return o}function Gy(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function D1(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xl=null;function I1(){}function N1(n,i,s){if(Xl===null)throw Error(l(475));var o=Xl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=As(s.href),d=n.querySelector(Yl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Ku.bind(o),n.then(o,o)),i.state.loading|=4,i.instance=d,he(d);return}d=n.ownerDocument||n,s=qy(s),(f=Nn.get(f))&&Jf(s,f),d=d.createElement("link"),he(d);var E=d;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),je(d,"link",s),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Ku.bind(o),n.addEventListener("load",i),n.addEventListener("error",i))}}function V1(){if(Xl===null)throw Error(l(475));var n=Xl;return n.stylesheets&&n.count===0&&td(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&td(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xu=null;function td(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xu=new Map,i.forEach(O1,n),Xu=null,Ku.call(n))}function O1(n,i){if(!(i.state.loading&4)){var s=Xu.get(n);if(s)var o=s.get(null);else{s=new Map,Xu.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,f),s.set(E,f),this.count++,o=Ku.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var $l={$$typeof:st,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function M1(n,i,s,o,f,d,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Yy(n,i,s,o,f,d,E,A,C,z,X,J){return n=new M1(n,i,s,E,A,C,z,J),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),n.current=d,d.stateNode=n,i=xh(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},kh(d),n}function Ky(n){return n?(n=ts,n):ts}function Xy(n,i,s,o,f,d){f=Ky(f),o.context===null?o.context=f:o.pendingContext=f,o=ir(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=rr(n,o,i),s!==null&&(pn(s,n,i),Rl(s,n,i))}function $y(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function ed(n,i){$y(n,i),(n=n.alternate)&&$y(n,i)}function Zy(n){if(n.tag===13){var i=Wa(n,67108864);i!==null&&pn(i,n,67108864),ed(n,67108864)}}var $u=!0;function x1(n,i,s,o){var f=K.T;K.T=null;var d=lt.p;try{lt.p=2,nd(n,i,s,o)}finally{lt.p=d,K.T=f}}function L1(n,i,s,o){var f=K.T;K.T=null;var d=lt.p;try{lt.p=8,nd(n,i,s,o)}finally{lt.p=d,K.T=f}}function nd(n,i,s,o){if($u){var f=id(o);if(f===null)Hf(n,i,o,Zu,s),Wy(n,o);else if(U1(f,n,i,s,o))o.stopPropagation();else if(Wy(n,o),i&4&&-1<P1.indexOf(n)){for(;f!==null;){var d=Hn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=On(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-Ge(E);A.entanglements[1]|=C,E&=~C}ii(d),(Gt&6)===0&&(xu=_n()+500,Hl(0))}}break;case 13:A=Wa(d,2),A!==null&&pn(A,d,2),Pu(),ed(d,2)}if(d=id(o),d===null&&Hf(n,i,o,Zu,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Hf(n,i,o,null,s)}}function id(n){return n=Tn(n),rd(n)}var Zu=null;function rd(n){if(Zu=null,n=yi(n),n!==null){var i=h(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=m(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zu=n,null}function Jy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sh()){case Ks:return 2;case Oa:return 8;case Br:case lh:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var ad=!1,yr=null,_r=null,vr=null,Zl=new Map,Jl=new Map,Er=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(n,i){switch(n){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(i.pointerId)}}function Wl(n,i,s,o,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Hn(i),i!==null&&Zy(i)),n):(n.eventSystemFlags|=o,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function U1(n,i,s,o,f){switch(i){case"focusin":return yr=Wl(yr,n,i,s,o,f),!0;case"dragenter":return _r=Wl(_r,n,i,s,o,f),!0;case"mouseover":return vr=Wl(vr,n,i,s,o,f),!0;case"pointerover":var d=f.pointerId;return Zl.set(d,Wl(Zl.get(d)||null,n,i,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Jl.set(d,Wl(Jl.get(d)||null,n,i,s,o,f)),!0}return!1}function t_(n){var i=yi(n.target);if(i!==null){var s=h(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){n.blockedOn=i,Po(n.priority,function(){if(s.tag===13){var o=mn();o=Ki(o);var f=Wa(s,o);f!==null&&pn(f,s,o),ed(s,o)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ju(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=id(n.nativeEvent);if(s===null){s=n.nativeEvent;var o=new s.constructor(s.type,s);Ti=o,s.target.dispatchEvent(o),Ti=null}else return i=Hn(s),i!==null&&Zy(i),n.blockedOn=s,!1;i.shift()}return!0}function e_(n,i,s){Ju(n)&&s.delete(i)}function k1(){ad=!1,yr!==null&&Ju(yr)&&(yr=null),_r!==null&&Ju(_r)&&(_r=null),vr!==null&&Ju(vr)&&(vr=null),Zl.forEach(e_),Jl.forEach(e_)}function Wu(n,i){n.blockedOn===i&&(n.blockedOn=null,ad||(ad=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,k1)))}var tc=null;function n_(n){tc!==n&&(tc=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tc===n&&(tc=null);for(var i=0;i<n.length;i+=3){var s=n[i],o=n[i+1],f=n[i+2];if(typeof o!="function"){if(rd(o||s)===null)continue;break}var d=Hn(s);d!==null&&(n.splice(i,3),i-=3,rf(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function to(n){function i(C){return Wu(C,n)}yr!==null&&Wu(yr,n),_r!==null&&Wu(_r,n),vr!==null&&Wu(vr,n),Zl.forEach(i),Jl.forEach(i);for(var s=0;s<Er.length;s++){var o=Er[s];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)t_(s),s.blockedOn===null&&Er.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],E=f[pe]||null;if(typeof d=="function")E||n_(s);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[pe]||null)A=E.formAction;else if(rd(f)!==null)continue}else A=E.action;typeof A=="function"?s[o+1]=A:(s.splice(o,3),o-=3),n_(s)}}}function sd(n){this._internalRoot=n}ec.prototype.render=sd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,o=mn();Xy(s,o,n,i,null,null)},ec.prototype.unmount=sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Xy(n.current,2,null,n,null,null),Pu(),i[vn]=null}};function ec(n){this._internalRoot=n}ec.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xi();n={blockedOn:null,target:n,priority:i};for(var s=0;s<Er.length&&i!==0&&i<Er[s].priority;s++);Er.splice(s,0,n),s===0&&t_(n)}};var i_=t.version;if(i_!=="19.1.0")throw Error(l(527,i_,"19.1.0"));lt.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=_(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{oe=nc.inject(z1),Ft=nc}catch{}}return no.createRoot=function(n,i){if(!u(n))throw Error(l(299));var s=!1,o="",f=vg,d=Eg,E=Tg,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Yy(n,1,!1,null,null,s,o,f,d,E,A,null),n[vn]=i.current,qf(n),new sd(i)},no.hydrateRoot=function(n,i,s){if(!u(n))throw Error(l(299));var o=!1,f="",d=vg,E=Eg,A=Tg,C=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),i=Yy(n,1,!0,i,s??null,o,f,d,E,A,C,z),i.context=Ky(null),s=i.current,o=mn(),o=Ki(o),f=ir(o),f.callback=null,rr(s,f,o),s=o,i.current.lanes=s,gi(i,s),ii(i),n[vn]=i.current,qf(n),new ec(i)},no.version="19.1.0",no}var d_;function $1(){if(d_)return ud.exports;d_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ud.exports=X1(),ud.exports}var Z1=$1();const J1=jv(Z1),Cd="TopChoice",qv=()=>H.jsx("footer",{className:"footer",children:H.jsxs("div",{className:"footer-content",children:[H.jsxs("div",{className:"footer-section",children:[H.jsxs("h3",{className:"footer-title",children:["About ",Cd]}),H.jsxs("p",{children:[Cd," is your premier destination for high-quality products across multiple categories."]})]}),H.jsxs("div",{className:"footer-section",children:[H.jsx("h3",{className:"footer-title",children:"Quick Links"}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-home"})," Home"]}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-tag"})," Shop"]}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-percent"})," Deals"]}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-question-circle"})," Help Center"]})]}),H.jsxs("div",{className:"footer-section",children:[H.jsx("h3",{className:"footer-title",children:"Contact Us"}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-envelope"})," itsyourtopchoice@gmail.com"]}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-phone"})," +91 81291 87135"]}),H.jsxs("a",{href:"#",className:"footer-link",children:[H.jsx("i",{className:"fas fa-map-marker-alt"})," Byrasandra, Bangalore"]})]}),H.jsxs("div",{className:"footer-section",children:[H.jsx("h3",{className:"footer-title",children:"Follow Us"}),H.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[H.jsx("a",{href:"#",className:"footer-link",children:H.jsx("i",{className:"fab fa-facebook-f"})}),H.jsx("a",{href:"#",className:"footer-link",children:H.jsx("i",{className:"fab fa-twitter"})}),H.jsx("a",{href:"#",className:"footer-link",children:H.jsx("i",{className:"fab fa-instagram"})}),H.jsx("a",{href:"#",className:"footer-link",children:H.jsx("i",{className:"fab fa-linkedin-in"})})]})]})]})});/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function W1(a={}){function t(l,u){let{pathname:h,search:m,hash:p}=l.location;return Dd("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:mo(u)}return eA(t,r,null,a)}function ae(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function hi(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function p_(a,t){return{usr:a.state,key:a.key,idx:t}}function Dd(a,t,r=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Bs(t):t,state:r,key:t&&t.key||l||tA()}}function mo({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Bs(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let l=a.indexOf("?");l>=0&&(t.search=a.substring(l),a=a.substring(0,l)),a&&(t.pathname=a)}return t}function eA(a,t,r,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,m=u.history,p="POP",_=null,y=T();y==null&&(y=0,m.replaceState({...m.state,idx:y},""));function T(){return(m.state||{idx:null}).idx}function b(){p="POP";let Q=T(),et=Q==null?null:Q-y;y=Q,_&&_({action:p,location:Z.location,delta:et})}function R(Q,et){p="PUSH";let ut=Dd(Z.location,Q,et);y=T()+1;let st=p_(ut,y),wt=Z.createHref(ut);try{m.pushState(st,"",wt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;u.location.assign(wt)}h&&_&&_({action:p,location:Z.location,delta:1})}function j(Q,et){p="REPLACE";let ut=Dd(Z.location,Q,et);y=T();let st=p_(ut,y),wt=Z.createHref(ut);m.replaceState(st,"",wt),h&&_&&_({action:p,location:Z.location,delta:0})}function G(Q){return nA(Q)}let Z={get action(){return p},get location(){return a(u,m)},listen(Q){if(_)throw new Error("A history only accepts one active listener");return u.addEventListener(m_,b),_=Q,()=>{u.removeEventListener(m_,b),_=null}},createHref(Q){return t(u,Q)},createURL:G,encodeLocation(Q){let et=G(Q);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:j,go(Q){return m.go(Q)}};return Z}function nA(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:mo(a);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Hv(a,t,r="/"){return iA(a,t,r,!1)}function iA(a,t,r,l){let u=typeof t=="string"?Bs(t):t,h=ji(u.pathname||"/",r);if(h==null)return null;let m=Fv(a);rA(m);let p=null;for(let _=0;p==null&&_<m.length;++_){let y=pA(h);p=dA(m[_],y,l)}return p}function Fv(a,t=[],r=[],l=""){let u=(h,m,p)=>{let _={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};_.relativePath.startsWith("/")&&(ae(_.relativePath.startsWith(l),`Absolute route path "${_.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(l.length));let y=Bi([l,_.relativePath]),T=r.concat(_);h.children&&h.children.length>0&&(ae(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Fv(h.children,t,T,y)),!(h.path==null&&!h.index)&&t.push({path:y,score:hA(y,h.index),routesMeta:T})};return a.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Gv(h.path))u(h,m,p)}),t}function Gv(a){let t=a.split("/");if(t.length===0)return[];let[r,...l]=t,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let m=Gv(l.join("/")),p=[];return p.push(...m.map(_=>_===""?h:[h,_].join("/"))),u&&p.push(...m),p.map(_=>a.startsWith("/")&&_===""?"/":_)}function rA(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:fA(t.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var aA=/^:[\w-]+$/,sA=3,lA=2,oA=1,uA=10,cA=-2,g_=a=>a==="*";function hA(a,t){let r=a.split("/"),l=r.length;return r.some(g_)&&(l+=cA),t&&(l+=lA),r.filter(u=>!g_(u)).reduce((u,h)=>u+(aA.test(h)?sA:h===""?oA:uA),l)}function fA(a,t){return a.length===t.length&&a.slice(0,-1).every((l,u)=>l===t[u])?a[a.length-1]-t[t.length-1]:0}function dA(a,t,r=!1){let{routesMeta:l}=a,u={},h="/",m=[];for(let p=0;p<l.length;++p){let _=l[p],y=p===l.length-1,T=h==="/"?t:t.slice(h.length)||"/",b=vc({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},T),R=_.route;if(!b&&y&&r&&!l[l.length-1].route.index&&(b=vc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},T)),!b)return null;Object.assign(u,b.params),m.push({params:u,pathname:Bi([h,b.pathname]),pathnameBase:vA(Bi([h,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(h=Bi([h,b.pathnameBase]))}return m}function vc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,l]=mA(a.path,a.caseSensitive,a.end),u=t.match(r);if(!u)return null;let h=u[0],m=h.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((y,{paramName:T,isOptional:b},R)=>{if(T==="*"){let G=p[R]||"";m=h.slice(0,h.length-G.length).replace(/(.)\/+$/,"$1")}const j=p[R];return b&&!j?y[T]=void 0:y[T]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:m,pattern:a}}function mA(a,t=!1,r=!0){hi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,_)=>(l.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),l]}function pA(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function ji(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,l=a.charAt(r);return l&&l!=="/"?null:a.slice(r)||"/"}function gA(a,t="/"){let{pathname:r,search:l="",hash:u=""}=typeof a=="string"?Bs(a):a;return{pathname:r?r.startsWith("/")?r:yA(r,t):t,search:EA(l),hash:TA(u)}}function yA(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function dd(a,t,r,l){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qv(a){let t=_A(a);return t.map((r,l)=>l===t.length-1?r.pathname:r.pathnameBase)}function Yv(a,t,r,l=!1){let u;typeof a=="string"?u=Bs(a):(u={...a},ae(!u.pathname||!u.pathname.includes("?"),dd("?","pathname","search",u)),ae(!u.pathname||!u.pathname.includes("#"),dd("#","pathname","hash",u)),ae(!u.search||!u.search.includes("#"),dd("#","search","hash",u)));let h=a===""||u.pathname==="",m=h?"/":u.pathname,p;if(m==null)p=r;else{let b=t.length-1;if(!l&&m.startsWith("..")){let R=m.split("/");for(;R[0]==="..";)R.shift(),b-=1;u.pathname=R.join("/")}p=b>=0?t[b]:"/"}let _=gA(u,p),y=m&&m!=="/"&&m.endsWith("/"),T=(h||m===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(y||T)&&(_.pathname+="/"),_}var Bi=a=>a.join("/").replace(/\/\/+/g,"/"),vA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,TA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function AA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var SA=["GET",...Kv];new Set(SA);var js=Y.createContext(null);js.displayName="DataRouter";var Uc=Y.createContext(null);Uc.displayName="DataRouterState";Y.createContext(!1);var Xv=Y.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var bA=Y.createContext(new Map);bA.displayName="Fetchers";var wA=Y.createContext(null);wA.displayName="Await";var di=Y.createContext(null);di.displayName="Navigation";var So=Y.createContext(null);So.displayName="Location";var Qi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var tm=Y.createContext(null);tm.displayName="RouteError";function RA(a,{relative:t}={}){ae(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=Y.useContext(di),{hash:u,pathname:h,search:m}=wo(a,{relative:t}),p=h;return r!=="/"&&(p=h==="/"?r:Bi([r,h])),l.createHref({pathname:p,search:m,hash:u})}function bo(){return Y.useContext(So)!=null}function Da(){return ae(bo(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(So).location}var $v="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(a){Y.useContext(di).static||Y.useLayoutEffect(a)}function em(){let{isDataRoute:a}=Y.useContext(Qi);return a?zA():CA()}function CA(){ae(bo(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(js),{basename:t,navigator:r}=Y.useContext(di),{matches:l}=Y.useContext(Qi),{pathname:u}=Da(),h=JSON.stringify(Qv(l)),m=Y.useRef(!1);return Zv(()=>{m.current=!0}),Y.useCallback((_,y={})=>{if(hi(m.current,$v),!m.current)return;if(typeof _=="number"){r.go(_);return}let T=Yv(_,JSON.parse(h),u,y.relative==="path");a==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Bi([t,T.pathname])),(y.replace?r.replace:r.push)(T,y.state,y)},[t,r,h,u,a])}Y.createContext(null);function wo(a,{relative:t}={}){let{matches:r}=Y.useContext(Qi),{pathname:l}=Da(),u=JSON.stringify(Qv(r));return Y.useMemo(()=>Yv(a,JSON.parse(u),l,t==="path"),[a,u,l,t])}function DA(a,t){return Jv(a,t)}function Jv(a,t,r,l){ae(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(di),{matches:h}=Y.useContext(Qi),m=h[h.length-1],p=m?m.params:{},_=m?m.pathname:"/",y=m?m.pathnameBase:"/",T=m&&m.route;{let et=T&&T.path||"";Wv(_,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let b=Da(),R;if(t){let et=typeof t=="string"?Bs(t):t;ae(y==="/"||et.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${et.pathname}" was given in the \`location\` prop.`),R=et}else R=b;let j=R.pathname||"/",G=j;if(y!=="/"){let et=y.replace(/^\//,"").split("/");G="/"+j.replace(/^\//,"").split("/").slice(et.length).join("/")}let Z=Hv(a,{pathname:G});hi(T||Z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),hi(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=MA(Z&&Z.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Bi([y,u.encodeLocation?u.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?y:Bi([y,u.encodeLocation?u.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),h,r,l);return t&&Q?Y.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},Q):Q}function IA(){let a=kA(),t=AA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),r?Y.createElement("pre",{style:u},r):null,m)}var NA=Y.createElement(IA,null),VA=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?Y.createElement(Qi.Provider,{value:this.props.routeContext},Y.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OA({routeContext:a,match:t,children:r}){let l=Y.useContext(js);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Qi.Provider,{value:a},r)}function MA(a,t=[],r=null,l=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,h=r?.errors;if(h!=null){let _=u.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);ae(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(r)for(let _=0;_<u.length;_++){let y=u[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=_),y.route.id){let{loaderData:T,errors:b}=r,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((_,y,T)=>{let b,R=!1,j=null,G=null;r&&(b=h&&y.route.id?h[y.route.id]:void 0,j=y.route.errorElement||NA,m&&(p<0&&T===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,G=null):p===T&&(R=!0,G=y.route.hydrateFallbackElement||null)));let Z=t.concat(u.slice(0,T+1)),Q=()=>{let et;return b?et=j:R?et=G:y.route.Component?et=Y.createElement(y.route.Component,null):y.route.element?et=y.route.element:et=_,Y.createElement(OA,{match:y,routeContext:{outlet:_,matches:Z,isDataRoute:r!=null},children:et})};return r&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Y.createElement(VA,{location:r.location,revalidation:r.revalidation,component:j,error:b,children:Q(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):Q()},null)}function nm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(a){let t=Y.useContext(js);return ae(t,nm(a)),t}function LA(a){let t=Y.useContext(Uc);return ae(t,nm(a)),t}function PA(a){let t=Y.useContext(Qi);return ae(t,nm(a)),t}function im(a){let t=PA(a),r=t.matches[t.matches.length-1];return ae(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function UA(){return im("useRouteId")}function kA(){let a=Y.useContext(tm),t=LA("useRouteError"),r=im("useRouteError");return a!==void 0?a:t.errors?.[r]}function zA(){let{router:a}=xA("useNavigate"),t=im("useNavigate"),r=Y.useRef(!1);return Zv(()=>{r.current=!0}),Y.useCallback(async(u,h={})=>{hi(r.current,$v),r.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:t,...h}))},[a,t])}var y_={};function Wv(a,t,r){!t&&!y_[a]&&(y_[a]=!0,hi(!1,r))}Y.memo(BA);function BA({routes:a,future:t,state:r}){return Jv(a,void 0,r,t)}function cc(a){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jA({basename:a="/",children:t=null,location:r,navigationType:l="POP",navigator:u,static:h=!1}){ae(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=Y.useMemo(()=>({basename:m,navigator:u,static:h,future:{}}),[m,u,h]);typeof r=="string"&&(r=Bs(r));let{pathname:_="/",search:y="",hash:T="",state:b=null,key:R="default"}=r,j=Y.useMemo(()=>{let G=ji(_,m);return G==null?null:{location:{pathname:G,search:y,hash:T,state:b,key:R},navigationType:l}},[m,_,y,T,b,R,l]);return hi(j!=null,`<Router basename="${m}"> is not able to match the URL "${_}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:Y.createElement(di.Provider,{value:p},Y.createElement(So.Provider,{children:t,value:j}))}function qA({children:a,location:t}){return DA(Id(a),t)}function Id(a,t=[]){let r=[];return Y.Children.forEach(a,(l,u)=>{if(!Y.isValidElement(l))return;let h=[...t,u];if(l.type===Y.Fragment){r.push.apply(r,Id(l.props.children,h));return}ae(l.type===cc,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Id(l.props.children,h)),r.push(m)}),r}var hc="get",fc="application/x-www-form-urlencoded";function kc(a){return a!=null&&typeof a.tagName=="string"}function HA(a){return kc(a)&&a.tagName.toLowerCase()==="button"}function FA(a){return kc(a)&&a.tagName.toLowerCase()==="form"}function GA(a){return kc(a)&&a.tagName.toLowerCase()==="input"}function QA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function YA(a,t){return a.button===0&&(!t||t==="_self")&&!QA(a)}var ic=null;function KA(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function md(a){return a!=null&&!XA.has(a)?(hi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):a}function $A(a,t){let r,l,u,h,m;if(FA(a)){let p=a.getAttribute("action");l=p?ji(p,t):null,r=a.getAttribute("method")||hc,u=md(a.getAttribute("enctype"))||fc,h=new FormData(a)}else if(HA(a)||GA(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=a.getAttribute("formaction")||p.getAttribute("action");if(l=_?ji(_,t):null,r=a.getAttribute("formmethod")||p.getAttribute("method")||hc,u=md(a.getAttribute("formenctype"))||md(p.getAttribute("enctype"))||fc,h=new FormData(p,a),!KA()){let{name:y,type:T,value:b}=a;if(T==="image"){let R=y?`${y}.`:"";h.append(`${R}x`,"0"),h.append(`${R}y`,"0")}else y&&h.append(y,b)}}else{if(kc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hc,l=null,u=fc,m=a}return h&&u==="text/plain"&&(m=h,h=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function ZA(a,t,r){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${r}`:t&&ji(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function JA(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function tS(a,t,r){let l=await Promise.all(a.map(async u=>{let h=t.routes[u.route.id];if(h){let m=await JA(h,r);return m.links?m.links():[]}return[]}));return rS(l.flat(1).filter(WA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function __(a,t,r,l,u,h){let m=(_,y)=>r[y]?_.route.id!==r[y].route.id:!0,p=(_,y)=>r[y].pathname!==_.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==_.params["*"];return h==="assets"?t.filter((_,y)=>m(_,y)||p(_,y)):h==="data"?t.filter((_,y)=>{let T=l.routes[_.route.id];if(!T||!T.hasLoader)return!1;if(m(_,y)||p(_,y))return!0;if(_.route.shouldRevalidate){let b=_.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function eS(a,t,{includeHydrateFallback:r}={}){return nS(a.map(l=>{let u=t.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function nS(a){return[...new Set(a)]}function iS(a){let t={},r=Object.keys(a).sort();for(let l of r)t[l]=a[l];return t}function rS(a,t){let r=new Set;return new Set(t),a.reduce((l,u)=>{let h=JSON.stringify(iS(u));return r.has(h)||(r.add(h),l.push({key:h,link:u})),l},[])}function tE(){let a=Y.useContext(js);return rm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function aS(){let a=Y.useContext(Uc);return rm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var am=Y.createContext(void 0);am.displayName="FrameworkContext";function eE(){let a=Y.useContext(am);return rm(a,"You must render this element inside a <HydratedRouter> element"),a}function sS(a,t){let r=Y.useContext(am),[l,u]=Y.useState(!1),[h,m]=Y.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=t,R=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let Z=et=>{et.forEach(ut=>{m(ut.isIntersecting)})},Q=new IntersectionObserver(Z,{threshold:.5});return R.current&&Q.observe(R.current),()=>{Q.disconnect()}}},[a]),Y.useEffect(()=>{if(l){let Z=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(Z)}}},[l]);let j=()=>{u(!0)},G=()=>{u(!1),m(!1)};return r?a!=="intent"?[h,R,{}]:[h,R,{onFocus:io(p,j),onBlur:io(_,G),onMouseEnter:io(y,j),onMouseLeave:io(T,G),onTouchStart:io(b,j)}]:[!1,R,{}]}function io(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function lS({page:a,...t}){let{router:r}=tE(),l=Y.useMemo(()=>Hv(r.routes,a,r.basename),[r.routes,a,r.basename]);return l?Y.createElement(uS,{page:a,matches:l,...t}):null}function oS(a){let{manifest:t,routeModules:r}=eE(),[l,u]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return tS(a,t,r).then(m=>{h||u(m)}),()=>{h=!0}},[a,t,r]),l}function uS({page:a,matches:t,...r}){let l=Da(),{manifest:u,routeModules:h}=eE(),{basename:m}=tE(),{loaderData:p,matches:_}=aS(),y=Y.useMemo(()=>__(a,t,_,u,l,"data"),[a,t,_,u,l]),T=Y.useMemo(()=>__(a,t,_,u,l,"assets"),[a,t,_,u,l]),b=Y.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let G=new Set,Z=!1;if(t.forEach(et=>{let ut=u.routes[et.route.id];!ut||!ut.hasLoader||(!y.some(st=>st.route.id===et.route.id)&&et.route.id in p&&h[et.route.id]?.shouldRevalidate||ut.hasClientLoader?Z=!0:G.add(et.route.id))}),G.size===0)return[];let Q=ZA(a,m,"data");return Z&&G.size>0&&Q.searchParams.set("_routes",t.filter(et=>G.has(et.route.id)).map(et=>et.route.id).join(",")),[Q.pathname+Q.search]},[m,p,l,u,y,t,a,h]),R=Y.useMemo(()=>eS(T,u),[T,u]),j=oS(T);return Y.createElement(Y.Fragment,null,b.map(G=>Y.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...r})),R.map(G=>Y.createElement("link",{key:G,rel:"modulepreload",href:G,...r})),j.map(({key:G,link:Z})=>Y.createElement("link",{key:G,...Z})))}function cS(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nE&&(window.__reactRouterVersion="7.7.1")}catch{}function hS({basename:a,children:t,window:r}){let l=Y.useRef();l.current==null&&(l.current=W1({window:r,v5Compat:!0}));let u=l.current,[h,m]=Y.useState({action:u.action,location:u.location}),p=Y.useCallback(_=>{Y.startTransition(()=>m(_))},[m]);return Y.useLayoutEffect(()=>u.listen(p),[u,p]),Y.createElement(jA,{basename:a,children:t,location:h.location,navigationType:h.action,navigator:u})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=Y.forwardRef(function({onClick:t,discover:r="render",prefetch:l="none",relative:u,reloadDocument:h,replace:m,state:p,target:_,to:y,preventScrollReset:T,viewTransition:b,...R},j){let{basename:G}=Y.useContext(di),Z=typeof y=="string"&&iE.test(y),Q,et=!1;if(typeof y=="string"&&Z&&(Q=y,nE))try{let D=new URL(window.location.href),M=y.startsWith("//")?new URL(D.protocol+y):new URL(y),x=ji(M.pathname,G);M.origin===D.origin&&x!=null?y=x+M.search+M.hash:et=!0}catch{hi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ut=RA(y,{relative:u}),[st,wt,it]=sS(l,R),At=pS(y,{replace:m,state:p,target:_,preventScrollReset:T,relative:u,viewTransition:b});function O(D){t&&t(D),D.defaultPrevented||At(D)}let w=Y.createElement("a",{...R,...it,href:Q||ut,onClick:et||h?t:O,ref:cS(j,wt),target:_,"data-discover":!Z&&r==="render"?"true":void 0});return st&&!Z?Y.createElement(Y.Fragment,null,w,Y.createElement(lS,{page:ut})):w});sm.displayName="Link";var fS=Y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:l="",end:u=!1,style:h,to:m,viewTransition:p,children:_,...y},T){let b=wo(m,{relative:y.relative}),R=Da(),j=Y.useContext(Uc),{navigator:G,basename:Z}=Y.useContext(di),Q=j!=null&&ES(b)&&p===!0,et=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,ut=R.pathname,st=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(ut=ut.toLowerCase(),st=st?st.toLowerCase():null,et=et.toLowerCase()),st&&Z&&(st=ji(st,Z)||st);const wt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let it=ut===et||!u&&ut.startsWith(et)&&ut.charAt(wt)==="/",At=st!=null&&(st===et||!u&&st.startsWith(et)&&st.charAt(et.length)==="/"),O={isActive:it,isPending:At,isTransitioning:Q},w=it?t:void 0,D;typeof l=="function"?D=l(O):D=[l,it?"active":null,At?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let M=typeof h=="function"?h(O):h;return Y.createElement(sm,{...y,"aria-current":w,className:D,ref:T,style:M,to:m,viewTransition:p},typeof _=="function"?_(O):_)});fS.displayName="NavLink";var dS=Y.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:l,replace:u,state:h,method:m=hc,action:p,onSubmit:_,relative:y,preventScrollReset:T,viewTransition:b,...R},j)=>{let G=_S(),Z=vS(p,{relative:y}),Q=m.toLowerCase()==="get"?"get":"post",et=typeof p=="string"&&iE.test(p),ut=st=>{if(_&&_(st),st.defaultPrevented)return;st.preventDefault();let wt=st.nativeEvent.submitter,it=wt?.getAttribute("formmethod")||m;G(wt||st.currentTarget,{fetcherKey:t,method:it,navigate:r,replace:u,state:h,relative:y,preventScrollReset:T,viewTransition:b})};return Y.createElement("form",{ref:j,method:Q,action:Z,onSubmit:l?_:ut,...R,"data-discover":!et&&a==="render"?"true":void 0})});dS.displayName="Form";function mS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(a){let t=Y.useContext(js);return ae(t,mS(a)),t}function pS(a,{target:t,replace:r,state:l,preventScrollReset:u,relative:h,viewTransition:m}={}){let p=em(),_=Da(),y=wo(a,{relative:h});return Y.useCallback(T=>{if(YA(T,t)){T.preventDefault();let b=r!==void 0?r:mo(_)===mo(y);p(a,{replace:b,state:l,preventScrollReset:u,relative:h,viewTransition:m})}},[_,p,y,r,l,t,a,u,h,m])}var gS=0,yS=()=>`__${String(++gS)}__`;function _S(){let{router:a}=rE("useSubmit"),{basename:t}=Y.useContext(di),r=UA();return Y.useCallback(async(l,u={})=>{let{action:h,method:m,encType:p,formData:_,body:y}=$A(l,t);if(u.navigate===!1){let T=u.fetcherKey||yS();await a.fetch(T,r,u.action||h,{preventScrollReset:u.preventScrollReset,formData:_,body:y,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:_,body:y,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,t,r])}function vS(a,{relative:t}={}){let{basename:r}=Y.useContext(di),l=Y.useContext(Qi);ae(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...wo(a||".",{relative:t})},m=Da();if(a==null){h.search=m.search;let p=new URLSearchParams(h.search),_=p.getAll("index");if(_.some(T=>T==="")){p.delete("index"),_.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:Bi([r,h.pathname])),mo(h)}function ES(a,{relative:t}={}){let r=Y.useContext(Xv);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=rE("useViewTransitionState"),u=wo(a,{relative:t});if(!r.isTransitioning)return!1;let h=ji(r.currentLocation.pathname,l)||r.currentLocation.pathname,m=ji(r.nextLocation.pathname,l)||r.nextLocation.pathname;return vc(u.pathname,m)!=null||vc(u.pathname,h)!=null}const aE=a=>{const t=em();return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"aff-label",children:"All links are affiliate links; purchases may earn me a commission at no extra cost to you."}),H.jsxs("header",{className:"header",children:[H.jsxs("div",{className:"app-name",children:[H.jsx("i",{className:"fas fa-shopping-bag"}),Cd,a?.isAdmin&&H.jsx("span",{className:"admin-label",children:"Admin"})]}),a?.isAdmin?H.jsxs("div",{className:"action-btns",children:[H.jsxs("button",{className:"product-btn",onClick:()=>a?.addProductEvent(),children:[H.jsx("i",{className:"fas fa-plus"}),"Add Product"]}),H.jsxs("button",{className:"signin-btn",onClick:()=>t("/"),children:[H.jsx("i",{className:"fas fa-sign-out"}),"Logout"]})]}):H.jsxs("button",{className:"product-btn",onClick:()=>t("/login"),children:[H.jsx("i",{className:"fas fa-user"}),"Sign In"]})]})]})},TS=({product:a,isAdmin:t,editEvent:r,deleteEvent:l})=>{const u=()=>window.open(a.link,"_blank","noopener,noreferrer");return H.jsxs("div",{className:t?"product-card":"product-card clickable",onClick:()=>!t&&u(),title:"Click to Open",children:[H.jsx("div",{className:"product-image-container",children:H.jsx("img",{src:a.image,alt:a.name,className:"product-image"})}),H.jsxs("div",{className:"product-details",children:[H.jsx("div",{className:"product-category",children:a.category}),H.jsx("h3",{className:"product-name",children:a.name}),H.jsx("p",{className:"product-description",children:a.description}),H.jsx("div",{className:"product-price-row"}),t&&H.jsxs("div",{className:"action-buttons",children:[H.jsxs("button",{className:"edit-btn",onClick:()=>r(a),children:[H.jsx("i",{className:"fas fa-pencil"}),"Edit"]}),H.jsxs("button",{className:"delete-btn",onClick:()=>l(a),children:[H.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})]})]})},AS=a=>{const[t,r]=Y.useState([]),[l,u]=Y.useState(!1);return Y.useEffect(()=>{r(a?.products||[])},[a?.products]),l?H.jsx("p",{children:"Loading products..."}):H.jsx("div",{className:"productList",children:t.length===0?H.jsx("p",{children:"No products found."}):t.map(h=>H.jsx(TS,{product:h,isAdmin:a?.isAdmin,deleteEvent:a?.deleteEvent,editEvent:a?.editEvent},h.id))})},sE=({isAdmin:a,products:t,searchTerm:r,setSearchTerm:l,categories:u,activeCategory:h,setActiveCategory:m,deleteEvent:p,editEvent:_})=>H.jsxs("main",{className:"main-content",children:[H.jsxs("div",{className:"search-container",children:[H.jsx("h1",{className:"search-title",children:"Product Catalog"}),H.jsx("p",{className:"search-subtitle",children:"Browse our collection of high-quality products"}),H.jsx("div",{className:"search-bar",children:H.jsx("input",{type:"text",className:"search-input",placeholder:"Search for products...",value:r,onChange:y=>l(y.target.value)})}),H.jsx("div",{className:"filters",children:u.map(y=>H.jsxs("div",{className:`filter ${h===y?"filter-active":""}`,onClick:()=>m(y),children:[y==="All"&&H.jsx("i",{className:"fas fa-th-large"}),y==="Electronics"&&H.jsx("i",{className:"fas fa-laptop"}),y==="Home & Kitchen"&&H.jsx("i",{className:"fas fa-home"}),y==="Furniture"&&H.jsx("i",{className:"fas fa-chair"}),y==="Sports & Fitness"&&H.jsx("i",{className:"fas fa-dumbbell"}),y==="Other"&&H.jsx("i",{className:"fas fa-cube"}),y]},y))})]}),H.jsx(AS,{products:t,isAdmin:a,editEvent:_,deleteEvent:p})]}),SS=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(a){const t=[];let r=0;for(let l=0;l<a.length;l++){let u=a.charCodeAt(l);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++l)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},bS=function(a){const t=[];let r=0,l=0;for(;r<a.length;){const u=a[r++];if(u<128)t[l++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[r++];t[l++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[r++],m=a[r++],p=a[r++],_=((u&7)<<18|(h&63)<<12|(m&63)<<6|p&63)-65536;t[l++]=String.fromCharCode(55296+(_>>10)),t[l++]=String.fromCharCode(56320+(_&1023))}else{const h=a[r++],m=a[r++];t[l++]=String.fromCharCode((u&15)<<12|(h&63)<<6|m&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<a.length;u+=3){const h=a[u],m=u+1<a.length,p=m?a[u+1]:0,_=u+2<a.length,y=_?a[u+2]:0,T=h>>2,b=(h&3)<<4|p>>4;let R=(p&15)<<2|y>>6,j=y&63;_||(j=64,m||(R=64)),l.push(r[T],r[b],r[R],r[j])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(lE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):bS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<a.length;){const h=r[a.charAt(u++)],p=u<a.length?r[a.charAt(u)]:0;++u;const y=u<a.length?r[a.charAt(u)]:64;++u;const b=u<a.length?r[a.charAt(u)]:64;if(++u,h==null||p==null||y==null||b==null)throw new wS;const R=h<<2|p>>4;if(l.push(R),y!==64){const j=p<<4&240|y>>2;if(l.push(j),b!==64){const G=y<<6&192|b;l.push(G)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(a){const t=lE(a);return oE.encodeByteArray(t,!0)},Ec=function(a){return RS(a).replace(/\./g,"")},CS=function(a){try{return oE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>DS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof v_>"u")return;const a=v_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},VS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&CS(a[1]);return t&&JSON.parse(t)},lm=()=>{try{return SS()||IS()||NS()||VS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OS=a=>lm()?.emulatorHosts?.[a],MS=a=>{const t=OS(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),l]:[t.substring(0,r),l]},uE=()=>lm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,l)=>{r?this.reject(r):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},l=t||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${l}`,aud:l,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ec(JSON.stringify(r)),Ec(JSON.stringify(m)),""].join(".")}const lo={};function US(){const a={prod:[],emulator:[]};for(const t of Object.keys(lo))lo[t]?a.emulator.push(t):a.prod.push(t);return a}function kS(a){let t=document.getElementById(a),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),r=!0),{created:r,element:t}}let E_=!1;function zS(a,t){if(typeof window>"u"||typeof document>"u"||!om(window.location.host)||lo[a]===t||lo[a]||E_)return;lo[a]=t;function r(R){return`__firebase__banner__${R}`}const l="__firebase__banner",h=US().prod.length>0;function m(){const R=document.getElementById(l);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{E_=!0,m()},R}function T(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=kS(l),j=r("text"),G=document.getElementById(j)||document.createElement("span"),Z=r("learnmore"),Q=document.getElementById(Z)||document.createElement("a"),et=r("preprendIcon"),ut=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const st=R.element;p(st),T(Q,Z);const wt=y();_(ut,et),st.append(ut,G,Q,wt),document.body.appendChild(st)}h?(G.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){const a=lm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function HS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cE(){try{return typeof indexedDB=="object"}catch{return!1}}function hE(){return new Promise((a,t)=>{try{let r=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(l),a(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(r){t(r)}})}function FS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Lr extends Error{constructor(t,r,l){super(r),this.code=t,this.customData=l,this.name=GS,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(t,r,l){this.service=t,this.serviceName=r,this.errors=l}create(t,...r){const l=r[0]||{},u=`${this.service}/${t}`,h=this.errors[t],m=h?QS(h,l):"Error",p=`${this.serviceName}: ${m} (${u}).`;return new Lr(u,p,l)}}function QS(a,t){return a.replace(YS,(r,l)=>{const u=t[l];return u!=null?String(u):`<${l}?>`})}const YS=/\{\$([^}]+)}/g;function po(a,t){if(a===t)return!0;const r=Object.keys(a),l=Object.keys(t);for(const u of r){if(!l.includes(u))return!1;const h=a[u],m=t[u];if(T_(h)&&T_(m)){if(!po(h,m))return!1}else if(h!==m)return!1}for(const u of l)if(!r.includes(u))return!1;return!0}function T_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1e3,XS=2,$S=14400*1e3,ZS=.5;function A_(a,t=KS,r=XS){const l=t*Math.pow(r,a),u=Math.round(ZS*l*(Math.random()-.5)*2);return Math.min($S,l+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(a){return a&&a._delegate?a._delegate:a}class qi{constructor(t,r,l){this.name=t,this.instanceFactory=r,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const l=new xS;if(this.instancesDeferred.set(r,l),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&l.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[r,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:u});l.resolve(h)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:l,options:r});for(const[h,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);l===p&&m.resolve(u)}return u}onInit(t,r){const l=this.normalizeInstanceIdentifier(r),u=this.onInitCallbacks.get(l)??new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const l=this.onInitCallbacks.get(r);if(l)for(const u of l)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:r}),this.instances.set(t,l),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(a){return a===Ea?void 0:a}function tb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new JS(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const nb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},ib=kt.INFO,rb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},ab=(a,t,...r)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),u=rb[t];if(u)console[u](`[${l}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=ab,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const sb=(a,t)=>t.some(r=>a instanceof r);let S_,b_;function lb(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,Nd=new WeakMap,dE=new WeakMap,pd=new WeakMap,cm=new WeakMap;function ub(a){const t=new Promise((r,l)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",m)},h=()=>{r(Sr(a.result)),u()},m=()=>{l(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",m)});return t.then(r=>{r instanceof IDBCursor&&fE.set(r,a)}).catch(()=>{}),cm.set(t,a),t}function cb(a){if(Nd.has(a))return;const t=new Promise((r,l)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",m),a.removeEventListener("abort",m)},h=()=>{r(),u()},m=()=>{l(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",m),a.addEventListener("abort",m)});Nd.set(a,t)}let Vd={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return Nd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||dE.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Sr(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function hb(a){Vd=a(Vd)}function fb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const l=a.call(gd(this),t,...r);return dE.set(l,t.sort?t.sort():[t]),Sr(l)}:ob().includes(a)?function(...t){return a.apply(gd(this),t),Sr(fE.get(this))}:function(...t){return Sr(a.apply(gd(this),t))}}function db(a){return typeof a=="function"?fb(a):(a instanceof IDBTransaction&&cb(a),sb(a,lb())?new Proxy(a,Vd):a)}function Sr(a){if(a instanceof IDBRequest)return ub(a);if(pd.has(a))return pd.get(a);const t=db(a);return t!==a&&(pd.set(a,t),cm.set(t,a)),t}const gd=a=>cm.get(a);function mE(a,t,{blocked:r,upgrade:l,blocking:u,terminated:h}={}){const m=indexedDB.open(a,t),p=Sr(m);return l&&m.addEventListener("upgradeneeded",_=>{l(Sr(m.result),_.oldVersion,_.newVersion,Sr(m.transaction),_)}),r&&m.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",y=>u(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],yd=new Map;function w_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const r=t.replace(/FromIndex$/,""),l=t!==r,u=pb.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(u||mb.includes(r)))return;const h=async function(m,...p){const _=this.transaction(m,u?"readwrite":"readonly");let y=_.store;return l&&(y=y.index(p.shift())),(await Promise.all([y[r](...p),u&&_.done]))[0]};return yd.set(t,h),h}hb(a=>({...a,get:(t,r,l)=>w_(t,r)||a.get(t,r,l),has:(t,r)=>!!w_(t,r)||a.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yb(r)){const l=r.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(r=>r).join(" ")}}function yb(a){return a.getComponent()?.type==="VERSION"}const Od="@firebase/app",R_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new um("@firebase/app"),_b="@firebase/app-compat",vb="@firebase/analytics-compat",Eb="@firebase/analytics",Tb="@firebase/app-check-compat",Ab="@firebase/app-check",Sb="@firebase/auth",bb="@firebase/auth-compat",wb="@firebase/database",Rb="@firebase/data-connect",Cb="@firebase/database-compat",Db="@firebase/functions",Ib="@firebase/functions-compat",Nb="@firebase/installations",Vb="@firebase/installations-compat",Ob="@firebase/messaging",Mb="@firebase/messaging-compat",xb="@firebase/performance",Lb="@firebase/performance-compat",Pb="@firebase/remote-config",Ub="@firebase/remote-config-compat",kb="@firebase/storage",zb="@firebase/storage-compat",Bb="@firebase/firestore",jb="@firebase/ai",qb="@firebase/firestore-compat",Hb="firebase",Fb="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",Gb={[Od]:"fire-core",[_b]:"fire-core-compat",[Eb]:"fire-analytics",[vb]:"fire-analytics-compat",[Ab]:"fire-app-check",[Tb]:"fire-app-check-compat",[Sb]:"fire-auth",[bb]:"fire-auth-compat",[wb]:"fire-rtdb",[Rb]:"fire-data-connect",[Cb]:"fire-rtdb-compat",[Db]:"fire-fn",[Ib]:"fire-fn-compat",[Nb]:"fire-iid",[Vb]:"fire-iid-compat",[Ob]:"fire-fcm",[Mb]:"fire-fcm-compat",[xb]:"fire-perf",[Lb]:"fire-perf-compat",[Pb]:"fire-rc",[Ub]:"fire-rc-compat",[kb]:"fire-gcs",[zb]:"fire-gcs-compat",[Bb]:"fire-fst",[qb]:"fire-fst-compat",[jb]:"fire-vertex","fire-js":"fire-js",[Hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,Qb=new Map,xd=new Map;function C_(a,t){try{a.container.addComponent(t)}catch(r){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function Dr(a){const t=a.name;if(xd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,a);for(const r of Tc.values())C_(r,a);for(const r of Qb.values())C_(r,a);return!0}function Ro(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function Yb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new zc("app","Firebase",Kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,r,l){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=Fb;function pE(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const l={name:Md,automaticDataCollectionEnabled:!0,...t},u=l.name;if(typeof u!="string"||!u)throw br.create("bad-app-name",{appName:String(u)});if(r||(r=uE()),!r)throw br.create("no-options");const h=Tc.get(u);if(h){if(po(r,h.options)&&po(l,h.config))return h;throw br.create("duplicate-app",{appName:u})}const m=new eb(u);for(const _ of xd.values())m.addComponent(_);const p=new Xb(r,l,m);return Tc.set(u,p),p}function gE(a=Md){const t=Tc.get(a);if(!t&&a===Md&&uE())return pE();if(!t)throw br.create("no-app",{appName:a});return t}function ai(a,t,r){let l=Gb[a]??a;r&&(l+=`-${r}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(m.join(" "));return}Dr(new qi(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebase-heartbeat-database",Jb=1,go="firebase-heartbeat-store";let _d=null;function yE(){return _d||(_d=mE(Zb,Jb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(go)}catch(r){console.warn(r)}}}}).catch(a=>{throw br.create("idb-open",{originalErrorMessage:a.message})})),_d}async function Wb(a){try{const r=(await yE()).transaction(go),l=await r.objectStore(go).get(_E(a));return await r.done,l}catch(t){if(t instanceof Lr)Hi.warn(t.message);else{const r=br.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(r.message)}}}async function D_(a,t){try{const l=(await yE()).transaction(go,"readwrite");await l.objectStore(go).put(t,_E(a)),await l.done}catch(r){if(r instanceof Lr)Hi.warn(r.message);else{const l=br.create("idb-set",{originalErrorMessage:r?.message});Hi.warn(l.message)}}}function _E(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=1024,ew=30;class nw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new rw(r),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>ew){const u=aw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I_(),{heartbeatsToSend:r,unsentEntries:l}=iw(this._heartbeatsCache.heartbeats),u=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Hi.warn(t),""}}}function I_(){return new Date().toISOString().substring(0,10)}function iw(a,t=tw){const r=[];let l=a.slice();for(const u of a){const h=r.find(m=>m.agent===u.agent);if(h){if(h.dates.push(u.date),N_(r)>t){h.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),N_(r)>t){r.pop();break}l=l.slice(1)}return{heartbeatsToSend:r,unsentEntries:l}}class rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cE()?hE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Wb(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function N_(a){return Ec(JSON.stringify({version:2,heartbeats:a})).length}function aw(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let l=1;l<a.length;l++)a[l].date<r&&(r=a[l].date,t=l);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(a){Dr(new qi("platform-logger",t=>new gb(t),"PRIVATE")),Dr(new qi("heartbeat",t=>new nw(t),"PRIVATE")),ai(Od,R_,a),ai(Od,R_,"esm2020"),ai("fire-js","")}sw("");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,vE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function D(){}D.prototype=w.prototype,O.D=w.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(M,x,P){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return w.prototype[x].apply(M,I)}}function r(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(l,r),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,w,D){D||(D=0);var M=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)M[x]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(x=0;16>x;++x)M[x]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=O.g[0],D=O.g[1],x=O.g[2];var P=O.g[3],I=w+(P^D&(x^P))+M[0]+3614090360&4294967295;w=D+(I<<7&4294967295|I>>>25),I=P+(x^w&(D^x))+M[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(D^P&(w^D))+M[2]+606105819&4294967295,x=P+(I<<17&4294967295|I>>>15),I=D+(w^x&(P^w))+M[3]+3250441966&4294967295,D=x+(I<<22&4294967295|I>>>10),I=w+(P^D&(x^P))+M[4]+4118548399&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(x^w&(D^x))+M[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(D^P&(w^D))+M[6]+2821735955&4294967295,x=P+(I<<17&4294967295|I>>>15),I=D+(w^x&(P^w))+M[7]+4249261313&4294967295,D=x+(I<<22&4294967295|I>>>10),I=w+(P^D&(x^P))+M[8]+1770035416&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(x^w&(D^x))+M[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(D^P&(w^D))+M[10]+4294925233&4294967295,x=P+(I<<17&4294967295|I>>>15),I=D+(w^x&(P^w))+M[11]+2304563134&4294967295,D=x+(I<<22&4294967295|I>>>10),I=w+(P^D&(x^P))+M[12]+1804603682&4294967295,w=D+(I<<7&4294967295|I>>>25),I=P+(x^w&(D^x))+M[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(D^P&(w^D))+M[14]+2792965006&4294967295,x=P+(I<<17&4294967295|I>>>15),I=D+(w^x&(P^w))+M[15]+1236535329&4294967295,D=x+(I<<22&4294967295|I>>>10),I=w+(x^P&(D^x))+M[1]+4129170786&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^x&(w^D))+M[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^D&(P^w))+M[11]+643717713&4294967295,x=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(x^P))+M[0]+3921069994&4294967295,D=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(D^x))+M[5]+3593408605&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^x&(w^D))+M[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^D&(P^w))+M[15]+3634488961&4294967295,x=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(x^P))+M[4]+3889429448&4294967295,D=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(D^x))+M[9]+568446438&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^x&(w^D))+M[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^D&(P^w))+M[3]+4107603335&4294967295,x=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(x^P))+M[8]+1163531501&4294967295,D=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(D^x))+M[13]+2850285829&4294967295,w=D+(I<<5&4294967295|I>>>27),I=P+(D^x&(w^D))+M[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^D&(P^w))+M[7]+1735328473&4294967295,x=P+(I<<14&4294967295|I>>>18),I=D+(P^w&(x^P))+M[12]+2368359562&4294967295,D=x+(I<<20&4294967295|I>>>12),I=w+(D^x^P)+M[5]+4294588738&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^x)+M[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^D)+M[11]+1839030562&4294967295,x=P+(I<<16&4294967295|I>>>16),I=D+(x^P^w)+M[14]+4259657740&4294967295,D=x+(I<<23&4294967295|I>>>9),I=w+(D^x^P)+M[1]+2763975236&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^x)+M[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^D)+M[7]+4139469664&4294967295,x=P+(I<<16&4294967295|I>>>16),I=D+(x^P^w)+M[10]+3200236656&4294967295,D=x+(I<<23&4294967295|I>>>9),I=w+(D^x^P)+M[13]+681279174&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^x)+M[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^D)+M[3]+3572445317&4294967295,x=P+(I<<16&4294967295|I>>>16),I=D+(x^P^w)+M[6]+76029189&4294967295,D=x+(I<<23&4294967295|I>>>9),I=w+(D^x^P)+M[9]+3654602809&4294967295,w=D+(I<<4&4294967295|I>>>28),I=P+(w^D^x)+M[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^D)+M[15]+530742520&4294967295,x=P+(I<<16&4294967295|I>>>16),I=D+(x^P^w)+M[2]+3299628645&4294967295,D=x+(I<<23&4294967295|I>>>9),I=w+(x^(D|~P))+M[0]+4096336452&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~x))+M[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~D))+M[14]+2878612391&4294967295,x=P+(I<<15&4294967295|I>>>17),I=D+(P^(x|~w))+M[5]+4237533241&4294967295,D=x+(I<<21&4294967295|I>>>11),I=w+(x^(D|~P))+M[12]+1700485571&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~x))+M[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~D))+M[10]+4293915773&4294967295,x=P+(I<<15&4294967295|I>>>17),I=D+(P^(x|~w))+M[1]+2240044497&4294967295,D=x+(I<<21&4294967295|I>>>11),I=w+(x^(D|~P))+M[8]+1873313359&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~x))+M[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~D))+M[6]+2734768916&4294967295,x=P+(I<<15&4294967295|I>>>17),I=D+(P^(x|~w))+M[13]+1309151649&4294967295,D=x+(I<<21&4294967295|I>>>11),I=w+(x^(D|~P))+M[4]+4149444226&4294967295,w=D+(I<<6&4294967295|I>>>26),I=P+(D^(w|~x))+M[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~D))+M[2]+718787259&4294967295,x=P+(I<<15&4294967295|I>>>17),I=D+(P^(x|~w))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+P&4294967295}l.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var D=w-this.blockSize,M=this.B,x=this.h,P=0;P<w;){if(x==0)for(;P<=D;)u(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(M[x++]=O.charCodeAt(P++),x==this.blockSize){u(this,M),x=0;break}}else for(;P<w;)if(M[x++]=O[P++],x==this.blockSize){u(this,M),x=0;break}}this.h=x,this.o+=w},l.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var D=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=D&255,D/=256;for(this.u(O),O=Array(16),w=D=0;4>w;++w)for(var M=0;32>M;M+=8)O[D++]=this.g[w]>>>M&255;return O};function h(O,w){var D=p;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=w(O)}function m(O,w){this.h=w;for(var D=[],M=!0,x=O.length-1;0<=x;x--){var P=O[x]|0;M&&P==w||(D[x]=P,M=!1)}this.g=D}var p={};function _(O){return-128<=O&&128>O?h(O,function(w){return new m([w|0],0>w?-1:0)}):new m([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return Q(y(-O));for(var w=[],D=1,M=0;O>=D;M++)w[M]=O/D|0,D*=4294967296;return new m(w,0)}function T(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return Q(T(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(w,8)),M=b,x=0;x<O.length;x+=8){var P=Math.min(8,O.length-x),I=parseInt(O.substring(x,x+P),w);8>P?(P=y(Math.pow(w,P)),M=M.j(P).add(y(I))):(M=M.j(D),M=M.add(y(I)))}return M}var b=_(0),R=_(1),j=_(16777216);a=m.prototype,a.m=function(){if(Z(this))return-Q(this).m();for(var O=0,w=1,D=0;D<this.g.length;D++){var M=this.i(D);O+=(0<=M?M:4294967296+M)*w,w*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(Z(this))return"-"+Q(this).toString(O);for(var w=y(Math.pow(O,6)),D=this,M="";;){var x=wt(D,w).g;D=et(D,x.j(w));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=x,G(D))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function Z(O){return O.h==-1}a.l=function(O){return O=et(this,O),Z(O)?-1:G(O)?0:1};function Q(O){for(var w=O.g.length,D=[],M=0;M<w;M++)D[M]=~O.g[M];return new m(D,~O.h).add(R)}a.abs=function(){return Z(this)?Q(this):this},a.add=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],M=0,x=0;x<=w;x++){var P=M+(this.i(x)&65535)+(O.i(x)&65535),I=(P>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);M=I>>>16,P&=65535,I&=65535,D[x]=I<<16|P}return new m(D,D[D.length-1]&-2147483648?-1:0)};function et(O,w){return O.add(Q(w))}a.j=function(O){if(G(this)||G(O))return b;if(Z(this))return Z(O)?Q(this).j(Q(O)):Q(Q(this).j(O));if(Z(O))return Q(this.j(Q(O)));if(0>this.l(j)&&0>O.l(j))return y(this.m()*O.m());for(var w=this.g.length+O.g.length,D=[],M=0;M<2*w;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var x=0;x<O.g.length;x++){var P=this.i(M)>>>16,I=this.i(M)&65535,Pe=O.i(x)>>>16,le=O.i(x)&65535;D[2*M+2*x]+=I*le,ut(D,2*M+2*x),D[2*M+2*x+1]+=P*le,ut(D,2*M+2*x+1),D[2*M+2*x+1]+=I*Pe,ut(D,2*M+2*x+1),D[2*M+2*x+2]+=P*Pe,ut(D,2*M+2*x+2)}for(M=0;M<w;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=w;M<2*w;M++)D[M]=0;return new m(D,0)};function ut(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function st(O,w){this.g=O,this.h=w}function wt(O,w){if(G(w))throw Error("division by zero");if(G(O))return new st(b,b);if(Z(O))return w=wt(Q(O),w),new st(Q(w.g),Q(w.h));if(Z(w))return w=wt(O,Q(w)),new st(Q(w.g),w.h);if(30<O.g.length){if(Z(O)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var D=R,M=w;0>=M.l(O);)D=it(D),M=it(M);var x=At(D,1),P=At(M,1);for(M=At(M,2),D=At(D,2);!G(M);){var I=P.add(M);0>=I.l(O)&&(x=x.add(D),P=I),M=At(M,1),D=At(D,1)}return w=et(O,x.j(w)),new st(x,w)}for(x=b;0<=O.l(w);){for(D=Math.max(1,Math.floor(O.m()/w.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=y(D),I=P.j(w);Z(I)||0<I.l(O);)D-=M,P=y(D),I=P.j(w);G(P)&&(P=R),x=x.add(P),O=et(O,I)}return new st(x,O)}a.A=function(O){return wt(this,O).h},a.and=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],M=0;M<w;M++)D[M]=this.i(M)&O.i(M);return new m(D,this.h&O.h)},a.or=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],M=0;M<w;M++)D[M]=this.i(M)|O.i(M);return new m(D,this.h|O.h)},a.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),D=[],M=0;M<w;M++)D[M]=this.i(M)^O.i(M);return new m(D,this.h^O.h)};function it(O){for(var w=O.g.length+1,D=[],M=0;M<w;M++)D[M]=O.i(M)<<1|O.i(M-1)>>>31;return new m(D,O.h)}function At(O,w){var D=w>>5;w%=32;for(var M=O.g.length-D,x=[],P=0;P<M;P++)x[P]=0<w?O.i(P+D)>>>w|O.i(P+D+1)<<32-w:O.i(P+D);return new m(x,O.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,vE=l,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=y,m.fromString=T,wr=m}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,ro,TE,dc,Ld,AE,SE,bE;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var l=r(this);function u(c,g){if(g)t:{var v=l;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function h(c,g){c instanceof String&&(c+="");var v=0,S=!1,U={next:function(){if(!S&&v<c.length){var F=v++;return{value:g(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(c){return c||function(){return h(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},p=this||self;function _(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function j(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,U,F){for(var at=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)at[xt-2]=arguments[xt];return g.prototype[U].apply(S,at)}}function Z(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function Q(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(_(S)){const U=c.length||0,F=S.length||0;c.length=U+F;for(let at=0;at<F;at++)c[U+at]=S[at]}else c.push(S)}}class et{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ut(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function wt(c){return wt[" "](c),c}wt[" "]=function(){};var it=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function At(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function O(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let F=0;F<D.length;F++)v=D[F],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function x(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function P(c){p.setTimeout(()=>{throw c},0)}function I(){var c=Bt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Pe{constructor(){this.h=this.g=null}add(g,v){const S=le.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new et(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,Bt=new Pe,N=()=>{const c=p.Promise.resolve(void 0);lt=()=>{c.then(nt)}};var nt=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){P(v)}var g=le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,g),p.removeEventListener("test",v,g)}catch{}return c}();function Dt(c,g){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(it){t:{try{wt(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}G(Dt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function jn(c,g,v,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=U,this.key=++Jt,this.da=this.fa=!1}function Yi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,g,v,S,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var at=kr(c,g,S,U);return-1<at?(g=c[at],v||(g.fa=!1)):(g=new jn(g,this.src,F,!!S,U),g.fa=v,c.push(g)),g};function Ur(c,g){var v=g.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=0<=U)&&Array.prototype.splice.call(S,U,1),F&&(Yi(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function kr(c,g,v,S){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==S)return U}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Ys={};function Mo(c,g,v,S,U){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Mo(c,g[F],v,S,U);return null}return v=xo(v),c&&c[Ie]?c.K(g,v,y(S)?!!S.capture:!1,U):_n(c,g,v,!1,S,U)}function _n(c,g,v,S,U,F){if(!g)throw Error("Invalid event type");var at=y(U)?!!U.capture:!!U,xt=Ma(c);if(xt||(c[zr]=xt=new mi(c)),v=xt.add(g,v,S,at,F),v.proxy)return v;if(S=sh(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)gt||(U=at),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(Br(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sh(){function c(v){return g.call(c.src,c.listener,v)}const g=lh;return c}function Ks(c,g,v,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)Ks(c,g[F],v,S,U);else S=y(S)?!!S.capture:!!S,v=xo(v),c&&c[Ie]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],v=kr(F,v,S,U),-1<v&&(Yi(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ma(c))&&(g=c.g[g.toString()],c=-1,g&&(c=kr(g,v,S,U)),(v=-1<c?g[c]:null)&&Oa(v))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ie])Ur(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Br(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Ma(g))?(Ur(v,c),v.h==0&&(v.src=null,g[zr]=null)):Yi(c)}}}function Br(c){return c in Ys?Ys[c]:Ys[c]="on"+c}function lh(c,g){if(c.da)c=!0;else{g=new Dt(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Oa(c),c=v.call(S,g)}return c}function Ma(c){return c=c[zr],c instanceof mi?c:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(c){return typeof c=="function"?c:(c[Xs]||(c[Xs]=function(g){return c.handleEvent(g)}),c[Xs])}function oe(){ot.call(this),this.i=new mi(this),this.M=this,this.F=null}G(oe,ot),oe.prototype[Ie]=!0,oe.prototype.removeEventListener=function(c,g,v,S){Ks(this,c,g,v,S)};function Ft(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new rt(g,c);else if(g instanceof rt)g.target=g.target||c;else{var U=g;g=new rt(S,c),M(g,U)}if(U=!0,v)for(var F=v.length-1;0<=F;F--){var at=g.g=v[F];U=ln(at,S,!0,g)&&U}if(at=g.g=c,U=ln(at,S,!0,g)&&U,U=ln(at,S,!1,g)&&U,v)for(F=0;F<v.length;F++)at=g.g=v[F],U=ln(at,S,!1,g)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Yi(v[S]);delete c.g[g],c.h--}}this.F=null},oe.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},oe.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function ln(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,F=0;F<g.length;++F){var at=g[F];if(at&&!at.da&&at.capture==v){var xt=at.listener,Se=at.ha||at.src;at.fa&&Ur(c.i,at),U=xt.call(Se,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ge(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function Lo(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,Lo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class oh extends ot{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){ot.call(this),this.h=c,this.g={}}G(jr,ot);var qr=[];function Hr(c){At(c.g,function(g,v){this.g.hasOwnProperty(v)&&Oa(g)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Hr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=p.JSON.stringify,xa=p.JSON.parse,Fr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function $s(){}$s.prototype.h=null;function Zs(c){return c.h||(c.h=c.i())}function Js(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){rt.call(this,"d")}G(gi,rt);function Ws(){rt.call(this,"c")}G(Ws,rt);var qn={},tl=null;function Ki(){return tl=tl||new oe}qn.La="serverreachability";function La(c){rt.call(this,qn.La,c)}G(La,rt);function Xi(c){const g=Ki();Ft(g,new La(g))}qn.STAT_EVENT="statevent";function Po(c,g){rt.call(this,qn.STAT_EVENT,c),this.stat=g}G(Po,rt);function ne(c){const g=Ki();Ft(g,new Po(g,c))}qn.Ma="timingevent";function Ae(c,g){rt.call(this,qn.Ma,c),this.size=g}G(Ae,rt);function pe(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function el(c,g,v,S,U,F){c.info(function(){if(c.g)if(F)for(var at="",xt=F.split("&"),Se=0;Se<xt.length;Se++){var Lt=xt[Se].split("=");if(1<Lt.length){var Ve=Lt[0];Lt=Lt[1];var be=Ve.split("_");at=2<=be.length&&be[1]=="type"?at+(Ve+"="+Lt+"&"):at+(Ve+"=redacted&")}}else at=null;else at=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+v+`
`+at})}function uh(c,g,v,S,U,F,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+v+`
`+F+" "+at})}function $i(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gr(c,v)+(S?" "+S:"")})}function Uo(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function Gr(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return On(v)}catch{return g}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Fn(){}G(Fn,$s),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Hn=new Fn;function Ze(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var nl={},Pa={};function Mn(c,g,v){c.L=1,c.v=$r(on(g)),c.m=v,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),Qr(c),c.A=on(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ol(v.i,"t",S),c.C=0,v=c.j.J,c.h=new he,c.g=Wo(c.j,v?g:null,!c.m),0<c.O&&(c.M=new oh(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(qr[0]=U.toString()),U=qr);for(var F=0;F<U.length;F++){var at=Mo(v,U[F],S||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Xi(),el(c.i,c.u,c.A,c.l,c.R,c.m)}Ze.prototype.ca=function(c){c=c.target;const g=this.M;g&&Sn(c)==3?g.j():this.Y(c)},Ze.prototype.Y=function(c){try{if(c==this.g)t:{const be=Sn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||be!=4||g==7||(g==8||0>=Ri?Xi(3):Xi(2)),Ji(this);var v=this.g.Z();this.X=v;e:if(ko(this)){var S=Go(this.g);c="";var U=S.length,F=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Gn(this);var at="";break e}this.h.i=new p.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(F&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,uh(this.i,this.u,this.A,this.l,this.R,be,v),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Se=this.g;if((xt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(xt)){var Lt=xt;break e}}Lt=null}if(v=Lt)$i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,v);else{this.o=!1,this.s=3,ne(12),Ue(this),Gn(this);break t}}if(this.P){v=!0;let ke;for(;!this.J&&this.C<at.length;)if(ke=zo(this,at),ke==Pa){be==4&&(this.s=4,ne(14),v=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==nl){this.s=4,ne(15),$i(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else $i(this.i,this.l,ke,null),Yr(this,ke);if(ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||at.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)$i(this.i,this.l,at,"[Invalid Chunked Response]"),Ue(this),Gn(this);else if(0<at.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),ra(Ve),Ve.M=!0,ne(11))}}else $i(this.i,this.l,at,null),Yr(this,at);be==4&&Ue(this),this.o&&!this.J&&(be==4?$o(this.j,this):(this.o=!1,Qr(this)))}else mh(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ue(this),Gn(this)}}}catch{}finally{}};function ko(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zo(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Pa:(v=Number(g.substring(v,S)),isNaN(v)?nl:(S+=1,S+v>g.length?Pa:(g=g.slice(S,S+v),c.C=S+v,g)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function Qr(c){c.S=Date.now()+c.I,Bo(c,c.I)}function Bo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(R(c.ba,c),g)}function Ji(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Ze.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uo(this.i,this.A),this.L!=2&&(Xi(),ne(17)),Ue(this),this.s=2,Gn(this)):Bo(this,this.S-c)};function Gn(c){c.j.G==0||c.J||$o(c.j,c)}function Ue(c){Ji(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Hr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Yr(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||il(v.h,c))){if(!c.K&&il(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ka(v),Qa(v);else break t;dl(v),ne(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=pe(R(v.Za,v),6e3));if(1>=ka(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else wi(v,11)}else if((c.K||v.g==c)&&Ka(v),!ut(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let Lt=U[g];if(v.T=Lt[0],Lt=Lt[1],v.G==2)if(Lt[0]=="c"){v.K=Lt[1],v.ia=Lt[2];const Ve=Lt[3];Ve!=null&&(v.la=Ve,v.j.info("VER="+v.la));const be=Lt[4];be!=null&&(v.Aa=be,v.j.info("SVER="+v.Aa));const Ri=Lt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(S=1.5*Ri,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ke=c.g;if(ke){const Jn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var F=S.h;F.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(za(F,F.h),F.h=null))}if(S.D){const pl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,Yt(S.I,S.D,pl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var at=c;if(S.qa=Jo(S,S.J?S.ia:null,S.W),at.K){Je(S.h,at);var xt=at,Se=S.L;Se&&(xt.I=Se),xt.B&&(Ji(xt),Qr(xt)),S.g=at}else Ko(S);0<v.i.length&&Ya(v)}else Lt[0]!="stop"&&Lt[0]!="close"||wi(v,7);else v.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?wi(v,7):hl(v):Lt[0]!="noop"&&v.l&&v.l.ta(Lt),v.v=0)}}Xi(4)}catch{}}var jo=class{constructor(c,g){this.g=c,this.map=g}};function vi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ka(c){return c.h?1:c.g?c.g.size:0}function il(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function za(c,g){c.g?c.g.add(g):c.h=g}function Je(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vi.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Z(c.i)}function ch(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(_(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function Ba(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(_(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function al(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(_(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Ba(c),S=ch(c),U=S.length,F=0;F<U;F++)g.call(void 0,S[F],v&&v[F],c)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),U=null;if(0<=S){var F=c[v].substring(0,S);U=c[v].substring(S+1)}else F=c[v];g(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ge(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ge){this.h=c.h,Xr(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var g=c.i,v=new Ti;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ei(this,v),this.m=c.m}else c&&(g=String(c).match(Kr))?(this.h=!1,Xr(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),Wi(this,g[4]),this.l=En(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}ge.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,sl,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,sl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zr(v,v.charAt(0)=="/"?fh:ll,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zr(v,ja)),c.join("")};function on(c){return new ge(c)}function Xr(c,g,v){c.j=v?En(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,v){g instanceof Ti?(c.i=g,Ho(c.i,c.h)):(v||(g=Zr(g,dh)),c.i=new Ti(g,c.h))}function Yt(c,g,v){c.i.set(g,v)}function $r(c){return Yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,qo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,ll=/[#\?:]/g,fh=/[#\?]/g,dh=/[#\?@]/g,ja=/#/g;function Ti(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&hh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}a=Ti.prototype,a.add=function(c,g){Tn(this),this.i=null,c=Qn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ai(c,g){Tn(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Si(c,g){return Tn(c),g=Qn(c,g),c.g.has(g)}a.forEach=function(c,g){Tn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(g,U,S,this)},this)},this)},a.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const U=c[S];for(let F=0;F<U.length;F++)v.push(g[S])}return v},a.V=function(c){Tn(this);let g=[];if(typeof c=="string")Si(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},a.set=function(c,g){return Tn(this),this.i=null,c=Qn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ol(c,g,v){Ai(c,g),0<v.length&&(c.i=null,c.g.set(Qn(c,g),Z(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const F=encodeURIComponent(String(S)),at=this.V(S);for(S=0;S<at.length;S++){var U=F;at[S]!==""&&(U+="="+encodeURIComponent(String(at[S]))),c.push(U)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ho(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(Ai(this,S),ol(this,U,v))},c)),c.j=g}function Jr(c,g){const v=new vn;if(p.Image){const S=new Image;S.onload=j(An,v,"TestLoadImage: loaded",!0,g,S),S.onerror=j(An,v,"TestLoadImage: error",!1,g,S),S.onabort=j(An,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=j(An,v,"TestLoadImage: timeout",!1,g,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function xn(c,g){const v=new vn,S=new AbortController,U=setTimeout(()=>{S.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Wr(){this.g=new Fr}function Yn(c,g,v){const S=v||"";try{al(c,function(U,F){let at=U;y(U)&&(at=On(U)),g.push(S+F+"="+encodeURIComponent(at))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function tr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(tr,$s),tr.prototype.g=function(){return new bi(this.l,this.j)},tr.prototype.i=function(c){return function(){return c}}({});function bi(c,g){oe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(bi,oe),a=bi.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Kn(this):Xn(this),this.readyState==3&&ul(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,Kn(this))},a.Qa=function(c){this.g&&(this.response=c,Kn(this))},a.ga=function(){this.g&&Kn(this)};function Kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}a.setRequestHeader=function(c,g){this.u.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let g="";return At(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Ne(c,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=cl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Yt(c,g,v))}function qt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(qt,oe);var qa=/^https?$/i,ta=["POST","PUT"];a=qt.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?Zs(this.o):Zs(Hn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Fo(this,F);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of v)this.g.setRequestHeader(F,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Fo(this,F)}};function Fo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ha(c),$n(c)}function Ha(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},a.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof m<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Ge(c.Ea,0,c);else if(Ft(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=at===0){var U=String(c.D).match(Kr)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),S=!qa.test(U?U.toLowerCase():"")}v=S}if(v)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var F=2<Sn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Ha(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){ea(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ft(c,"ready");try{v.onreadystatechange=S}catch{}}}function ea(c){c.I&&(p.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),xa(g)}};function Go(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mh(c){const g={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ut(c[S]))continue;var v=x(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[U]||[];g[U]=F,F.push(v)}O(g,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ga(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new Wr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ga.prototype,a.la=8,a.G=1,a.connect=function(c,g,v,S){ne(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Jo(this,null,this.W),Ya(this)};function hl(c){if(Qo(c),c.G==3){var g=c.U++,v=on(c.I);if(Yt(v,"SID",c.K),Yt(v,"RID",g),Yt(v,"TYPE","terminate"),ia(c,v),g=new Ze(c,c.j,g),g.L=2,g.v=$r(on(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=g.v,v=!0),v||(g.g=Wo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qr(g)}Zo(c)}function Qa(c){c.g&&(ra(c),c.g.cancel(),c.g=null)}function Qo(c){Qa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ya(c){if(!Ua(c.h)&&!c.s){c.s=!0;var g=c.Ga;lt||N(),mt||(lt(),mt=!0),Bt.add(g,c),c.B=0}}function ph(c,g){return ka(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(R(c.Ga,c,g),ml(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Ze(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Yo(this,U,g),v=on(this.I),Yt(v,"RID",c),Yt(v,"CVER",22),this.D&&Yt(v,"X-HTTP-Session-Id",this.D),ia(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(cl(F)))+"&"+g:this.m&&Ne(v,this.m,F)),za(this.h,U),this.Ua&&Yt(v,"TYPE","init"),this.P?(Yt(v,"$req",g),Yt(v,"SID","null"),U.T=!0,Mn(U,v,null)):Mn(U,v,g),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||Ua(this.h)||fl(this))};function fl(c,g){var v;g?v=g.l:v=c.U++;const S=on(c.I);Yt(S,"SID",c.K),Yt(S,"RID",v),Yt(S,"AID",c.T),ia(c,S),c.m&&c.o&&Ne(S,c.m,c.o),v=new Ze(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Yo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),za(c.h,v),Mn(v,S,g)}function ia(c,g){c.H&&At(c.H,function(v,S){Yt(g,S,v)}),c.l&&al({},function(v,S){Yt(g,S,v)})}function Yo(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;t:{var U=c.i;let F=-1;for(;;){const at=["count="+v];F==-1?0<v?(F=U[0].g,at.push("ofs="+F)):F=0:at.push("ofs="+F);let xt=!0;for(let Se=0;Se<v;Se++){let Lt=U[Se].g;const Ve=U[Se].map;if(Lt-=F,0>Lt)F=Math.max(0,U[Se].g-100),xt=!1;else try{Yn(Ve,at,"req"+Lt+"_")}catch{S&&S(Ve)}}if(xt){S=at.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,S}function Ko(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;lt||N(),mt||(lt(),mt=!0),Bt.add(g,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(R(c.Fa,c),ml(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(R(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Qa(this),Xo(this))};function ra(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Xo(c){c.g=new Ze(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=on(c.qa);Yt(g,"RID","rpc"),Yt(g,"SID",c.K),Yt(g,"AID",c.T),Yt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Yt(g,"TO",c.ja),Yt(g,"TYPE","xmlhttp"),ia(c,g),c.m&&c.o&&Ne(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=$r(on(g)),v.m=null,v.P=!0,_i(v,c)}a.Za=function(){this.C!=null&&(this.C=null,Qa(this),dl(this),ne(19))};function Ka(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function $o(c,g){var v=null;if(c.g==g){Ka(c),ra(c),c.g=null;var S=2}else if(il(c.h,g))v=g.D,Je(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=Ki(),Ft(S,new Ae(S,v)),Ya(c)}else Ko(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&ph(c,g)||S==2&&dl(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function ml(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const U=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Xr(S,"https"),$r(S),U?Jr(S.toString(),v):xn(S.toString(),v)}else ne(2);c.G=0,c.l&&c.l.sa(g),Zo(c),Qo(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Zo(c){if(c.G=0,c.ka=[],c.l){const g=rl(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ka,g),Q(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Jo(c,g,v){var S=v instanceof ge?on(v):new ge(v);if(S.g!="")g&&(S.g=g+"."+S.g),Wi(S,S.s);else{var U=p.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var F=new ge(null);S&&Xr(F,S),g&&(F.g=g),U&&Wi(F,U),v&&(F.l=v),S=F}return v=c.D,g=c.ya,v&&g&&Yt(S,v,g),Yt(S,"VER",c.la),ia(c,S),S}function Wo(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qt(new tr({eb:v})):new qt(c.pa),g.Ha(c.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}a=tu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Xa(){}Xa.prototype.g=function(c,g){return new We(c,g)};function We(c,g){oe.call(this),this.g=new Ga(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ut(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ut(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zn(this)}G(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){hl(this.g)},We.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=On(c),c=v);g.i.push(new jo(g.Ya++,c)),g.G==3&&Ya(g)},We.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,We.aa.N.call(this)};function eu(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}G(eu,gi);function nu(){Ws.call(this),this.status=1}G(nu,Ws);function Zn(c){this.g=c}G(Zn,tu),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(c){Ft(this.g,new eu(c))},Zn.prototype.sa=function(c){Ft(this.g,new nu)},Zn.prototype.ra=function(){Ft(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,bE=function(){return new Xa},SE=function(){return Ki()},AE=qn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,dc=Zi,yi.COMPLETE="complete",TE=yi,Js.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ro=Js,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,EE=qt}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new um("@firebase/firestore");function bs(){return ba.logLevel}function ct(a,...t){if(ba.logLevel<=kt.DEBUG){const r=t.map(hm);ba.debug(`Firestore (${qs}): ${a}`,...r)}}function Fi(a,...t){if(ba.logLevel<=kt.ERROR){const r=t.map(hm);ba.error(`Firestore (${qs}): ${a}`,...r)}}function Ms(a,...t){if(ba.logLevel<=kt.WARN){const r=t.map(hm);ba.warn(`Firestore (${qs}): ${a}`,...r)}}function hm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,t,r){let l="Unexpected state";typeof t=="string"?l=t:r=t,wE(a,l,r)}function wE(a,t,r){let l=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(r!==void 0)try{l+=" CONTEXT: "+JSON.stringify(r)}catch{l+=" CONTEXT: "+r}throw Fi(l),new Error(l)}function Ht(a,t,r,l){let u="Unexpected state";typeof r=="string"?u=r:l=r,a||wE(t,u,l)}function bt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Lr{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Xe.UNAUTHENTICATED))}shutdown(){}}class ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class uw{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ht(this.o===void 0,42304);let l=this.i;const u=_=>this.i!==l?(l=this.i,r(_)):Promise.resolve();let h=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Rr,t.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const _=h;t.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Rr)}},0),m()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(l=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Ht(typeof l.accessToken=="string",31837,{l}),new RE(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class cw{constructor(t,r,l){this.P=t,this.T=r,this.I=l,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hw{constructor(t,r,l){this.P=t,this.T=r,this.I=l}getToken(){return Promise.resolve(new cw(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fw{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ht(this.o===void 0,3512);const l=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>l(h))};const u=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ht(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new x_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let l=0;l<a;l++)r[l]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=dw(40);for(let h=0;h<u.length;++h)l.length<20&&u[h]<r&&(l+=t.charAt(u[h]%62))}return l}}function Ot(a,t){return a<t?-1:a>t?1:0}function Pd(a,t){const r=Math.min(a.length,t.length);for(let l=0;l<r;l++){const u=a.charAt(l),h=t.charAt(l);if(u!==h)return vd(u)===vd(h)?Ot(u,h):vd(u)?1:-1}return Ot(a.length,t.length)}const mw=55296,pw=57343;function vd(a){const t=a.charCodeAt(0);return t>=mw&&t<=pw}function xs(a,t,r){return a.length===t.length&&a.every((l,u)=>r(l,t[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class ri{constructor(t,r,l){r===void 0?r=0:r>t.length&&vt(637,{offset:r,range:t.length}),l===void 0?l=t.length-r:l>t.length-r&&vt(1746,{length:l,range:t.length-r}),this.segments=t,this.offset=r,this.len=l}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(l=>{r.push(l)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,l=this.limit();r<l;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const l=Math.min(t.length,r.length);for(let u=0;u<l;u++){const h=ri.compareSegments(t.get(u),r.get(u));if(h!==0)return h}return Ot(t.length,r.length)}static compareSegments(t,r){const l=ri.isNumericId(t),u=ri.isNumericId(r);return l&&!u?-1:!l&&u?1:l&&u?ri.extractNumericId(t).compare(ri.extractNumericId(r)):Pd(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class te extends ri{construct(t,r,l){return new te(t,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const l of t){if(l.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter(u=>u.length>0))}return new te(r)}static emptyPath(){return new te([])}}const gw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ri{construct(t,r,l){return new He(t,r,l)}static isValidIdentifier(t){return gw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new He([L_])}static fromServerFormat(t){const r=[];let l="",u=0;const h=()=>{if(l.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let m=!1;for(;u<t.length;){const p=t[u];if(p==="\\"){if(u+1===t.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);l+=_,u+=2}else p==="`"?(m=!m,u++):p!=="."||m?(l+=p,u++):(h(),u++)}if(h(),m)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(r)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return te.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(a,t,r){if(!r)throw new ht(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function yw(a,t,r,l){if(t===!0&&l===!0)throw new ht(W.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function P_(a){if(!pt.isDocumentKey(a))throw new ht(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function U_(a){if(pt.isDocumentKey(a))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function DE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Bc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(l){return l.constructor?l.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Ls(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Bc(a);throw new ht(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,t){const r={typeString:a};return t&&(r.value=t),r}function Co(a,t){if(!DE(a))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let r;for(const l in t)if(t[l]){const u=t[l].typeString,h="value"in t[l]?{value:t[l].value}:void 0;if(!(l in a)){r=`JSON missing required field: '${l}'`;break}const m=a[l];if(u&&typeof m!==u){r=`JSON field '${l}' must be a ${u}.`;break}if(h!==void 0&&m!==h.value){r=`Expected '${l}' field to equal '${h.value}'`;break}}if(r)throw new ht(W.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,z_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),l=Math.floor((t-1e3*r)*z_);return new ee(r,l)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<k_)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Co(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Te("string",ee._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ee(0,0))}static max(){return new St(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function _w(a,t){const r=a.toTimestamp().seconds,l=a.toTimestamp().nanoseconds+1,u=St.fromTimestamp(l===1e9?new ee(r+1,0):new ee(r,l));return new Ir(u,pt.empty(),t)}function vw(a){return new Ir(a.readTime,a.key,yo)}class Ir{constructor(t,r,l){this.readTime=t,this.documentKey=r,this.largestBatchId=l}static min(){return new Ir(St.min(),pt.empty(),yo)}static max(){return new Ir(St.max(),pt.empty(),yo)}}function Ew(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=pt.comparator(a.documentKey,t.documentKey),r!==0?r:Ot(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==Tw)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new tt((l,u)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(l,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(l,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):tt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):tt.reject(r)}static resolve(t){return new tt((r,l)=>{r(t)})}static reject(t){return new tt((r,l)=>{l(t)})}static waitFor(t){return new tt((r,l)=>{let u=0,h=0,m=!1;t.forEach(p=>{++u,p.next(()=>{++h,m&&h===u&&r()},_=>l(_))}),m=!0,h===u&&r()})}static or(t){let r=tt.resolve(!1);for(const l of t)r=r.next(u=>u?tt.resolve(u):l());return r}static forEach(t,r){const l=[];return t.forEach((u,h)=>{l.push(r.call(this,u,h))}),this.waitFor(l)}static mapArray(t,r){return new tt((l,u)=>{const h=t.length,m=new Array(h);let p=0;for(let _=0;_<h;_++){const y=_;r(t[y]).next(T=>{m[y]=T,++p,p===h&&l(m)},T=>u(T))}})}static doWhile(t,r){return new tt((l,u)=>{const h=()=>{t()===!0?r().next(()=>{h()},u):l()};h()})}}function Sw(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Fs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>r.writeSequenceNumber(l))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function qc(a){return a==null}function Ac(a){return a===0&&1/a==-1/0}function bw(a){return typeof a=="number"&&Number.isInteger(a)&&!Ac(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="";function ww(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=B_(t)),t=Rw(a.get(r),t);return B_(t)}function Rw(a,t){let r=t;const l=a.length;for(let u=0;u<l;u++){const h=a.charAt(u);switch(h){case"\0":r+="";break;case IE:r+="";break;default:r+=h}}return r}function B_(a){return a+IE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function Pr(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function NE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,r){this.comparator=t,this.root=r||qe.EMPTY}insert(t,r){return new se(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(t){let r=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(t,l.key);if(u===0)return r+l.left.size;u<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,l)=>(t(r,l),!1))}toString(){const t=[];return this.inorderTraversal((r,l)=>(t.push(`${r}:${l}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ac(this.root,t,this.comparator,!0)}}class ac{constructor(t,r,l,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?l(t.key,r):1,r&&u&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,r,l,u,h){this.key=t,this.value=r,this.color=l??qe.RED,this.left=u??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,l,u,h){return new qe(t??this.key,r??this.value,l??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,l){let u=this;const h=l(t,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(t,r,l),null):h===0?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let l,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),r(t,u.key)===0){if(u.right.isEmpty())return qe.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,r,l,u,h){return this}insert(t,r,l){return new qe(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,l)=>(t(r),!1))}forEachInRange(t,r){const l=this.data.getIteratorFrom(t[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let l;for(l=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!t(l.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(t){return new q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(l=>{r=r.add(l)}),r}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const r=this.data.getIterator(),l=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=l.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new De(this.comparator);return r.data=t,r}}class q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new kn([])}unionWith(t){let r=new De(He.comparator);for(const l of this.fields)r=r.add(l);for(const l of t)r=r.add(l);return new kn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return xs(this.fields,t.fields,(r,l)=>r.isEqual(l))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new VE("Invalid base64 string: "+h):h}}(t);return new Fe(r)}static fromUint8Array(t){const r=function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h}(t);return new Fe(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const l=new Uint8Array(r.length);for(let u=0;u<r.length;u++)l[u]=r.charCodeAt(u);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Cw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const r=Cw.exec(a);if(Ht(!!r,46558,{timestamp:a}),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const l=new Date(a);return{seconds:Math.floor(l.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vr(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="server_timestamp",ME="__type__",xE="__previous_value__",LE="__local_write_time__";function mm(a){return(a?.mapValue?.fields||{})[ME]?.stringValue===OE}function Hc(a){const t=a.mapValue.fields[xE];return mm(t)?Hc(t):t}function _o(a){const t=Nr(a.mapValue.fields[LE].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,r,l,u,h,m,p,_,y,T){this.databaseId=t,this.appId=r,this.persistenceKey=l,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Sc="(default)";class vo{constructor(t,r){this.projectId=t,this.database=r||Sc}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="__type__",Iw="__max__",sc={mapValue:{}},UE="__vector__",bc="value";function Or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?mm(a)?4:Vw(a)?9007199254740991:Nw(a)?10:11:vt(28295,{value:a})}function fi(a,t){if(a===t)return!0;const r=Or(a);if(r!==Or(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return _o(a).isEqual(_o(t));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=Nr(u.timestampValue),p=Nr(h.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(u,h){return Vr(u.bytesValue).isEqual(Vr(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)}(a,t);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=me(u.doubleValue),p=me(h.doubleValue);return m===p?Ac(m)===Ac(p):isNaN(m)&&isNaN(p)}return!1}(a,t);case 9:return xs(a.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(u,h){const m=u.mapValue.fields||{},p=h.mapValue.fields||{};if(j_(m)!==j_(p))return!1;for(const _ in m)if(m.hasOwnProperty(_)&&(p[_]===void 0||!fi(m[_],p[_])))return!1;return!0}(a,t);default:return vt(52216,{left:a})}}function Eo(a,t){return(a.values||[]).find(r=>fi(r,t))!==void 0}function Ps(a,t){if(a===t)return 0;const r=Or(a),l=Or(t);if(r!==l)return Ot(r,l);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,t.booleanValue);case 2:return function(h,m){const p=me(h.integerValue||h.doubleValue),_=me(m.integerValue||m.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(a,t);case 3:return H_(a.timestampValue,t.timestampValue);case 4:return H_(_o(a),_o(t));case 5:return Pd(a.stringValue,t.stringValue);case 6:return function(h,m){const p=Vr(h),_=Vr(m);return p.compareTo(_)}(a.bytesValue,t.bytesValue);case 7:return function(h,m){const p=h.split("/"),_=m.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Ot(p[y],_[y]);if(T!==0)return T}return Ot(p.length,_.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,m){const p=Ot(me(h.latitude),me(m.latitude));return p!==0?p:Ot(me(h.longitude),me(m.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return F_(a.arrayValue,t.arrayValue);case 10:return function(h,m){const p=h.fields||{},_=m.fields||{},y=p[bc]?.arrayValue,T=_[bc]?.arrayValue,b=Ot(y?.values?.length||0,T?.values?.length||0);return b!==0?b:F_(y,T)}(a.mapValue,t.mapValue);case 11:return function(h,m){if(h===sc.mapValue&&m===sc.mapValue)return 0;if(h===sc.mapValue)return 1;if(m===sc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),y=m.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const R=Pd(_[b],T[b]);if(R!==0)return R;const j=Ps(p[_[b]],y[T[b]]);if(j!==0)return j}return Ot(_.length,T.length)}(a.mapValue,t.mapValue);default:throw vt(23264,{he:r})}}function H_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ot(a,t);const r=Nr(a),l=Nr(t),u=Ot(r.seconds,l.seconds);return u!==0?u:Ot(r.nanos,l.nanos)}function F_(a,t){const r=a.values||[],l=t.values||[];for(let u=0;u<r.length&&u<l.length;++u){const h=Ps(r[u],l[u]);if(h)return h}return Ot(r.length,l.length)}function Us(a){return Ud(a)}function Ud(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const l=Nr(r);return`time(${l.seconds},${l.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(r){return Vr(r).toBase64()}(a.bytesValue):"referenceValue"in a?function(r){return pt.fromName(r).toString()}(a.referenceValue):"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let l="[",u=!0;for(const h of r.values||[])u?u=!1:l+=",",l+=Ud(h);return l+"]"}(a.arrayValue):"mapValue"in a?function(r){const l=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of l)h?h=!1:u+=",",u+=`${m}:${Ud(r.fields[m])}`;return u+"}"}(a.mapValue):vt(61005,{value:a})}function mc(a){switch(Or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hc(a);return t?16+mc(t):16;case 5:return 2*a.stringValue.length;case 6:return Vr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(l){return(l.values||[]).reduce((u,h)=>u+mc(h),0)}(a.arrayValue);case 10:case 11:return function(l){let u=0;return Pr(l.fields,(h,m)=>{u+=h.length+mc(m)}),u}(a.mapValue);default:throw vt(13486,{value:a})}}function G_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function kd(a){return!!a&&"integerValue"in a}function pm(a){return!!a&&"arrayValue"in a}function Q_(a){return!!a&&"nullValue"in a}function Y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function pc(a){return!!a&&"mapValue"in a}function Nw(a){return(a?.mapValue?.fields||{})[PE]?.stringValue===UE}function oo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Pr(a.mapValue.fields,(r,l)=>t.mapValue.fields[r]=oo(l)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=oo(a.arrayValue.values[r]);return t}return{...a}}function Vw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Iw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let l=0;l<t.length-1;++l)if(r=(r.mapValue.fields||{})[t.get(l)],!pc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=oo(r)}setAll(t){let r=He.emptyPath(),l={},u=[];t.forEach((m,p)=>{if(!r.isImmediateParentOf(p)){const _=this.getFieldsMap(r);this.applyChanges(_,l,u),l={},u=[],r=p.popLast()}m?l[p.lastSegment()]=oo(m):u.push(p.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,l,u)}delete(t){const r=this.field(t.popLast());pc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<t.length;++l){let u=r.mapValue.fields[t.get(l)];pc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(l)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,l){Pr(r,(u,h)=>t[u]=h);for(const u of l)delete t[u]}clone(){return new gn(oo(this.value))}}function kE(a){const t=[];return Pr(a.fields,(r,l)=>{const u=new He([r]);if(pc(l)){const h=kE(l.mapValue).fields;if(h.length===0)t.push(u);else for(const m of h)t.push(u.child(m))}else t.push(u)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,r,l,u,h,m,p){this.key=t,this.documentType=r,this.version=l,this.readTime=u,this.createTime=h,this.data=m,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),gn.empty(),0)}static newFoundDocument(t,r,l,u){return new $e(t,1,r,St.min(),l,u,0)}static newNoDocument(t,r){return new $e(t,2,r,St.min(),St.min(),gn.empty(),0)}static newUnknownDocument(t,r){return new $e(t,3,r,St.min(),St.min(),gn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,r){this.position=t,this.inclusive=r}}function K_(a,t,r){let l=0;for(let u=0;u<a.position.length;u++){const h=t[u],m=a.position[u];if(h.field.isKeyField()?l=pt.comparator(pt.fromName(m.referenceValue),r.key):l=Ps(m,r.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function X_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!fi(a.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ow(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class Ee extends zE{constructor(t,r,l){super(),this.field=t,this.op=r,this.value=l}static create(t,r,l){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,l):new xw(t,r,l):r==="array-contains"?new Uw(t,l):r==="in"?new kw(t,l):r==="not-in"?new zw(t,l):r==="array-contains-any"?new Bw(t,l):new Ee(t,r,l)}static createKeyFieldInFilter(t,r,l){return r==="in"?new Lw(t,l):new Pw(t,l)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ps(r,this.value)):r!==null&&Or(this.value)===Or(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends zE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Bn(t,r)}matches(t){return BE(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(a){return a.op==="and"}function jE(a){return Mw(a)&&BE(a)}function Mw(a){for(const t of a.filters)if(t instanceof Bn)return!1;return!0}function zd(a){if(a instanceof Ee)return a.field.canonicalString()+a.op.toString()+Us(a.value);if(jE(a))return a.filters.map(t=>zd(t)).join(",");{const t=a.filters.map(r=>zd(r)).join(",");return`${a.op}(${t})`}}function qE(a,t){return a instanceof Ee?function(l,u){return u instanceof Ee&&l.op===u.op&&l.field.isEqual(u.field)&&fi(l.value,u.value)}(a,t):a instanceof Bn?function(l,u){return u instanceof Bn&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce((h,m,p)=>h&&qE(m,u.filters[p]),!0):!1}(a,t):void vt(19439)}function HE(a){return a instanceof Ee?function(r){return`${r.field.canonicalString()} ${r.op} ${Us(r.value)}`}(a):a instanceof Bn?function(r){return r.op.toString()+" {"+r.getFilters().map(HE).join(" ,")+"}"}(a):"Filter"}class xw extends Ee{constructor(t,r,l){super(t,r,l),this.key=pt.fromName(l.referenceValue)}matches(t){const r=pt.comparator(t.key,this.key);return this.matchesComparison(r)}}class Lw extends Ee{constructor(t,r){super(t,"in",r),this.keys=FE("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Pw extends Ee{constructor(t,r){super(t,"not-in",r),this.keys=FE("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function FE(a,t){return(t.arrayValue?.values||[]).map(r=>pt.fromName(r.referenceValue))}class Uw extends Ee{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return pm(r)&&Eo(r.arrayValue,this.value)}}class kw extends Ee{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Eo(this.value.arrayValue,r)}}class zw extends Ee{constructor(t,r){super(t,"not-in",r)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Eo(this.value.arrayValue,r)}}class Bw extends Ee{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!pm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(l=>Eo(this.value.arrayValue,l))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,r=null,l=[],u=[],h=null,m=null,p=null){this.path=t,this.collectionGroup=r,this.orderBy=l,this.filters=u,this.limit=h,this.startAt=m,this.endAt=p,this.Te=null}}function $_(a,t=null,r=[],l=[],u=null,h=null,m=null){return new jw(a,t,r,l,u,h,m)}function gm(a){const t=bt(a);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(l=>zd(l)).join(","),r+="|ob:",r+=t.orderBy.map(l=>function(h){return h.field.canonicalString()+h.dir}(l)).join(","),qc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(l=>Us(l)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(l=>Us(l)).join(",")),t.Te=r}return t.Te}function ym(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Ow(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!qE(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!X_(a.startAt,t.startAt)&&X_(a.endAt,t.endAt)}function Bd(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,r=null,l=[],u=[],h=null,m="F",p=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=u,this.limit=h,this.limitType=m,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qw(a,t,r,l,u,h,m,p){return new Do(a,t,r,l,u,h,m,p)}function GE(a){return new Do(a)}function Z_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function QE(a){return a.collectionGroup!==null}function uo(a){const t=bt(a);if(t.Ie===null){t.Ie=[];const r=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),r.add(h.field.canonicalString());const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new De(He.comparator);return m.filters.forEach(_=>{_.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(t).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Rc(h,l))}),r.has(He.keyField().canonicalString())||t.Ie.push(new Rc(He.keyField(),l))}return t.Ie}function si(a){const t=bt(a);return t.Ee||(t.Ee=Hw(t,uo(a))),t.Ee}function Hw(a,t){if(a.limitType==="F")return $_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Rc(u.field,h)});const r=a.endAt?new wc(a.endAt.position,a.endAt.inclusive):null,l=a.startAt?new wc(a.startAt.position,a.startAt.inclusive):null;return $_(a.path,a.collectionGroup,t,a.filters,a.limit,r,l)}}function jd(a,t){const r=a.filters.concat([t]);return new Do(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function qd(a,t,r){return new Do(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Fc(a,t){return ym(si(a),si(t))&&a.limitType===t.limitType}function YE(a){return`${gm(si(a))}|lt:${a.limitType}`}function ws(a){return`Query(target=${function(r){let l=r.path.canonicalString();return r.collectionGroup!==null&&(l+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(l+=`, filters: [${r.filters.map(u=>HE(u)).join(", ")}]`),qc(r.limit)||(l+=", limit: "+r.limit),r.orderBy.length>0&&(l+=`, orderBy: [${r.orderBy.map(u=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(u)).join(", ")}]`),r.startAt&&(l+=", startAt: ",l+=r.startAt.inclusive?"b:":"a:",l+=r.startAt.position.map(u=>Us(u)).join(",")),r.endAt&&(l+=", endAt: ",l+=r.endAt.inclusive?"a:":"b:",l+=r.endAt.position.map(u=>Us(u)).join(",")),`Target(${l})`}(si(a))}; limitType=${a.limitType})`}function Gc(a,t){return t.isFoundDocument()&&function(l,u){const h=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):pt.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)}(a,t)&&function(l,u){for(const h of uo(l))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,t)&&function(l,u){for(const h of l.filters)if(!h.matches(u))return!1;return!0}(a,t)&&function(l,u){return!(l.startAt&&!function(m,p,_){const y=K_(m,p,_);return m.inclusive?y<=0:y<0}(l.startAt,uo(l),u)||l.endAt&&!function(m,p,_){const y=K_(m,p,_);return m.inclusive?y>=0:y>0}(l.endAt,uo(l),u))}(a,t)}function Fw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function KE(a){return(t,r)=>{let l=!1;for(const u of uo(a)){const h=Gw(u,t,r);if(h!==0)return h;l=l||u.field.isKeyField()}return 0}}function Gw(a,t,r){const l=a.field.isKeyField()?pt.comparator(t.key,r.key):function(h,m,p){const _=m.data.field(h),y=p.data.field(h);return _!==null&&y!==null?Ps(_,y):vt(42886)}(a.field,t,r);switch(a.dir){case"asc":return l;case"desc":return-1*l;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),l=this.inner[r];if(l!==void 0){for(const[u,h]of l)if(this.equalsFn(u,t))return h}}has(t){return this.get(t)!==void 0}set(t,r){const l=this.mapKeyFn(t),u=this.inner[l];if(u===void 0)return this.inner[l]=[[t,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],t))return void(u[h]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return l.length===1?delete this.inner[r]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,(r,l)=>{for(const[u,h]of l)t(u,h)})}isEmpty(){return NE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new se(pt.comparator);function Gi(){return Qw}const XE=new se(pt.comparator);function ao(...a){let t=XE;for(const r of a)t=t.insert(r.key,r);return t}function $E(a){let t=XE;return a.forEach((r,l)=>t=t.insert(r,l.overlayedDocument)),t}function Ta(){return co()}function ZE(){return co()}function co(){return new Ia(a=>a.toString(),(a,t)=>a.isEqual(t))}const Yw=new se(pt.comparator),Kw=new De(pt.comparator);function Mt(...a){let t=Kw;for(const r of a)t=t.add(r);return t}const Xw=new De(Ot);function $w(){return Xw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(t)?"-0":t}}function JE(a){return{integerValue:""+a}}function Zw(a,t){return bw(t)?JE(t):_m(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function Jw(a,t,r){return a instanceof Cc?function(u,h){const m={fields:{[ME]:{stringValue:OE},[LE]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&mm(h)&&(h=Hc(h)),h&&(m.fields[xE]=h),{mapValue:m}}(r,t):a instanceof To?t0(a,t):a instanceof Ao?e0(a,t):function(u,h){const m=WE(u,h),p=J_(m)+J_(u.Ae);return kd(m)&&kd(u.Ae)?JE(p):_m(u.serializer,p)}(a,t)}function Ww(a,t,r){return a instanceof To?t0(a,t):a instanceof Ao?e0(a,t):r}function WE(a,t){return a instanceof Dc?function(l){return kd(l)||function(h){return!!h&&"doubleValue"in h}(l)}(t)?t:{integerValue:0}:null}class Cc extends Qc{}class To extends Qc{constructor(t){super(),this.elements=t}}function t0(a,t){const r=n0(t);for(const l of a.elements)r.some(u=>fi(u,l))||r.push(l);return{arrayValue:{values:r}}}class Ao extends Qc{constructor(t){super(),this.elements=t}}function e0(a,t){let r=n0(t);for(const l of a.elements)r=r.filter(u=>!fi(u,l));return{arrayValue:{values:r}}}class Dc extends Qc{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function J_(a){return me(a.integerValue||a.doubleValue)}function n0(a){return pm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function tR(a,t){return a.field.isEqual(t.field)&&function(l,u){return l instanceof To&&u instanceof To||l instanceof Ao&&u instanceof Ao?xs(l.elements,u.elements,fi):l instanceof Dc&&u instanceof Dc?fi(l.Ae,u.Ae):l instanceof Cc&&u instanceof Cc}(a.transform,t.transform)}class eR{constructor(t,r){this.version=t,this.transformResults=r}}class li{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Yc{}function i0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new vm(a.key,li.none()):new Kc(a.key,a.data,li.none());{const r=a.data,l=gn.empty();let u=new De(He.comparator);for(let h of t.fields)if(!u.has(h)){let m=r.field(h);m===null&&h.length>1&&(h=h.popLast(),m=r.field(h)),m===null?l.delete(h):l.set(h,m),u=u.add(h)}return new Na(a.key,l,new kn(u.toArray()),li.none())}}function nR(a,t,r){a instanceof Kc?function(u,h,m){const p=u.value.clone(),_=tv(u.fieldTransforms,h,m.transformResults);p.setAll(_),h.convertToFoundDocument(m.version,p).setHasCommittedMutations()}(a,t,r):a instanceof Na?function(u,h,m){if(!gc(u.precondition,h))return void h.convertToUnknownDocument(m.version);const p=tv(u.fieldTransforms,h,m.transformResults),_=h.data;_.setAll(r0(u)),_.setAll(p),h.convertToFoundDocument(m.version,_).setHasCommittedMutations()}(a,t,r):function(u,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,r)}function ho(a,t,r,l){return a instanceof Kc?function(h,m,p,_){if(!gc(h.precondition,m))return p;const y=h.value.clone(),T=ev(h.fieldTransforms,_,m);return y.setAll(T),m.convertToFoundDocument(m.version,y).setHasLocalMutations(),null}(a,t,r,l):a instanceof Na?function(h,m,p,_){if(!gc(h.precondition,m))return p;const y=ev(h.fieldTransforms,_,m),T=m.data;return T.setAll(r0(h)),T.setAll(y),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(b=>b.field))}(a,t,r,l):function(h,m,p){return gc(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p}(a,t,r)}function iR(a,t){let r=null;for(const l of a.fieldTransforms){const u=t.data.field(l.field),h=WE(l.transform,u||null);h!=null&&(r===null&&(r=gn.empty()),r.set(l.field,h))}return r||null}function W_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&xs(l,u,(h,m)=>tR(h,m))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Kc extends Yc{constructor(t,r,l,u=[]){super(),this.key=t,this.value=r,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Na extends Yc{constructor(t,r,l,u,h=[]){super(),this.key=t,this.data=r,this.fieldMask=l,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function r0(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const l=a.data.field(r);t.set(r,l)}}),t}function tv(a,t,r){const l=new Map;Ht(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let u=0;u<r.length;u++){const h=a[u],m=h.transform,p=t.data.field(h.field);l.set(h.field,Ww(m,p,r[u]))}return l}function ev(a,t,r){const l=new Map;for(const u of a){const h=u.transform,m=r.data.field(u.field);l.set(u.field,Jw(h,m,t))}return l}class vm extends Yc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rR extends Yc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,r,l,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(t,r){const l=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(t.key)&&nR(h,t,l[u])}}applyToLocalView(t,r){for(const l of this.baseMutations)l.key.isEqual(t.key)&&(r=ho(l,t,r,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(t.key)&&(r=ho(l,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const l=ZE();return this.mutations.forEach(u=>{const h=t.get(u.key),m=h.overlayedDocument;let p=this.applyToLocalView(m,h.mutatedFields);p=r.has(u.key)?null:p;const _=i0(m,p);_!==null&&l.set(u.key,_),m.isValidDocument()||m.convertToNoDocument(St.min())}),l}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Mt())}isEqual(t){return this.batchId===t.batchId&&xs(this.mutations,t.mutations,(r,l)=>W_(r,l))&&xs(this.baseMutations,t.baseMutations,(r,l)=>W_(r,l))}}class Em{constructor(t,r,l,u){this.batch=t,this.commitVersion=r,this.mutationResults=l,this.docVersions=u}static from(t,r,l){Ht(t.mutations.length===l.length,58842,{me:t.mutations.length,fe:l.length});let u=function(){return Yw}();const h=t.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,l[m].version);return new Em(t,r,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function oR(a){switch(a){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function a0(a){if(a===void 0)return Fi("GRPC error has no .code"),W.UNKNOWN;switch(a){case ve.OK:return W.OK;case ve.CANCELLED:return W.CANCELLED;case ve.UNKNOWN:return W.UNKNOWN;case ve.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ve.INTERNAL:return W.INTERNAL;case ve.UNAVAILABLE:return W.UNAVAILABLE;case ve.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ve.NOT_FOUND:return W.NOT_FOUND;case ve.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ve.ABORTED:return W.ABORTED;case ve.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ve.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:a})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new wr([4294967295,4294967295],0);function nv(a){const t=uR().encode(a),r=new vE;return r.update(t),new Uint8Array(r.digest())}function iv(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),l=t.getUint32(4,!0),u=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new wr([r,l],0),new wr([u,h],0)]}class Tm{constructor(t,r,l){if(this.bitmap=t,this.padding=r,this.hashCount=l,r<0||r>=8)throw new so(`Invalid padding: ${r}`);if(l<0)throw new so(`Invalid hash count: ${l}`);if(t.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${l}`);if(t.length===0&&r!==0)throw new so(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=wr.fromNumber(this.ge)}ye(t,r,l){let u=t.add(r.multiply(wr.fromNumber(l)));return u.compare(cR)===1&&(u=new wr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=nv(t),[l,u]=iv(r);for(let h=0;h<this.hashCount;h++){const m=this.ye(l,u,h);if(!this.we(m))return!1}return!0}static create(t,r,l){const u=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new Tm(h,u,r);return l.forEach(p=>m.insert(p)),m}insert(t){if(this.ge===0)return;const r=nv(t),[l,u]=iv(r);for(let h=0;h<this.hashCount;h++){const m=this.ye(l,u,h);this.Se(m)}}Se(t){const r=Math.floor(t/8),l=t%8;this.bitmap[r]|=1<<l}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,r,l,u,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=l,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,l){const u=new Map;return u.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,r,l)),new Xc(St.min(),u,new se(Ot),Gi(),Mt())}}class Io{constructor(t,r,l,u,h){this.resumeToken=t,this.current=r,this.addedDocuments=l,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,l){return new Io(l,r,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,r,l,u){this.be=t,this.removedTargetIds=r,this.key=l,this.De=u}}class s0{constructor(t,r){this.targetId=t,this.Ce=r}}class l0{constructor(t,r,l=Fe.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=l,this.cause=u}}class rv{constructor(){this.ve=0,this.Fe=av(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),r=Mt(),l=Mt();return this.Fe.forEach((u,h)=>{switch(h){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:l=l.add(u);break;default:vt(38017,{changeType:h})}}),new Io(this.Me,this.xe,t,r,l)}qe(){this.Oe=!1,this.Fe=av()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gi(),this.Je=lc(),this.He=lc(),this.Ye=new se(Ot)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const l=this.nt(r);switch(t.state){case 0:this.rt(r)&&l.Le(t.resumeToken);break;case 1:l.Ke(),l.Ne||l.qe(),l.Le(t.resumeToken);break;case 2:l.Ke(),l.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(l.We(),l.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),l.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((l,u)=>{this.rt(u)&&r(u)})}st(t){const r=t.targetId,l=t.Ce.count,u=this.ot(r);if(u){const h=u.target;if(Bd(h))if(l===0){const m=new pt(h.path);this.et(r,m,$e.newNoDocument(m,St.min()))}else Ht(l===1,20013,{expectedCount:l});else{const m=this._t(r);if(m!==l){const p=this.ut(t),_=p?this.ct(p,t,m):1;if(_!==0){this.it(r);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:l="",padding:u=0},hashCount:h=0}=r;let m,p;try{m=Vr(l).toUint8Array()}catch(_){if(_ instanceof VE)return Ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Tm(m,u,h)}catch(_){return Ms(_ instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,r,l){return r.Ce.count===l-this.Pt(t,r.targetId)?0:2}Pt(t,r){const l=this.Ge.getRemoteKeysForTarget(r);let u=0;return l.forEach(h=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(r,h,null),u++)}),u}Tt(t){const r=new Map;this.ze.forEach((h,m)=>{const p=this.ot(m);if(p){if(h.current&&Bd(p.target)){const _=new pt(p.target.path);this.It(_).has(m)||this.Et(m,_)||this.et(m,_,$e.newNoDocument(_,t))}h.Be&&(r.set(m,h.ke()),h.qe())}});let l=Mt();this.He.forEach((h,m)=>{let p=!0;m.forEachWhile(_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(l=l.add(h))}),this.je.forEach((h,m)=>m.setReadTime(t));const u=new Xc(t,r,this.Ye,this.je,l);return this.je=Gi(),this.Je=lc(),this.He=lc(),this.Ye=new se(Ot),u}Xe(t,r){if(!this.rt(t))return;const l=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,l),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,l){if(!this.rt(t))return;const u=this.nt(t);this.Et(t,r)?u.Qe(r,1):u.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),l&&(this.je=this.je.insert(r,l))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new rv,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new De(Ot),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new De(Ot),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ct("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rv),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function lc(){return new se(pt.comparator)}function av(){return new se(pt.comparator)}const fR={asc:"ASCENDING",desc:"DESCENDING"},dR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mR={and:"AND",or:"OR"};class pR{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Hd(a,t){return a.useProto3Json||qc(t)?t:{value:t}}function Ic(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function gR(a,t){return Ic(a,t.toTimestamp())}function oi(a){return Ht(!!a,49232),St.fromTimestamp(function(r){const l=Nr(r);return new ee(l.seconds,l.nanos)}(a))}function Am(a,t){return Fd(a,t).canonicalString()}function Fd(a,t){const r=function(u){return new te(["projects",u.projectId,"databases",u.database])}(a).child("documents");return t===void 0?r:r.child(t)}function u0(a){const t=te.fromString(a);return Ht(m0(t),10190,{key:t.toString()}),t}function Gd(a,t){return Am(a.databaseId,t.path)}function Ed(a,t){const r=u0(t);if(r.get(1)!==a.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new pt(h0(r))}function c0(a,t){return Am(a.databaseId,t)}function yR(a){const t=u0(a);return t.length===4?te.emptyPath():h0(t)}function Qd(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function h0(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function sv(a,t,r){return{name:Gd(a,t),fields:r.value.mapValue.fields}}function _R(a,t){let r;if("targetChange"in t){t.targetChange;const l=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))}(a,t.targetChange.resumeToken),m=t.targetChange.cause,p=m&&function(y){const T=y.code===void 0?W.UNKNOWN:a0(y.code);return new ht(T,y.message||"")}(m);r=new l0(l,u,h,p||null)}else if("documentChange"in t){t.documentChange;const l=t.documentChange;l.document,l.document.name,l.document.updateTime;const u=Ed(a,l.document.name),h=oi(l.document.updateTime),m=l.document.createTime?oi(l.document.createTime):St.min(),p=new gn({mapValue:{fields:l.document.fields}}),_=$e.newFoundDocument(u,h,m,p),y=l.targetIds||[],T=l.removedTargetIds||[];r=new yc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const l=t.documentDelete;l.document;const u=Ed(a,l.document),h=l.readTime?oi(l.readTime):St.min(),m=$e.newNoDocument(u,h),p=l.removedTargetIds||[];r=new yc([],p,m.key,m)}else if("documentRemove"in t){t.documentRemove;const l=t.documentRemove;l.document;const u=Ed(a,l.document),h=l.removedTargetIds||[];r=new yc([],h,u,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const l=t.filter;l.targetId;const{count:u=0,unchangedNames:h}=l,m=new lR(u,h),p=l.targetId;r=new s0(p,m)}}return r}function vR(a,t){let r;if(t instanceof Kc)r={update:sv(a,t.key,t.value)};else if(t instanceof vm)r={delete:Gd(a,t.key)};else if(t instanceof Na)r={update:sv(a,t.key,t.data),updateMask:DR(t.fieldMask)};else{if(!(t instanceof rR))return vt(16599,{Vt:t.type});r={verify:Gd(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(l=>function(h,m){const p=m.transform;if(p instanceof Cc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof To)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ao)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Dc)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:m.transform})}(0,l))),t.precondition.isNone||(r.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:gR(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)}(a,t.precondition)),r}function ER(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map(r=>function(u,h){let m=u.updateTime?oi(u.updateTime):oi(h);return m.isEqual(St.min())&&(m=oi(h)),new eR(m,u.transformResults||[])}(r,t))):[]}function TR(a,t){return{documents:[c0(a,t.path)]}}function AR(a,t){const r={structuredQuery:{}},l=t.path;let u;t.collectionGroup!==null?(u=l,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=l.popLast(),r.structuredQuery.from=[{collectionId:l.lastSegment()}]),r.parent=c0(a,u);const h=function(y){if(y.length!==0)return d0(Bn.create(y,"and"))}(t.filters);h&&(r.structuredQuery.where=h);const m=function(y){if(y.length!==0)return y.map(T=>function(R){return{field:Rs(R.field),direction:wR(R.dir)}}(T))}(t.orderBy);m&&(r.structuredQuery.orderBy=m);const p=Hd(a,t.limit);return p!==null&&(r.structuredQuery.limit=p),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ft:r,parent:u}}function SR(a){let t=yR(a.parent);const r=a.structuredQuery,l=r.from?r.from.length:0;let u=null;if(l>0){Ht(l===1,65062);const T=r.from[0];T.allDescendants?u=T.collectionId:t=t.child(T.collectionId)}let h=[];r.where&&(h=function(b){const R=f0(b);return R instanceof Bn&&jE(R)?R.getFilters():[R]}(r.where));let m=[];r.orderBy&&(m=function(b){return b.map(R=>function(G){return new Rc(Cs(G.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(R))}(r.orderBy));let p=null;r.limit&&(p=function(b){let R;return R=typeof b=="object"?b.value:b,qc(R)?null:R}(r.limit));let _=null;r.startAt&&(_=function(b){const R=!!b.before,j=b.values||[];return new wc(j,R)}(r.startAt));let y=null;return r.endAt&&(y=function(b){const R=!b.before,j=b.values||[];return new wc(j,R)}(r.endAt)),qw(t,u,m,h,p,"F",_,y)}function bR(a,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function f0(a){return a.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const l=Cs(r.unaryFilter.field);return Ee.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=Cs(r.unaryFilter.field);return Ee.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Cs(r.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Cs(r.unaryFilter.field);return Ee.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(r){return Ee.create(Cs(r.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(r){return Bn.create(r.compositeFilter.filters.map(l=>f0(l)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(r.compositeFilter.op))}(a):vt(30097,{filter:a})}function wR(a){return fR[a]}function RR(a){return dR[a]}function CR(a){return mR[a]}function Rs(a){return{fieldPath:a.canonicalString()}}function Cs(a){return He.fromServerFormat(a.fieldPath)}function d0(a){return a instanceof Ee?function(r){if(r.op==="=="){if(Y_(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NAN"}};if(Q_(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Y_(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NOT_NAN"}};if(Q_(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(r.field),op:RR(r.op),value:r.value}}}(a):a instanceof Bn?function(r){const l=r.getFilters().map(u=>d0(u));return l.length===1?l[0]:{compositeFilter:{op:CR(r.op),filters:l}}}(a):vt(54877,{filter:a})}function DR(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function m0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,r,l,u,h=St.min(),m=St.min(),p=Fe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=r,this.purpose=l,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.yt=t}}function NR(a){const t=SR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Cn=new OR}addToCollectionParentIndex(t,r){return this.Cn.add(r),tt.resolve()}getCollectionParents(t,r){return tt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return tt.resolve()}deleteFieldIndex(t,r){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,r){return tt.resolve()}getDocumentsMatchingTarget(t,r){return tt.resolve(null)}getIndexType(t,r){return tt.resolve(0)}getFieldIndexes(t,r){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,r){return tt.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,r){return tt.resolve(Ir.min())}updateCollectionGroup(t,r,l){return tt.resolve()}updateIndexEntries(t,r){return tt.resolve()}}class OR{constructor(){this.index={}}add(t){const r=t.lastSegment(),l=t.popLast(),u=this.index[r]||new De(te.comparator),h=!u.has(l);return this.index[r]=u.add(l),h}has(t){const r=t.lastSegment(),l=t.popLast(),u=this.index[r];return u&&u.has(l)}getEntries(t){return(this.index[t]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,l){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(p0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ks(0)}static cr(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",MR=1048576;function uv([a,t],[r,l]){const u=Ot(a,r);return u===0?Ot(t,l):u}class xR{constructor(t){this.Ir=t,this.buffer=new De(uv),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();uv(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class LR{constructor(t,r,l){this.garbageCollector=t,this.asyncQueue=r,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Fs(r)?ct(ov,"Ignoring IndexedDB error during garbage collection: ",r):await Hs(r)}await this.Vr(3e5)})}}class PR{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(l=>Math.floor(r/100*l))}nthSequenceNumber(t,r){if(r===0)return tt.resolve(jc.ce);const l=new xR(r);return this.mr.forEachTarget(t,u=>l.Ar(u.sequenceNumber)).next(()=>this.mr.pr(t,u=>l.Ar(u))).next(()=>l.maxValue)}removeTargets(t,r,l){return this.mr.removeTargets(t,r,l)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(lv)):this.getCacheSize(t).next(l=>l<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let l,u,h,m,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,m=Date.now(),this.nthSequenceNumber(t,u))).next(b=>(l=b,p=Date.now(),this.removeTargets(t,l,r))).next(b=>(h=b,_=Date.now(),this.removeOrphanedDocuments(t,l))).next(b=>(y=Date.now(),bs()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-T}ms
	Determined least recently used ${u} in `+(p-m)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b})))}}function UR(a,t){return new PR(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.changes=new Ia(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const l=this.changes.get(r);return l!==void 0?tt.resolve(l):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,r,l,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=l,this.indexManager=u}getDocument(t,r){let l=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(l=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(l!==null&&ho(l.mutation,u,kn.empty(),ee.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(l=>this.getLocalViewOfDocuments(t,l,Mt()).next(()=>l))}getLocalViewOfDocuments(t,r,l=Mt()){const u=Ta();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,l).next(h=>{let m=ao();return h.forEach((p,_)=>{m=m.insert(p,_.overlayedDocument)}),m}))}getOverlayedDocuments(t,r){const l=Ta();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,Mt()))}populateOverlays(t,r,l){const u=[];return l.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(t,u).next(h=>{h.forEach((m,p)=>{r.set(m,p)})})}computeViews(t,r,l,u){let h=Gi();const m=co(),p=function(){return co()}();return r.forEach((_,y)=>{const T=l.get(y.key);u.has(y.key)&&(T===void 0||T.mutation instanceof Na)?h=h.insert(y.key,y):T!==void 0?(m.set(y.key,T.mutation.getFieldMask()),ho(T.mutation,y,T.mutation.getFieldMask(),ee.now())):m.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(t,h).next(_=>(_.forEach((y,T)=>m.set(y,T)),r.forEach((y,T)=>p.set(y,new zR(T,m.get(y)??null))),p))}recalculateAndSaveOverlays(t,r){const l=co();let u=new se((m,p)=>m-p),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(m=>{for(const p of m)p.keys().forEach(_=>{const y=r.get(_);if(y===null)return;let T=l.get(_)||kn.empty();T=p.applyToLocalView(y,T),l.set(_,T);const b=(u.get(p.batchId)||Mt()).add(_);u=u.insert(p.batchId,b)})}).next(()=>{const m=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,b=ZE();T.forEach(R=>{if(!h.has(R)){const j=i0(r.get(R),l.get(R));j!==null&&b.set(R,j),h=h.add(R)}}),m.push(this.documentOverlayCache.saveOverlays(t,y,b))}return tt.waitFor(m)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(l=>this.recalculateAndSaveOverlays(t,l))}getDocumentsMatchingQuery(t,r,l,u){return function(m){return pt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):QE(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,l,u):this.getDocumentsMatchingCollectionQuery(t,r,l,u)}getNextDocuments(t,r,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,l,u).next(h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,l.largestBatchId,u-h.size):tt.resolve(Ta());let p=yo,_=h;return m.next(y=>tt.forEach(y,(T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(R=>{_=_.insert(T,R)}))).next(()=>this.populateOverlays(t,y,h)).next(()=>this.computeViews(t,_,y,Mt())).next(T=>({batchId:p,changes:$E(T)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new pt(r)).next(l=>{let u=ao();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,l,u){const h=r.collectionGroup;let m=ao();return this.indexManager.getCollectionParents(t,h).next(p=>tt.forEach(p,_=>{const y=function(b,R){return new Do(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(r,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,y,l,u).next(T=>{T.forEach((b,R)=>{m=m.insert(b,R)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,r,l,u){let h;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,l,h,u))).next(m=>{h.forEach((_,y)=>{const T=y.getKey();m.get(T)===null&&(m=m.insert(T,$e.newInvalidDocument(T)))});let p=ao();return m.forEach((_,y)=>{const T=h.get(_);T!==void 0&&ho(T.mutation,y,kn.empty(),ee.now()),Gc(r,y)&&(p=p.insert(_,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return tt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(u){return{id:u.id,version:u.version,createTime:oi(u.createTime)}}(r)),tt.resolve()}getNamedQuery(t,r){return tt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(u){return{name:u.name,query:NR(u.bundledQuery),readTime:oi(u.readTime)}}(r)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.overlays=new se(pt.comparator),this.qr=new Map}getOverlay(t,r){return tt.resolve(this.overlays.get(r))}getOverlays(t,r){const l=Ta();return tt.forEach(r,u=>this.getOverlay(t,u).next(h=>{h!==null&&l.set(u,h)})).next(()=>l)}saveOverlays(t,r,l){return l.forEach((u,h)=>{this.St(t,r,h)}),tt.resolve()}removeOverlaysForBatchId(t,r,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(l)),tt.resolve()}getOverlaysForCollection(t,r,l){const u=Ta(),h=r.length+1,m=new pt(r.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===h&&_.largestBatchId>l&&u.set(_.getKey(),_)}return tt.resolve(u)}getOverlaysForCollectionGroup(t,r,l,u){let h=new se((y,T)=>y-T);const m=this.overlays.getIterator();for(;m.hasNext();){const y=m.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>l){let T=h.get(y.largestBatchId);T===null&&(T=Ta(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Ta(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((y,T)=>p.set(y,T)),!(p.size()>=u)););return tt.resolve(p)}St(t,r,l){const u=this.overlays.get(l.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new sR(r,l));let h=this.qr.get(r);h===void 0&&(h=Mt(),this.qr.set(r,h)),this.qr.set(r,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.Qr=new De(Le.$r),this.Ur=new De(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const l=new Le(t,r);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(t,r){t.forEach(l=>this.addReference(l,r))}removeReference(t,r){this.Gr(new Le(t,r))}zr(t,r){t.forEach(l=>this.removeReference(l,r))}jr(t){const r=new pt(new te([])),l=new Le(r,t),u=new Le(r,t+1),h=[];return this.Ur.forEachInRange([l,u],m=>{this.Gr(m),h.push(m.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new pt(new te([])),l=new Le(r,t),u=new Le(r,t+1);let h=Mt();return this.Ur.forEachInRange([l,u],m=>{h=h.add(m.key)}),h}containsKey(t){const r=new Le(t,0),l=this.Qr.firstAfterOrEqual(r);return l!==null&&t.isEqual(l.key)}}class Le{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return pt.comparator(t.key,r.key)||Ot(t.Yr,r.Yr)}static Kr(t,r){return Ot(t.Yr,r.Yr)||pt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new De(Le.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,l,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new aR(h,r,l,u);this.mutationQueue.push(m);for(const p of u)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return tt.resolve(m)}lookupMutationBatch(t,r){return tt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const l=r+1,u=this.ei(l),h=u<0?0:u;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const l=new Le(r,0),u=new Le(r,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,u],m=>{const p=this.Xr(m.Yr);h.push(p)}),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let l=new De(Ot);return r.forEach(u=>{const h=new Le(u,0),m=new Le(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],p=>{l=l.add(p.Yr)})}),tt.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(t,r){const l=r.path,u=l.length+1;let h=l;pt.isDocumentKey(h)||(h=h.child(""));const m=new Le(new pt(h),0);let p=new De(Ot);return this.Zr.forEachWhile(_=>{const y=_.key.path;return!!l.isPrefixOf(y)&&(y.length===u&&(p=p.add(_.Yr)),!0)},m),tt.resolve(this.ti(p))}ti(t){const r=[];return t.forEach(l=>{const u=this.Xr(l);u!==null&&r.push(u)}),r}removeMutationBatch(t,r){Ht(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return tt.forEach(r.mutations,u=>{const h=new Le(u.key,r.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.Zr=l})}ir(t){}containsKey(t,r){const l=new Le(r,0),u=this.Zr.firstAfterOrEqual(l);return tt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.ri=t,this.docs=function(){return new se(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const l=r.key,u=this.docs.get(l),h=u?u.size:0,m=this.ri(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,l.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const l=this.docs.get(r);return tt.resolve(l?l.document.mutableCopy():$e.newInvalidDocument(r))}getEntries(t,r){let l=Gi();return r.forEach(u=>{const h=this.docs.get(u);l=l.insert(u,h?h.document.mutableCopy():$e.newInvalidDocument(u))}),tt.resolve(l)}getDocumentsMatchingQuery(t,r,l,u){let h=Gi();const m=r.path,p=new pt(m.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!m.isPrefixOf(y.path))break;y.path.length>m.length+1||Ew(vw(T),l)<=0||(u.has(T.key)||Gc(r,T))&&(h=h.insert(T.key,T.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(t,r,l,u){vt(9500)}ii(t,r){return tt.forEach(this.docs,l=>r(l))}newChangeBuffer(t){return new QR(this)}getSize(t){return tt.resolve(this.size)}}class QR extends kR{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((l,u)=>{u.isValidDocument()?r.push(this.Nr.addEntry(t,u)):this.Nr.removeEntry(l)}),tt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.persistence=t,this.si=new Ia(r=>gm(r),ym),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Sm,this.targetCount=0,this.ai=ks.ur()}forEachTarget(t,r){return this.si.forEach((l,u)=>r(u)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.oi&&(this.oi=r),tt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new ks(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,tt.resolve()}updateTargetData(t,r){return this.Pr(r),tt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,r,l){let u=0;const h=[];return this.si.forEach((m,p)=>{p.sequenceNumber<=r&&l.get(p.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),u++)}),tt.waitFor(h).next(()=>u)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,r){const l=this.si.get(r)||null;return tt.resolve(l)}addMatchingKeys(t,r,l){return this._i.Wr(r,l),tt.resolve()}removeMatchingKeys(t,r,l){this._i.zr(r,l);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(m=>{h.push(u.markPotentiallyOrphaned(t,m))}),tt.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),tt.resolve()}getMatchingKeysForTargetId(t,r){const l=this._i.Hr(r);return tt.resolve(l)}containsKey(t,r){return tt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,r){this.ui={},this.overlays={},this.ci=new jc(0),this.li=!1,this.li=!0,this.hi=new HR,this.referenceDelegate=t(this),this.Pi=new YR(this),this.indexManager=new VR,this.remoteDocumentCache=function(u){return new GR(u)}(l=>this.referenceDelegate.Ti(l)),this.serializer=new IR(r),this.Ii=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new qR,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let l=this.ui[t.toKey()];return l||(l=new FR(r,this.referenceDelegate),this.ui[t.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,l){ct("MemoryPersistence","Starting transaction:",t);const u=new KR(this.ci.next());return this.referenceDelegate.Ei(),l(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(t,r){return tt.or(Object.values(this.ui).map(l=>()=>l.containsKey(t,r)))}}class KR extends Aw{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Ri=new Sm,this.Vi=null}static mi(t){return new bm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,r,l){return this.Ri.addReference(l,r),this.fi.delete(l.toString()),tt.resolve()}removeReference(t,r,l){return this.Ri.removeReference(l,r),this.fi.add(l.toString()),tt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),tt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(u=>this.fi.add(u.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>l.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,l=>{const u=pt.fromPath(l);return this.gi(t,u).next(h=>{h||r.removeEntry(u,St.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(l=>{l?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return tt.or([()=>tt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Nc{constructor(t,r){this.persistence=t,this.pi=new Ia(l=>ww(l.path),(l,u)=>l.isEqual(u)),this.garbageCollector=UR(this,r)}static mi(t,r){return new Nc(t,r)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(l=>r.next(u=>l+u))}wr(t){let r=0;return this.pr(t,l=>{r++}).next(()=>r)}pr(t,r){return tt.forEach(this.pi,(l,u)=>this.br(t,l,u).next(h=>h?tt.resolve():r(u)))}removeTargets(t,r,l){return this.persistence.getTargetCache().removeTargets(t,r,l)}removeOrphanedDocuments(t,r){let l=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(t,m=>this.br(t,m,r).next(p=>{p||(l++,h.removeEntry(m,St.min()))})).next(()=>h.apply(t)).next(()=>l)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeTarget(t,r){const l=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,l)}addReference(t,r,l){return this.pi.set(l,t.currentSequenceNumber),tt.resolve()}removeReference(t,r,l){return this.pi.set(l,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=mc(t.data.value)),r}br(t,r,l){return tt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const u=this.pi.get(r);return tt.resolve(u!==void 0&&u>l)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,r,l,u){this.targetId=t,this.fromCache=r,this.Es=l,this.ds=u}static As(t,r){let l=Mt(),u=Mt();for(const h of r.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new wm(t,r.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HS()?8:Sw(BS())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,l,u){const h={result:null};return this.ys(t,r).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.ws(t,r,u,l).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new XR;return this.Ss(t,r,m).next(p=>{if(h.result=p,this.Vs)return this.bs(t,r,m,p.size)})}).next(()=>h.result)}bs(t,r,l,u){return l.documentReadCount<this.fs?(bs()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ws(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(bs()<=kt.DEBUG&&ct("QueryEngine","Query:",ws(r),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(bs()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ws(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(r))):tt.resolve())}ys(t,r){if(Z_(r))return tt.resolve(null);let l=si(r);return this.indexManager.getIndexType(t,l).next(u=>u===0?null:(r.limit!==null&&u===1&&(r=qd(r,null,"F"),l=si(r)),this.indexManager.getDocumentsMatchingTarget(t,l).next(h=>{const m=Mt(...h);return this.ps.getDocuments(t,m).next(p=>this.indexManager.getMinOffset(t,l).next(_=>{const y=this.Ds(r,p);return this.Cs(r,y,m,_.readTime)?this.ys(t,qd(r,null,"F")):this.vs(t,y,r,_)}))})))}ws(t,r,l,u){return Z_(r)||u.isEqual(St.min())?tt.resolve(null):this.ps.getDocuments(t,l).next(h=>{const m=this.Ds(r,h);return this.Cs(r,m,l,u)?tt.resolve(null):(bs()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ws(r)),this.vs(t,m,r,_w(u,yo)).next(p=>p))})}Ds(t,r){let l=new De(KE(t));return r.forEach((u,h)=>{Gc(t,h)&&(l=l.add(h))}),l}Cs(t,r,l,u){if(t.limit===null)return!1;if(l.size!==r.size)return!0;const h=t.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(t,r,l){return bs()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ws(r)),this.ps.getDocumentsMatchingQuery(t,r,Ir.min(),l)}vs(t,r,l,u){return this.ps.getDocumentsMatchingQuery(t,l,u).next(h=>(r.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="LocalStore",ZR=3e8;class JR{constructor(t,r,l,u){this.persistence=t,this.Fs=r,this.serializer=u,this.Ms=new se(Ot),this.xs=new Ia(h=>gm(h),ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(l)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function WR(a,t,r,l){return new JR(a,t,r,l)}async function y0(a,t){const r=bt(a);return await r.persistence.runTransaction("Handle user change","readonly",l=>{let u;return r.mutationQueue.getAllMutationBatches(l).next(h=>(u=h,r.Bs(t),r.mutationQueue.getAllMutationBatches(l))).next(h=>{const m=[],p=[];let _=Mt();for(const y of u){m.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of h){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return r.localDocuments.getDocuments(l,_).next(y=>({Ls:y,removedBatchIds:m,addedBatchIds:p}))})})}function t2(a,t){const r=bt(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const u=t.batch.keys(),h=r.Ns.newChangeBuffer({trackRemovals:!0});return function(p,_,y,T){const b=y.batch,R=b.keys();let j=tt.resolve();return R.forEach(G=>{j=j.next(()=>T.getEntry(_,G)).next(Z=>{const Q=y.docVersions.get(G);Ht(Q!==null,48541),Z.version.compareTo(Q)<0&&(b.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),T.addEntry(Z)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(_,b))}(r,l,t,h).next(()=>h.apply(l)).next(()=>r.mutationQueue.performConsistencyCheck(l)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(l,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _}(t))).next(()=>r.localDocuments.getDocuments(l,u))})}function _0(a){const t=bt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function e2(a,t){const r=bt(a),l=t.snapshotVersion;let u=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=r.Ns.newChangeBuffer({trackRemovals:!0});u=r.Ms;const p=[];t.targetChanges.forEach((T,b)=>{const R=u.get(b);if(!R)return;p.push(r.Pi.removeMatchingKeys(h,T.removedDocuments,b).next(()=>r.Pi.addMatchingKeys(h,T.addedDocuments,b)));let j=R.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,l)),u=u.insert(b,j),function(Z,Q,et){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=ZR?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(R,j,T)&&p.push(r.Pi.updateTargetData(h,j))});let _=Gi(),y=Mt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(h,T))}),p.push(n2(h,m,t.documentUpdates).next(T=>{_=T.ks,y=T.qs})),!l.isEqual(St.min())){const T=r.Pi.getLastRemoteSnapshotVersion(h).next(b=>r.Pi.setTargetsMetadata(h,h.currentSequenceNumber,l));p.push(T)}return tt.waitFor(p).next(()=>m.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,_,y)).next(()=>_)}).then(h=>(r.Ms=u,h))}function n2(a,t,r){let l=Mt(),u=Mt();return r.forEach(h=>l=l.add(h)),t.getEntries(a,l).next(h=>{let m=Gi();return r.forEach((p,_)=>{const y=h.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),m=m.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),m=m.insert(p,_)):ct(Rm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)}),{ks:m,qs:u}})}function i2(a,t){const r=bt(a);return r.persistence.runTransaction("Get next mutation batch","readonly",l=>(t===void 0&&(t=dm),r.mutationQueue.getNextMutationBatchAfterBatchId(l,t)))}function r2(a,t){const r=bt(a);return r.persistence.runTransaction("Allocate target","readwrite",l=>{let u;return r.Pi.getTargetData(l,t).next(h=>h?(u=h,tt.resolve(u)):r.Pi.allocateTargetId(l).next(m=>(u=new Ar(t,m,"TargetPurposeListen",l.currentSequenceNumber),r.Pi.addTargetData(l,u).next(()=>u))))}).then(l=>{const u=r.Ms.get(l.targetId);return(u===null||l.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(l.targetId,l),r.xs.set(t,l.targetId)),l})}async function Yd(a,t,r){const l=bt(a),u=l.Ms.get(t),h=r?"readwrite":"readwrite-primary";try{r||await l.persistence.runTransaction("Release target",h,m=>l.persistence.referenceDelegate.removeTarget(m,u))}catch(m){if(!Fs(m))throw m;ct(Rm,`Failed to update sequence numbers for target ${t}: ${m}`)}l.Ms=l.Ms.remove(t),l.xs.delete(u.target)}function cv(a,t,r){const l=bt(a);let u=St.min(),h=Mt();return l.persistence.runTransaction("Execute query","readwrite",m=>function(_,y,T){const b=bt(_),R=b.xs.get(T);return R!==void 0?tt.resolve(b.Ms.get(R)):b.Pi.getTargetData(y,T)}(l,m,si(t)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,l.Pi.getMatchingKeysForTargetId(m,p.targetId).next(_=>{h=_})}).next(()=>l.Fs.getDocumentsMatchingQuery(m,t,r?u:St.min(),r?h:Mt())).next(p=>(a2(l,Fw(t),p),{documents:p,Qs:h})))}function a2(a,t,r){let l=a.Os.get(t)||St.min();r.forEach((u,h)=>{h.readTime.compareTo(l)>0&&(l=h.readTime)}),a.Os.set(t,l)}class hv{constructor(){this.activeTargetIds=$w()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class s2{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,l){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,l){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(t,r,l){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function Kd(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RestConnection",o2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Sc?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(t,r,l,u,h){const m=Kd(),p=this.zo(t,r.toUriEncodedString());ct(Td,`Sending RPC '${t}' ${m}:`,p,l);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:y}=new URL(p),T=om(y);return this.Jo(t,p,_,l,T).then(b=>(ct(Td,`Received RPC '${t}' ${m}: `,b),b),b=>{throw Ms(Td,`RPC '${t}' ${m} failed with error: `,b,"url: ",p,"request:",l),b})}Ho(t,r,l,u,h,m){return this.Go(t,r,l,u,h)}jo(t,r,l){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,h)=>t[h]=u),l&&l.headers.forEach((u,h)=>t[h]=u)}zo(t,r){const l=o2[t];return`${this.Uo}/v1/${r}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class h2 extends u2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,l,u,h){const m=Kd();return new Promise((p,_)=>{const y=new EE;y.setWithCredentials(!0),y.listenOnce(TE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case dc.NO_ERROR:const b=y.getResponseJson();ct(Ke,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(b)),p(b);break;case dc.TIMEOUT:ct(Ke,`RPC '${t}' ${m} timed out`),_(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const R=y.getStatus();if(ct(Ke,`RPC '${t}' ${m} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const Z=function(et){const ut=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ut)>=0?ut:W.UNKNOWN}(G.status);_(new ht(Z,G.message))}else _(new ht(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ht(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:m,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(Ke,`RPC '${t}' ${m} completed.`)}});const T=JSON.stringify(u);ct(Ke,`RPC '${t}' ${m} sending request:`,u),y.send(r,"POST",T,l,15)})}T_(t,r,l){const u=Kd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=bE(),p=SE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,r,l),_.encodeInitMessageHeaders=!0;const T=h.join("");ct(Ke,`Creating RPC '${t}' stream ${u}: ${T}`,_);const b=m.createWebChannel(T,_);this.I_(b);let R=!1,j=!1;const G=new c2({Yo:Q=>{j?ct(Ke,`Not sending because RPC '${t}' stream ${u} is closed:`,Q):(R||(ct(Ke,`Opening RPC '${t}' stream ${u} transport.`),b.open(),R=!0),ct(Ke,`RPC '${t}' stream ${u} sending:`,Q),b.send(Q))},Zo:()=>b.close()}),Z=(Q,et,ut)=>{Q.listen(et,st=>{try{ut(st)}catch(wt){setTimeout(()=>{throw wt},0)}})};return Z(b,ro.EventType.OPEN,()=>{j||(ct(Ke,`RPC '${t}' stream ${u} transport opened.`),G.o_())}),Z(b,ro.EventType.CLOSE,()=>{j||(j=!0,ct(Ke,`RPC '${t}' stream ${u} transport closed`),G.a_(),this.E_(b))}),Z(b,ro.EventType.ERROR,Q=>{j||(j=!0,Ms(Ke,`RPC '${t}' stream ${u} transport errored. Name:`,Q.name,"Message:",Q.message),G.a_(new ht(W.UNAVAILABLE,"The operation could not be completed")))}),Z(b,ro.EventType.MESSAGE,Q=>{if(!j){const et=Q.data[0];Ht(!!et,16349);const ut=et,st=ut?.error||ut[0]?.error;if(st){ct(Ke,`RPC '${t}' stream ${u} received error:`,st);const wt=st.status;let it=function(w){const D=ve[w];if(D!==void 0)return a0(D)}(wt),At=st.message;it===void 0&&(it=W.INTERNAL,At="Unknown error status: "+wt+" with message "+st.message),j=!0,G.a_(new ht(it,At)),b.close()}else ct(Ke,`RPC '${t}' stream ${u} received:`,et),G.u_(et)}}),Z(p,AE.STAT_EVENT,Q=>{Q.stat===Ld.PROXY?ct(Ke,`RPC '${t}' stream ${u} detected buffering proxy`):Q.stat===Ld.NOPROXY&&ct(Ke,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{G.__()},0),G}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(a){return new pR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,r,l=1e3,u=1.5,h=6e4){this.Mi=t,this.timerId=r,this.d_=l,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,r-l);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="PersistentStream";class E0{constructor(t,r,l,u,h,m,p,_){this.Mi=t,this.S_=l,this.b_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v0(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(Fi(r.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,u])=>{this.D_===r&&this.G_(l,u)},l=>{t(()=>{const u=new ht(W.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)})})}G_(t,r){const l=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{l(()=>this.listener.Xo())}),this.stream.t_(()=>{l(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{l(()=>this.z_(u))}),this.stream.onMessage(u=>{l(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ct(mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(ct(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f2 extends E0{constructor(t,r,l,u,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,l,u,m),this.serializer=h}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=_R(this.serializer,t),l=function(h){if(!("targetChange"in h))return St.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?St.min():m.readTime?oi(m.readTime):St.min()}(t);return this.listener.H_(r,l)}Y_(t){const r={};r.database=Qd(this.serializer),r.addTarget=function(h,m){let p;const _=m.target;if(p=Bd(_)?{documents:TR(h,_)}:{query:AR(h,_).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=o0(h,m.resumeToken);const y=Hd(h,m.expectedCount);y!==null&&(p.expectedCount=y)}else if(m.snapshotVersion.compareTo(St.min())>0){p.readTime=Ic(h,m.snapshotVersion.toTimestamp());const y=Hd(h,m.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,t);const l=bR(this.serializer,t);l&&(r.labels=l),this.q_(r)}Z_(t){const r={};r.database=Qd(this.serializer),r.removeTarget=t,this.q_(r)}}class d2 extends E0{constructor(t,r,l,u,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,l,u,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=ER(t.writeResults,t.commitTime),l=oi(t.commitTime);return this.listener.na(l,r)}ra(){const t={};t.database=Qd(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(l=>vR(this.serializer,l))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class p2 extends m2{constructor(t,r,l,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Go(t,Fd(r,l),u,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(W.UNKNOWN,h.toString())})}Ho(t,r,l,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,p])=>this.connection.Ho(t,Fd(r,l),u,m,p,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ht(W.UNKNOWN,m.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class g2{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(r),this.aa=!1):ct("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class y2{constructor(t,r,l,u,h){this.localStore=t,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(m=>{l.enqueueAndForget(async()=>{Va(this)&&(ct(wa,"Restarting streams for network reachability change."),await async function(_){const y=bt(_);y.Ea.add(4),await No(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Zc(y)}(this))})}),this.Ra=new g2(l,u)}}async function Zc(a){if(Va(a))for(const t of a.da)await t(!0)}async function No(a){for(const t of a.da)await t(!1)}function T0(a,t){const r=bt(a);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Nm(r)?Im(r):Gs(r).O_()&&Dm(r,t))}function Cm(a,t){const r=bt(a),l=Gs(r);r.Ia.delete(t),l.O_()&&A0(r,t),r.Ia.size===0&&(l.O_()?l.L_():Va(r)&&r.Ra.set("Unknown"))}function Dm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Gs(a).Y_(t)}function A0(a,t){a.Va.Ue(t),Gs(a).Z_(t)}function Im(a){a.Va=new hR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Gs(a).start(),a.Ra.ua()}function Nm(a){return Va(a)&&!Gs(a).x_()&&a.Ia.size>0}function Va(a){return bt(a).Ea.size===0}function S0(a){a.Va=void 0}async function _2(a){a.Ra.set("Online")}async function v2(a){a.Ia.forEach((t,r)=>{Dm(a,t)})}async function E2(a,t){S0(a),Nm(a)?(a.Ra.ha(t),Im(a)):a.Ra.set("Unknown")}async function T2(a,t,r){if(a.Ra.set("Online"),t instanceof l0&&t.state===2&&t.cause)try{await async function(u,h){const m=h.cause;for(const p of h.targetIds)u.Ia.has(p)&&(await u.remoteSyncer.rejectListen(p,m),u.Ia.delete(p),u.Va.removeTarget(p))}(a,t)}catch(l){ct(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),l),await Vc(a,l)}else if(t instanceof yc?a.Va.Ze(t):t instanceof s0?a.Va.st(t):a.Va.tt(t),!r.isEqual(St.min()))try{const l=await _0(a.localStore);r.compareTo(l)>=0&&await function(h,m){const p=h.Va.Tt(m);return p.targetChanges.forEach((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=h.Ia.get(y);T&&h.Ia.set(y,T.withResumeToken(_.resumeToken,m))}}),p.targetMismatches.forEach((_,y)=>{const T=h.Ia.get(_);if(!T)return;h.Ia.set(_,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),A0(h,_);const b=new Ar(T.target,_,y,T.sequenceNumber);Dm(h,b)}),h.remoteSyncer.applyRemoteEvent(p)}(a,r)}catch(l){ct(wa,"Failed to raise snapshot:",l),await Vc(a,l)}}async function Vc(a,t,r){if(!Fs(t))throw t;a.Ea.add(1),await No(a),a.Ra.set("Offline"),r||(r=()=>_0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(wa,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await Zc(a)})}function b0(a,t){return t().catch(r=>Vc(a,r,t))}async function Jc(a){const t=bt(a),r=Mr(t);let l=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dm;for(;A2(t);)try{const u=await i2(t.localStore,l);if(u===null){t.Ta.length===0&&r.L_();break}l=u.batchId,S2(t,u)}catch(u){await Vc(t,u)}w0(t)&&R0(t)}function A2(a){return Va(a)&&a.Ta.length<10}function S2(a,t){a.Ta.push(t);const r=Mr(a);r.O_()&&r.X_&&r.ea(t.mutations)}function w0(a){return Va(a)&&!Mr(a).x_()&&a.Ta.length>0}function R0(a){Mr(a).start()}async function b2(a){Mr(a).ra()}async function w2(a){const t=Mr(a);for(const r of a.Ta)t.ea(r.mutations)}async function R2(a,t,r){const l=a.Ta.shift(),u=Em.from(l,t,r);await b0(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Jc(a)}async function C2(a,t){t&&Mr(a).X_&&await async function(l,u){if(function(m){return oR(m)&&m!==W.ABORTED}(u.code)){const h=l.Ta.shift();Mr(l).B_(),await b0(l,()=>l.remoteSyncer.rejectFailedWrite(h.batchId,u)),await Jc(l)}}(a,t),w0(a)&&R0(a)}async function pv(a,t){const r=bt(a);r.asyncQueue.verifyOperationInProgress(),ct(wa,"RemoteStore received new credentials");const l=Va(r);r.Ea.add(3),await No(r),l&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Zc(r)}async function D2(a,t){const r=bt(a);t?(r.Ea.delete(2),await Zc(r)):t||(r.Ea.add(2),await No(r),r.Ra.set("Unknown"))}function Gs(a){return a.ma||(a.ma=function(r,l,u){const h=bt(r);return h.sa(),new f2(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Xo:_2.bind(null,a),t_:v2.bind(null,a),r_:E2.bind(null,a),H_:T2.bind(null,a)}),a.da.push(async t=>{t?(a.ma.B_(),Nm(a)?Im(a):a.Ra.set("Unknown")):(await a.ma.stop(),S0(a))})),a.ma}function Mr(a){return a.fa||(a.fa=function(r,l,u){const h=bt(r);return h.sa(),new d2(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:b2.bind(null,a),r_:C2.bind(null,a),ta:w2.bind(null,a),na:R2.bind(null,a)}),a.da.push(async t=>{t?(a.fa.B_(),await Jc(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(wa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,r,l,u,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=l,this.op=u,this.removalCallback=h,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,l,u,h){const m=Date.now()+l,p=new Vm(t,r,m,u,h);return p.start(l),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(a,t){if(Fi("AsyncQueue",`${t}: ${a}`),Fs(a))return new ht(W.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(t){return new Ns(t.comparator)}constructor(t){this.comparator=t?(r,l)=>t(r,l)||pt.comparator(r.key,l.key):(r,l)=>pt.comparator(r.key,l.key),this.keyedMap=ao(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,l)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ns)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),l=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=l.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const l=new Ns;return l.comparator=this.comparator,l.keyedMap=t,l.sortedSet=r,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new se(pt.comparator)}track(t){const r=t.doc.key,l=this.ga.get(r);l?t.type!==0&&l.type===3?this.ga=this.ga.insert(r,t):t.type===3&&l.type!==1?this.ga=this.ga.insert(r,{type:l.type,doc:t.doc}):t.type===2&&l.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&l.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&l.type===0?this.ga=this.ga.remove(r):t.type===1&&l.type===2?this.ga=this.ga.insert(r,{type:1,doc:l.doc}):t.type===0&&l.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:l}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,l)=>{t.push(l)}),t}}class zs{constructor(t,r,l,u,h,m,p,_,y){this.query=t,this.docs=r,this.oldDocs=l,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,r,l,u,h){const m=[];return r.forEach(p=>{m.push({type:0,doc:p})}),new zs(t,r,Ns.emptySet(r),m,l,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,l=t.docChanges;if(r.length!==l.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==l[u].type||!r[u].doc.isEqual(l[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class N2{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,l){const u=bt(r),h=u.queries;u.queries=yv(),h.forEach((m,p)=>{for(const _ of p.Sa)_.onError(l)})})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function yv(){return new Ia(a=>YE(a),Fc)}async function V2(a,t){const r=bt(a);let l=3;const u=t.query;let h=r.queries.get(u);h?!h.ba()&&t.Da()&&(l=2):(h=new I2,l=t.Da()?0:1);try{switch(l){case 0:h.wa=await r.onListen(u,!0);break;case 1:h.wa=await r.onListen(u,!1);break;case 2:await r.onFirstRemoteStoreListen(u)}}catch(m){const p=Om(m,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(p)}r.queries.set(u,h),h.Sa.push(t),t.va(r.onlineState),h.wa&&t.Fa(h.wa)&&Mm(r)}async function O2(a,t){const r=bt(a),l=t.query;let u=3;const h=r.queries.get(l);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?u=t.Da()?0:1:!h.ba()&&t.Da()&&(u=2))}switch(u){case 0:return r.queries.delete(l),r.onUnlisten(l,!0);case 1:return r.queries.delete(l),r.onUnlisten(l,!1);case 2:return r.onLastRemoteStoreUnlisten(l);default:return}}function M2(a,t){const r=bt(a);let l=!1;for(const u of t){const h=u.query,m=r.queries.get(h);if(m){for(const p of m.Sa)p.Fa(u)&&(l=!0);m.wa=u}}l&&Mm(r)}function x2(a,t,r){const l=bt(a),u=l.queries.get(t);if(u)for(const h of u.Sa)h.onError(r);l.queries.delete(t)}function Mm(a){a.Ca.forEach(t=>{t.next()})}var Xd,_v;(_v=Xd||(Xd={})).Ma="default",_v.Cache="cache";class L2{constructor(t,r,l){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=l||{}}Fa(t){if(!this.options.includeMetadataChanges){const l=[];for(const u of t.docChanges)u.type!==3&&l.push(u);t=new zs(t.query,t.docs,t.oldDocs,l,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const l=r!=="Offline";return(!this.options.qa||!l)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=zs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t){this.key=t}}class D0{constructor(t){this.key=t}}class P2{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=KE(t),this.tu=new Ns(this.eu)}get nu(){return this.Ya}ru(t,r){const l=r?r.iu:new gv,u=r?r.tu:this.tu;let h=r?r.mutatedKeys:this.mutatedKeys,m=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,y=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((T,b)=>{const R=u.get(T),j=Gc(this.query,b)?b:null,G=!!R&&this.mutatedKeys.has(R.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Q=!1;R&&j?R.data.isEqual(j.data)?G!==Z&&(l.track({type:3,doc:j}),Q=!0):this.su(R,j)||(l.track({type:2,doc:j}),Q=!0,(_&&this.eu(j,_)>0||y&&this.eu(j,y)<0)&&(p=!0)):!R&&j?(l.track({type:0,doc:j}),Q=!0):R&&!j&&(l.track({type:1,doc:R}),Q=!0,(_||y)&&(p=!0)),Q&&(j?(m=m.add(j),h=Z?h.add(T):h.delete(T)):(m=m.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const T=this.query.limitType==="F"?m.last():m.first();m=m.delete(T.key),h=h.delete(T.key),l.track({type:1,doc:T})}return{tu:m,iu:l,Cs:p,mutatedKeys:h}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,l,u){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort((T,b)=>function(j,G){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:Q})}};return Z(j)-Z(G)}(T.type,b.type)||this.eu(T.doc,b.doc)),this.ou(l),u=u??!1;const p=r&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,y=_!==this.Za;return this.Za=_,m.length!==0||y?{snapshot:new zs(this.query,t.tu,h,m,t.mutatedKeys,_===0,y,!1,!!l&&l.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach(l=>{this.uu(l.key)&&(this.Xa=this.Xa.add(l.key))});const r=[];return t.forEach(l=>{this.Xa.has(l)||r.push(new D0(l))}),this.Xa.forEach(l=>{t.has(l)||r.push(new C0(l))}),r}cu(t){this.Ya=t.Qs,this.Xa=Mt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return zs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class U2{constructor(t,r,l){this.query=t,this.targetId=r,this.view=l}}class k2{constructor(t){this.key=t,this.hu=!1}}class z2{constructor(t,r,l,u,h,m){this.localStore=t,this.remoteStore=r,this.eventManager=l,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Ia(p=>YE(p),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new se(pt.comparator),this.Au=new Map,this.Ru=new Sm,this.Vu={},this.mu=new Map,this.fu=ks.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B2(a,t,r=!0){const l=x0(a);let u;const h=l.Tu.get(t);return h?(l.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await I0(l,t,r,!0),u}async function j2(a,t){const r=x0(a);await I0(r,t,!0,!1)}async function I0(a,t,r,l){const u=await r2(a.localStore,si(t)),h=u.targetId,m=a.sharedClientState.addLocalQueryTarget(h,r);let p;return l&&(p=await q2(a,t,h,m==="current",u.resumeToken)),a.isPrimaryClient&&r&&T0(a.remoteStore,u),p}async function q2(a,t,r,l,u){a.pu=(b,R,j)=>async function(Z,Q,et,ut){let st=Q.view.ru(et);st.Cs&&(st=await cv(Z.localStore,Q.query,!1).then(({documents:O})=>Q.view.ru(O,st)));const wt=ut&&ut.targetChanges.get(Q.targetId),it=ut&&ut.targetMismatches.get(Q.targetId)!=null,At=Q.view.applyChanges(st,Z.isPrimaryClient,wt,it);return Ev(Z,Q.targetId,At.au),At.snapshot}(a,b,R,j);const h=await cv(a.localStore,t,!0),m=new P2(t,h.Qs),p=m.ru(h.documents),_=Io.createSynthesizedTargetChangeForCurrentChange(r,l&&a.onlineState!=="Offline",u),y=m.applyChanges(p,a.isPrimaryClient,_);Ev(a,r,y.au);const T=new U2(t,r,m);return a.Tu.set(t,T),a.Iu.has(r)?a.Iu.get(r).push(t):a.Iu.set(r,[t]),y.snapshot}async function H2(a,t,r){const l=bt(a),u=l.Tu.get(t),h=l.Iu.get(u.targetId);if(h.length>1)return l.Iu.set(u.targetId,h.filter(m=>!Fc(m,t))),void l.Tu.delete(t);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(u.targetId),l.sharedClientState.isActiveQueryTarget(u.targetId)||await Yd(l.localStore,u.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(u.targetId),r&&Cm(l.remoteStore,u.targetId),$d(l,u.targetId)}).catch(Hs)):($d(l,u.targetId),await Yd(l.localStore,u.targetId,!0))}async function F2(a,t){const r=bt(a),l=r.Tu.get(t),u=r.Iu.get(l.targetId);r.isPrimaryClient&&u.length===1&&(r.sharedClientState.removeLocalQueryTarget(l.targetId),Cm(r.remoteStore,l.targetId))}async function G2(a,t,r){const l=J2(a);try{const u=await function(m,p){const _=bt(m),y=ee.now(),T=p.reduce((j,G)=>j.add(G.key),Mt());let b,R;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=Gi(),Z=Mt();return _.Ns.getEntries(j,T).next(Q=>{G=Q,G.forEach((et,ut)=>{ut.isValidDocument()||(Z=Z.add(et))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,G)).next(Q=>{b=Q;const et=[];for(const ut of p){const st=iR(ut,b.get(ut.key).overlayedDocument);st!=null&&et.push(new Na(ut.key,st,kE(st.value.mapValue),li.exists(!0)))}return _.mutationQueue.addMutationBatch(j,y,et,p)}).next(Q=>{R=Q;const et=Q.applyToLocalDocumentSet(b,Z);return _.documentOverlayCache.saveOverlays(j,Q.batchId,et)})}).then(()=>({batchId:R.batchId,changes:$E(b)}))}(l.localStore,t);l.sharedClientState.addPendingMutation(u.batchId),function(m,p,_){let y=m.Vu[m.currentUser.toKey()];y||(y=new se(Ot)),y=y.insert(p,_),m.Vu[m.currentUser.toKey()]=y}(l,u.batchId,r),await Vo(l,u.changes),await Jc(l.remoteStore)}catch(u){const h=Om(u,"Failed to persist write");r.reject(h)}}async function N0(a,t){const r=bt(a);try{const l=await e2(r.localStore,t);t.targetChanges.forEach((u,h)=>{const m=r.Au.get(h);m&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?m.hu=!0:u.modifiedDocuments.size>0?Ht(m.hu,14607):u.removedDocuments.size>0&&(Ht(m.hu,42227),m.hu=!1))}),await Vo(r,l,t)}catch(l){await Hs(l)}}function vv(a,t,r){const l=bt(a);if(l.isPrimaryClient&&r===0||!l.isPrimaryClient&&r===1){const u=[];l.Tu.forEach((h,m)=>{const p=m.view.va(t);p.snapshot&&u.push(p.snapshot)}),function(m,p){const _=bt(m);_.onlineState=p;let y=!1;_.queries.forEach((T,b)=>{for(const R of b.Sa)R.va(p)&&(y=!0)}),y&&Mm(_)}(l.eventManager,t),u.length&&l.Pu.H_(u),l.onlineState=t,l.isPrimaryClient&&l.sharedClientState.setOnlineState(t)}}async function Q2(a,t,r){const l=bt(a);l.sharedClientState.updateQueryState(t,"rejected",r);const u=l.Au.get(t),h=u&&u.key;if(h){let m=new se(pt.comparator);m=m.insert(h,$e.newNoDocument(h,St.min()));const p=Mt().add(h),_=new Xc(St.min(),new Map,new se(Ot),m,p);await N0(l,_),l.du=l.du.remove(h),l.Au.delete(t),Lm(l)}else await Yd(l.localStore,t,!1).then(()=>$d(l,t,r)).catch(Hs)}async function Y2(a,t){const r=bt(a),l=t.batch.batchId;try{const u=await t2(r.localStore,t);O0(r,l,null),V0(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),await Vo(r,u)}catch(u){await Hs(u)}}async function K2(a,t,r){const l=bt(a);try{const u=await function(m,p){const _=bt(m);return _.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next(b=>(Ht(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(y,b))).next(()=>_.mutationQueue.performConsistencyCheck(y)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>_.localDocuments.getDocuments(y,T))})}(l.localStore,t);O0(l,t,r),V0(l,t),l.sharedClientState.updateMutationState(t,"rejected",r),await Vo(l,u)}catch(u){await Hs(u)}}function V0(a,t){(a.mu.get(t)||[]).forEach(r=>{r.resolve()}),a.mu.delete(t)}function O0(a,t,r){const l=bt(a);let u=l.Vu[l.currentUser.toKey()];if(u){const h=u.get(t);h&&(r?h.reject(r):h.resolve(),u=u.remove(t)),l.Vu[l.currentUser.toKey()]=u}}function $d(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const l of a.Iu.get(t))a.Tu.delete(l),r&&a.Pu.yu(l,r);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach(l=>{a.Ru.containsKey(l)||M0(a,l)})}function M0(a,t){a.Eu.delete(t.path.canonicalString());const r=a.du.get(t);r!==null&&(Cm(a.remoteStore,r),a.du=a.du.remove(t),a.Au.delete(r),Lm(a))}function Ev(a,t,r){for(const l of r)l instanceof C0?(a.Ru.addReference(l.key,t),X2(a,l)):l instanceof D0?(ct(xm,"Document no longer in limbo: "+l.key),a.Ru.removeReference(l.key,t),a.Ru.containsKey(l.key)||M0(a,l.key)):vt(19791,{wu:l})}function X2(a,t){const r=t.key,l=r.path.canonicalString();a.du.get(r)||a.Eu.has(l)||(ct(xm,"New document in limbo: "+r),a.Eu.add(l),Lm(a))}function Lm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const r=new pt(te.fromString(t)),l=a.fu.next();a.Au.set(l,new k2(r)),a.du=a.du.insert(r,l),T0(a.remoteStore,new Ar(si(GE(r.path)),l,"TargetPurposeLimboResolution",jc.ce))}}async function Vo(a,t,r){const l=bt(a),u=[],h=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach((p,_)=>{m.push(l.pu(_,t,r).then(y=>{if((y||r)&&l.isPrimaryClient){const T=y?!y.fromCache:r?.targetChanges.get(_.targetId)?.current;l.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){u.push(y);const T=wm.As(_.targetId,y);h.push(T)}}))}),await Promise.all(m),l.Pu.H_(u),await async function(_,y){const T=bt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(y,R=>tt.forEach(R.Es,j=>T.persistence.referenceDelegate.addReference(b,R.targetId,j)).next(()=>tt.forEach(R.ds,j=>T.persistence.referenceDelegate.removeReference(b,R.targetId,j)))))}catch(b){if(!Fs(b))throw b;ct(Rm,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const j=T.Ms.get(R),G=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(R,Z)}}}(l.localStore,h))}async function $2(a,t){const r=bt(a);if(!r.currentUser.isEqual(t)){ct(xm,"User change. New user:",t.toKey());const l=await y0(r.localStore,t);r.currentUser=t,function(h,m){h.mu.forEach(p=>{p.forEach(_=>{_.reject(new ht(W.CANCELLED,m))})}),h.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,l.removedBatchIds,l.addedBatchIds),await Vo(r,l.Ls)}}function Z2(a,t){const r=bt(a),l=r.Au.get(t);if(l&&l.hu)return Mt().add(l.key);{let u=Mt();const h=r.Iu.get(t);if(!h)return u;for(const m of h){const p=r.Tu.get(m);u=u.unionWith(p.view.nu)}return u}}function x0(a){const t=bt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=N0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,t),t.Pu.H_=M2.bind(null,t.eventManager),t.Pu.yu=x2.bind(null,t.eventManager),t}function J2(a){const t=bt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Y2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=K2.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return WR(this.persistence,new $R,t.initialUser,this.serializer)}Cu(t){return new g0(bm.mi,this.serializer)}Du(t){return new s2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class W2 extends Oc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Ht(this.persistence.referenceDelegate instanceof Nc,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new LR(l,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new g0(l=>Nc.mi(l,r),this.serializer)}}class Zd{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>vv(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await D2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N2}()}createDatastore(t){const r=$c(t.databaseInfo.databaseId),l=function(h){return new h2(h)}(t.databaseInfo);return function(h,m,p,_){return new p2(h,m,p,_)}(t.authCredentials,t.appCheckCredentials,l,r)}createRemoteStore(t){return function(l,u,h,m,p){return new y2(l,u,h,m,p)}(this.localStore,this.datastore,t.asyncQueue,r=>vv(this.syncEngine,r,0),function(){return dv.v()?new dv:new l2}())}createSyncEngine(t,r){return function(u,h,m,p,_,y,T){const b=new z2(u,h,m,p,_,y);return T&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await async function(r){const l=bt(r);ct(wa,"RemoteStore shutting down."),l.Ea.add(5),await No(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class eC{constructor(t,r,l,u,h){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=l,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,async m=>{ct(xr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(l,m=>(ct(xr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const l=Om(r,"Failed to shutdown persistence");t.reject(l)}}),t.promise}}async function Sd(a,t){a.asyncQueue.verifyOperationInProgress(),ct(xr,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let l=r.initialUser;a.setCredentialChangeListener(async u=>{l.isEqual(u)||(await y0(t.localStore,u),l=u)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Tv(a,t){a.asyncQueue.verifyOperationInProgress();const r=await nC(a);ct(xr,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener(l=>pv(t.remoteStore,l)),a.setAppCheckTokenChangeListener((l,u)=>pv(t.remoteStore,u)),a._onlineComponents=t}async function nC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(xr,"Using user provided OfflineComponentProvider");try{await Sd(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(r))throw r;Ms("Error using user provided cache. Falling back to memory cache: "+r),await Sd(a,new Oc)}}else ct(xr,"Using default OfflineComponentProvider"),await Sd(a,new W2(void 0));return a._offlineComponents}async function L0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(xr,"Using user provided OnlineComponentProvider"),await Tv(a,a._uninitializedComponentsProvider._online)):(ct(xr,"Using default OnlineComponentProvider"),await Tv(a,new Zd))),a._onlineComponents}function iC(a){return L0(a).then(t=>t.syncEngine)}async function rC(a){const t=await L0(a),r=t.eventManager;return r.onListen=B2.bind(null,t.syncEngine),r.onUnlisten=H2.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=j2.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=F2.bind(null,t.syncEngine),r}function aC(a,t,r={}){const l=new Rr;return a.asyncQueue.enqueueAndForget(async()=>function(h,m,p,_,y){const T=new tC({next:R=>{T.Nu(),m.enqueueAndForget(()=>O2(h,b)),R.fromCache&&_.source==="server"?y.reject(new ht(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new L2(p,T,{includeMetadataChanges:!0,qa:!0});return V2(h,b)}(await rC(a),a.asyncQueue,t,r,l)),l.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firestore.googleapis.com",Sv=!0;class bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U0,this.ssl=Sv}else this.host=t.host,this.ssl=t.ssl??Sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MR)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P0(t.experimentalLongPollingOptions??{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(l,u){return l.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wc{constructor(t,r,l,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(l){if(!l)return new lw;switch(l.type){case"firstParty":return new hw(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const l=Av.get(r);l&&(ct("ComponentProvider","Removing Datastore"),Av.delete(r),l.terminate())}(this),Promise.resolve()}}function sC(a,t,r,l={}){a=Ls(a,Wc);const u=om(t),h=a._getSettings(),m={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${r}`;u&&(LS(`https://${p}`),zS("Firestore",!0)),h.host!==U0&&h.host!==p&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:u,emulatorOptions:l};if(!po(_,m)&&(a._setSettings(_),l.mockUserToken)){let y,T;if(typeof l.mockUserToken=="string")y=l.mockUserToken,T=Xe.MOCK_USER;else{y=PS(l.mockUserToken,a._app?.options.projectId);const b=l.mockUserToken.sub||l.mockUserToken.user_id;if(!b)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xe(b)}a._authCredentials=new ow(new RE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class Ce{constructor(t,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,l){if(Co(r,Ce._jsonSchema))return new Ce(t,l||null,new pt(te.fromString(r.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Te("string",Ce._jsonSchemaVersion),referencePath:Te("string")};class Cr extends Qs{constructor(t,r,l){super(t,r,GE(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new pt(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Mc(a,t,...r){if(a=zn(a),CE("collection","path",t),a instanceof Wc){const l=te.fromString(t,...r);return U_(l),new Cr(a,null,l)}{if(!(a instanceof Ce||a instanceof Cr))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(te.fromString(t,...r));return U_(l),new Cr(a.firestore,null,l)}}function wv(a,t,...r){if(a=zn(a),arguments.length===1&&(t=fm.newId()),CE("doc","path",t),a instanceof Wc){const l=te.fromString(t,...r);return P_(l),new Ce(a,null,new pt(l))}{if(!(a instanceof Ce||a instanceof Cr))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(te.fromString(t,...r));return P_(l),new Ce(a.firestore,a instanceof Cr?a.converter:null,new pt(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class Cv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v0(this,"async_queue_retry"),this._c=()=>{const l=Ad();l&&ct(Rv,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=t;const r=Ad();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=Ad();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fs(t))throw t;ct(Rv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(l=>{throw this.nc=l,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",Dv(l)),l}).then(l=>(this.rc=!1,l))));return this.ac=r,r}enqueueAfterDelay(t,r,l){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const u=Vm.createAndSchedule(this,t,r,l,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&vt(47125,{Pc:Dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,l)=>r.targetTimeMs-l.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Dv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class th extends Wc{constructor(t,r,l,u){super(t,r,l,u),this.type="firestore",this._queue=new Cv,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cv(t),this._firestoreClient=void 0,await t}}}function lC(a,t){const r=typeof a=="object"?a:gE(),l=typeof a=="string"?a:Sc,u=Ro(r,"firestore").getImmediate({identifier:l});if(!u._initialized){const h=MS("firestore");h&&sC(u,...h)}return u}function k0(a){if(a._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||oC(a),a._firestoreClient}function oC(a){const t=a._freezeSettings(),r=function(u,h,m,p){return new Dw(u,h,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,P0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new eC(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Fe.fromBase64String(t))}catch(r){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Vn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Co(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Te("string",Vn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Co(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Te("string",ui._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(l,u){if(l.length!==u.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==u[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Co(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new ci(t.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Te("string",ci._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^__.*__$/;class z0{constructor(t,r,l){this.data=t,this.fieldMask=r,this.fieldTransforms=l}toMutation(t,r){return new Na(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function B0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:a})}}class Um{constructor(t,r,l,u,h,m){this.settings=t,this.databaseId=r,this.serializer=l,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),l=this.Vc({path:r,fc:!1});return l.gc(t),l}yc(t){const r=this.path?.child(t),l=this.Vc({path:r,fc:!1});return l.Rc(),l}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(B0(this.Ac)&&uC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cC{constructor(t,r,l){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=l||$c(t)}Cc(t,r,l,u=!1){return new Um({Ac:t,methodName:r,Dc:l,path:He.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j0(a){const t=a._freezeSettings(),r=$c(a._databaseId);return new cC(a._databaseId,!!t.ignoreUndefinedProperties,r)}class nh extends Pm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nh}}function hC(a,t,r,l){const u=a.Cc(1,t,r);H0("Data must be an object, but it was:",u,l);const h=[],m=gn.empty();Pr(l,(_,y)=>{const T=km(t,_,r);y=zn(y);const b=u.yc(T);if(y instanceof nh)h.push(T);else{const R=Oo(y,b);R!=null&&(h.push(T),m.set(T,R))}});const p=new kn(h);return new z0(m,p,u.fieldTransforms)}function fC(a,t,r,l,u,h){const m=a.Cc(1,t,r),p=[Iv(t,l,r)],_=[u];if(h.length%2!=0)throw new ht(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)p.push(Iv(t,h[R])),_.push(h[R+1]);const y=[],T=gn.empty();for(let R=p.length-1;R>=0;--R)if(!gC(y,p[R])){const j=p[R];let G=_[R];G=zn(G);const Z=m.yc(j);if(G instanceof nh)y.push(j);else{const Q=Oo(G,Z);Q!=null&&(y.push(j),T.set(j,Q))}}const b=new kn(y);return new z0(T,b,m.fieldTransforms)}function dC(a,t,r,l=!1){return Oo(r,a.Cc(l?4:3,t))}function Oo(a,t){if(q0(a=zn(a)))return H0("Unsupported field value:",t,a),mC(a,t);if(a instanceof Pm)return function(l,u){if(!B0(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(l,u){const h=[];let m=0;for(const p of l){let _=Oo(p,u.wc(m));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),m++}return{arrayValue:{values:h}}}(a,t)}return function(l,u){if((l=zn(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return Zw(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=ee.fromDate(l);return{timestampValue:Ic(u.serializer,h)}}if(l instanceof ee){const h=new ee(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Ic(u.serializer,h)}}if(l instanceof ui)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Vn)return{bytesValue:o0(u.serializer,l._byteString)};if(l instanceof Ce){const h=u.databaseId,m=l.firestore._databaseId;if(!m.isEqual(h))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Am(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof ci)return function(m,p){return{mapValue:{fields:{[PE]:{stringValue:UE},[bc]:{arrayValue:{values:m.toArray().map(y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return _m(p.serializer,y)})}}}}}}(l,u);throw u.Sc(`Unsupported field value: ${Bc(l)}`)}(a,t)}function mC(a,t){const r={};return NE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(a,(l,u)=>{const h=Oo(u,t.mc(l));h!=null&&(r[l]=h)}),{mapValue:{fields:r}}}function q0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof ui||a instanceof Vn||a instanceof Ce||a instanceof Pm||a instanceof ci)}function H0(a,t,r){if(!q0(r)||!DE(r)){const l=Bc(r);throw l==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+l)}}function Iv(a,t,r){if((t=zn(t))instanceof eh)return t._internalPath;if(typeof t=="string")return km(a,t);throw xc("Field path arguments must be of type string or ",a,!1,void 0,r)}const pC=new RegExp("[~\\*/\\[\\]]");function km(a,t,r){if(t.search(pC)>=0)throw xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new eh(...t.split("."))._internalPath}catch{throw xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function xc(a,t,r,l,u){const h=l&&!l.isEmpty(),m=u!==void 0;let p=`Function ${t}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||m)&&(_+=" (found",h&&(_+=` in field ${l}`),m&&(_+=` in document ${u}`),_+=")"),new ht(W.INVALID_ARGUMENT,p+a+_)}function gC(a,t){return a.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r,l,u,h){this._firestore=t,this._userDataWriter=r,this._key=l,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class yC extends F0{data(){return super.data()}}function zm(a,t){return typeof t=="string"?km(a,t):t instanceof eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ht(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class vC extends Bm{}function EC(a,t,...r){let l=[];t instanceof Bm&&l.push(t),l=l.concat(r),function(h){const m=h.filter(_=>_ instanceof jm).length,p=h.filter(_=>_ instanceof ih).length;if(m>1||m>0&&p>0)throw new ht(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const u of l)a=u._apply(a);return a}class ih extends vC{constructor(t,r,l){super(),this._field=t,this._op=r,this._value=l,this.type="where"}static _create(t,r,l){return new ih(t,r,l)}_apply(t){const r=this._parse(t);return G0(t._query,r),new Qs(t.firestore,t.converter,jd(t._query,r))}_parse(t){const r=j0(t.firestore);return function(h,m,p,_,y,T,b){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ht(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ov(b,T);const G=[];for(const Z of b)G.push(Vv(_,h,Z));R={arrayValue:{values:G}}}else R=Vv(_,h,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ov(b,T),R=dC(p,m,b,T==="in"||T==="not-in");return Ee.create(y,T,R)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Nv(a,t,r){const l=t,u=zm("where",a);return ih._create(u,l,r)}class jm extends Bm{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new jm(t,r)}_parse(t){const r=this._queryConstraints.map(l=>l._parse(t)).filter(l=>l.getFilters().length>0);return r.length===1?r[0]:Bn.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(u,h){let m=u;const p=h.getFlattenedFilters();for(const _ of p)G0(m,_),m=jd(m,_)}(t._query,r),new Qs(t.firestore,t.converter,jd(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(a,t,r){if(typeof(r=zn(r))=="string"){if(r==="")throw new ht(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(t)&&r.indexOf("/")!==-1)throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const l=t.path.child(te.fromString(r));if(!pt.isDocumentKey(l))throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return G_(a,new pt(l))}if(r instanceof Ce)return G_(a,r._key);throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(r)}.`)}function Ov(a,t){if(!Array.isArray(a)||a.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function G0(a,t){const r=function(u,h){for(const m of u)for(const p of m.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new ht(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class TC{convertValue(t,r="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const l={};return Pr(t,(u,h)=>{l[u]=this.convertValue(h,r)}),l}convertVectorValue(t){const r=t.fields?.[bc].arrayValue?.values?.map(l=>me(l.doubleValue));return new ci(r)}convertGeoPoint(t){return new ui(me(t.latitude),me(t.longitude))}convertArray(t,r){return(t.values||[]).map(l=>this.convertValue(l,r))}convertServerTimestamp(t,r){switch(r){case"previous":const l=Hc(t);return l==null?null:this.convertValue(l,r);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const r=Nr(t);return new ee(r.seconds,r.nanos)}convertDocumentKey(t,r){const l=te.fromString(t);Ht(m0(l),9688,{name:t});const u=new vo(l.get(1),l.get(3)),h=new pt(l.popFirst(5));return u.isEqual(r)||Fi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}class uc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends F0{constructor(t,r,l,u,h,m){super(t,r,l,u,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const l=this._document.data.field(zm("DocumentSnapshot.get",t));if(l!==null)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Vs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Te("string",Vs._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class _c extends Vs{data(t={}){return super.data(t)}}class Os{constructor(t,r,l,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new uc(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(l=>{t.call(r,new _c(this._firestore,this._userDataWriter,l.key,l,new uc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(p=>{const _=new _c(u._firestore,u._userDataWriter,p.doc.key,p.doc,new uc(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:m++}})}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new _c(u._firestore,u._userDataWriter,p.doc.key,p.doc,new uc(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let y=-1,T=-1;return p.type!==0&&(y=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),T=m.indexOf(p.doc.key)),{type:AC(p.type),doc:_,oldIndex:y,newIndex:T}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Os._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],l=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(r.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}Os._jsonSchemaVersion="firestore/querySnapshot/1.0",Os._jsonSchema={type:Te("string",Os._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class SC extends TC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,r)}}function qm(a){a=Ls(a,Qs);const t=Ls(a.firestore,th),r=k0(t),l=new SC(t);return _C(a._query),aC(r,a._query).then(u=>new Os(t,l,a,u))}function bC(a,t,r,...l){a=Ls(a,Ce);const u=Ls(a.firestore,th),h=j0(u);let m;return m=typeof(t=zn(t))=="string"||t instanceof eh?fC(h,"updateDoc",a._key,t,r,l):hC(h,"updateDoc",a._key,t),Q0(u,[m.toMutation(a._key,li.exists(!0))])}function wC(a){return Q0(Ls(a.firestore,th),[new vm(a._key,li.none())])}function Q0(a,t){return function(l,u){const h=new Rr;return l.asyncQueue.enqueueAndForget(async()=>G2(await iC(l),u,h)),h.promise}(k0(a),t)}(function(t,r=!0){(function(u){qs=u})($b),Dr(new qi("firestore",(l,{instanceIdentifier:u,options:h})=>{const m=l.getProvider("app").getImmediate(),p=new th(new uw(l.getProvider("auth-internal")),new fw(m,l.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(y.options.projectId,T)}(m,u),m);return h={useFetchStreams:r,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ai(O_,M_,t),ai(O_,M_,"esm2020")})();const Y0="@firebase/installations",Hm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=1e4,X0=`w:${Hm}`,$0="FIS_v2",RC="https://firebaseinstallations.googleapis.com/v1",CC=3600*1e3,DC="installations",IC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new zc(DC,IC,NC);function Z0(a){return a instanceof Lr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0({projectId:a}){return`${RC}/projects/${a}/installations`}function W0(a){return{token:a.token,requestStatus:2,expiresIn:OC(a.expiresIn),creationTime:Date.now()}}async function tT(a,t){const l=(await t.json()).error;return Ra.create("request-failed",{requestName:a,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function eT({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function VC(a,{refreshToken:t}){const r=eT(a);return r.append("Authorization",MC(t)),r}async function nT(a){const t=await a();return t.status>=500&&t.status<600?a():t}function OC(a){return Number(a.replace("s","000"))}function MC(a){return`${$0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC({appConfig:a,heartbeatServiceProvider:t},{fid:r}){const l=J0(a),u=eT(a),h=t.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&u.append("x-firebase-client",y)}const m={fid:r,authVersion:$0,appId:a.appId,sdkVersion:X0},p={method:"POST",headers:u,body:JSON.stringify(m)},_=await nT(()=>fetch(l,p));if(_.ok){const y=await _.json();return{fid:y.fid||r,registrationStatus:2,refreshToken:y.refreshToken,authToken:W0(y.authToken)}}else throw await tT("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(a){return new Promise(t=>{setTimeout(t,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^[cdef][\w-]{21}$/,Jd="";function UC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const r=kC(a);return PC.test(r)?r:Jd}catch{return Jd}}function kC(a){return LC(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function aT(a,t){const r=rh(a);sT(r,t),zC(r,t)}function sT(a,t){const r=rT.get(a);if(r)for(const l of r)l(t)}function zC(a,t){const r=BC();r&&r.postMessage({key:a,fid:t}),jC()}let Aa=null;function BC(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=a=>{sT(a.data.key,a.data.fid)}),Aa}function jC(){rT.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firebase-installations-database",HC=1,Ca="firebase-installations-store";let bd=null;function Fm(){return bd||(bd=mE(qC,HC,{upgrade:(a,t)=>{switch(t){case 0:a.createObjectStore(Ca)}}})),bd}async function Lc(a,t){const r=rh(a),u=(await Fm()).transaction(Ca,"readwrite"),h=u.objectStore(Ca),m=await h.get(r);return await h.put(t,r),await u.done,(!m||m.fid!==t.fid)&&aT(a,t.fid),t}async function lT(a){const t=rh(a),l=(await Fm()).transaction(Ca,"readwrite");await l.objectStore(Ca).delete(t),await l.done}async function ah(a,t){const r=rh(a),u=(await Fm()).transaction(Ca,"readwrite"),h=u.objectStore(Ca),m=await h.get(r),p=t(m);return p===void 0?await h.delete(r):await h.put(p,r),await u.done,p&&(!m||m.fid!==p.fid)&&aT(a,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(a){let t;const r=await ah(a.appConfig,l=>{const u=FC(l),h=GC(a,u);return t=h.registrationPromise,h.installationEntry});return r.fid===Jd?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function FC(a){const t=a||{fid:UC(),registrationStatus:0};return oT(t)}function GC(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Ra.create("app-offline"));return{installationEntry:t,registrationPromise:u}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},l=QC(a,r);return{installationEntry:r,registrationPromise:l}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YC(a)}:{installationEntry:t}}async function QC(a,t){try{const r=await xC(a,t);return Lc(a.appConfig,r)}catch(r){throw Z0(r)&&r.customData.serverCode===409?await lT(a.appConfig):await Lc(a.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function YC(a){let t=await Mv(a.appConfig);for(;t.registrationStatus===1;)await iT(100),t=await Mv(a.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:l}=await Gm(a);return l||r}return t}function Mv(a){return ah(a,t=>{if(!t)throw Ra.create("installation-not-found");return oT(t)})}function oT(a){return KC(a)?{fid:a.fid,registrationStatus:0}:a}function KC(a){return a.registrationStatus===1&&a.registrationTime+K0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC({appConfig:a,heartbeatServiceProvider:t},r){const l=$C(a,r),u=VC(a,r),h=t.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&u.append("x-firebase-client",y)}const m={installation:{sdkVersion:X0,appId:a.appId}},p={method:"POST",headers:u,body:JSON.stringify(m)},_=await nT(()=>fetch(l,p));if(_.ok){const y=await _.json();return W0(y)}else throw await tT("Generate Auth Token",_)}function $C(a,{fid:t}){return`${J0(a)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(a,t=!1){let r;const l=await ah(a.appConfig,h=>{if(!uT(h))throw Ra.create("not-registered");const m=h.authToken;if(!t&&WC(m))return h;if(m.requestStatus===1)return r=ZC(a,t),h;{if(!navigator.onLine)throw Ra.create("app-offline");const p=eD(h);return r=JC(a,p),p}});return r?await r:l.authToken}async function ZC(a,t){let r=await xv(a.appConfig);for(;r.authToken.requestStatus===1;)await iT(100),r=await xv(a.appConfig);const l=r.authToken;return l.requestStatus===0?Qm(a,t):l}function xv(a){return ah(a,t=>{if(!uT(t))throw Ra.create("not-registered");const r=t.authToken;return nD(r)?{...t,authToken:{requestStatus:0}}:t})}async function JC(a,t){try{const r=await XC(a,t),l={...t,authToken:r};return await Lc(a.appConfig,l),r}catch(r){if(Z0(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await lT(a.appConfig);else{const l={...t,authToken:{requestStatus:0}};await Lc(a.appConfig,l)}throw r}}function uT(a){return a!==void 0&&a.registrationStatus===2}function WC(a){return a.requestStatus===2&&!tD(a)}function tD(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+CC}function eD(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function nD(a){return a.requestStatus===1&&a.requestTime+K0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(a){const t=a,{installationEntry:r,registrationPromise:l}=await Gm(t);return l?l.catch(console.error):Qm(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(a,t=!1){const r=a;return await aD(r),(await Qm(r,t)).token}async function aD(a){const{registrationPromise:t}=await Gm(a);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(a){if(!a||!a.options)throw wd("App Configuration");if(!a.name)throw wd("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!a.options[r])throw wd(r);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function wd(a){return Ra.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="installations",lD="installations-internal",oD=a=>{const t=a.getProvider("app").getImmediate(),r=sD(t),l=Ro(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},uD=a=>{const t=a.getProvider("app").getImmediate(),r=Ro(t,cT).getImmediate();return{getId:()=>iD(r),getToken:u=>rD(r,u)}};function cD(){Dr(new qi(cT,oD,"PUBLIC")),Dr(new qi(lD,uD,"PRIVATE"))}cD();ai(Y0,Hm);ai(Y0,Hm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="analytics",hD="firebase_id",fD="origin",dD=60*1e3,mD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ym="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new um("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new zc("analytics","Analytics",pD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(a){if(!a.startsWith(Ym)){const t=yn.create("invalid-gtag-resource",{gtagURL:a});return sn.warn(t.message),""}return a}function hT(a){return Promise.all(a.map(t=>t.catch(r=>r)))}function yD(a,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(a,t)),r}function _D(a,t){const r=yD("firebase-js-sdk-policy",{createScriptURL:gD}),l=document.createElement("script"),u=`${Ym}?l=${a}&id=${t}`;l.src=r?r?.createScriptURL(u):u,l.async=!0,document.head.appendChild(l)}function vD(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function ED(a,t,r,l,u,h){const m=l[u];try{if(m)await t[m];else{const _=(await hT(r)).find(y=>y.measurementId===u);_&&await t[_.appId]}}catch(p){sn.error(p)}a("config",u,h)}async function TD(a,t,r,l,u){try{let h=[];if(u&&u.send_to){let m=u.send_to;Array.isArray(m)||(m=[m]);const p=await hT(r);for(const _ of m){const y=p.find(b=>b.measurementId===_),T=y&&t[y.appId];if(T)h.push(T);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),a("event",l,u||{})}catch(h){sn.error(h)}}function AD(a,t,r,l){async function u(h,...m){try{if(h==="event"){const[p,_]=m;await TD(a,t,r,p,_)}else if(h==="config"){const[p,_]=m;await ED(a,t,r,l,p,_)}else if(h==="consent"){const[p,_]=m;a("consent",p,_)}else if(h==="get"){const[p,_,y]=m;a("get",p,_,y)}else if(h==="set"){const[p]=m;a("set",p)}else a(h,...m)}catch(p){sn.error(p)}}return u}function SD(a,t,r,l,u){let h=function(...m){window[l].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=AD(h,a,t,r),{gtagCore:h,wrappedGtag:window[u]}}function bD(a){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Ym)&&r.src.includes(a))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=30,RD=1e3;class CD{constructor(t={},r=RD){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const fT=new CD;function DD(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function ID(a){const{appId:t,apiKey:r}=a,l={method:"GET",headers:DD(r)},u=mD.replace("{app-id}",t),h=await fetch(u,l);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();p.error?.message&&(m=p.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function ND(a,t=fT,r){const{appId:l,apiKey:u,measurementId:h}=a.options;if(!l)throw yn.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:l};throw yn.create("no-api-key")}const m=t.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new MD;return setTimeout(async()=>{p.abort()},dD),dT({appId:l,apiKey:u,measurementId:h},m,p,t)}async function dT(a,{throttleEndTimeMillis:t,backoffCount:r},l,u=fT){const{appId:h,measurementId:m}=a;try{await VD(l,t)}catch(p){if(m)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:m};throw p}try{const p=await ID(a);return u.deleteThrottleMetadata(h),p}catch(p){const _=p;if(!OD(_)){if(u.deleteThrottleMetadata(h),m)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:h,measurementId:m};throw p}const y=Number(_?.customData?.httpStatus)===503?A_(r,u.intervalMillis,wD):A_(r,u.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:r+1};return u.setThrottleMetadata(h,T),sn.debug(`Calling attemptFetch again in ${y} millis`),dT(a,T,l,u)}}function VD(a,t){return new Promise((r,l)=>{const u=Math.max(t-Date.now(),0),h=setTimeout(r,u);a.addEventListener(()=>{clearTimeout(h),l(yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function OD(a){if(!(a instanceof Lr)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class MD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function xD(a,t,r,l,u){if(u&&u.global){a("event",r,l);return}else{const h=await t,m={...l,send_to:h};a("event",r,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(){if(cE())try{await hE()}catch(a){return sn.warn(yn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return sn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PD(a,t,r,l,u,h,m){const p=ND(a);p.then(R=>{r[R.measurementId]=R.appId,a.options.measurementId&&R.measurementId!==a.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>sn.error(R)),t.push(p);const _=LD().then(R=>{if(R)return l.getId()}),[y,T]=await Promise.all([p,_]);bD(h)||_D(h,y.measurementId),u("js",new Date);const b=m?.config??{};return b[fD]="firebase",b.update=!0,T!=null&&(b[hD]=T),u("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.app=t}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},Lv=[];const Pv={};let Rd="dataLayer",kD="gtag",Uv,mT,kv=!1;function zD(){const a=[];if(qS()&&a.push("This is a browser extension environment."),FS()||a.push("Cookies are not available."),a.length>0){const t=a.map((l,u)=>`(${u+1}) ${l}`).join(" "),r=yn.create("invalid-analytics-context",{errorInfo:t});sn.warn(r.message)}}function BD(a,t,r){zD();const l=a.options.appId;if(!l)throw yn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(fo[l]!=null)throw yn.create("already-exists",{id:l});if(!kv){vD(Rd);const{wrappedGtag:h,gtagCore:m}=SD(fo,Lv,Pv,Rd,kD);mT=h,Uv=m,kv=!0}return fo[l]=PD(a,Lv,Pv,t,Uv,Rd,r),new UD(a)}function jD(a=gE()){a=zn(a);const t=Ro(a,Pc);return t.isInitialized()?t.getImmediate():qD(a)}function qD(a,t={}){const r=Ro(a,Pc);if(r.isInitialized()){const u=r.getImmediate();if(po(t,r.getOptions()))return u;throw yn.create("already-initialized")}return r.initialize({options:t})}function Sa(a,t,r,l){a=zn(a),xD(mT,fo[a.app.options.appId],t,r,l).catch(u=>sn.error(u))}const zv="@firebase/analytics",Bv="0.10.18";function HD(){Dr(new qi(Pc,(t,{options:r})=>{const l=t.getProvider("app").getImmediate(),u=t.getProvider("installations-internal").getImmediate();return BD(l,u,r)},"PUBLIC")),Dr(new qi("analytics-internal",a,"PRIVATE")),ai(zv,Bv),ai(zv,Bv,"esm2020");function a(t){try{const r=t.getProvider(Pc).getImmediate();return{logEvent:(l,u,h)=>Sa(r,l,u,h)}}catch(r){throw yn.create("interop-component-reg-failed",{reason:r})}}}HD();var FD="firebase",GD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(FD,GD,"app");const QD={apiKey:"AIzaSyDj35PuVMMVx71Adw0BOiiKQhlyP1yHKuo",authDomain:"affidavit-23b0b.firebaseapp.com",projectId:"affidavit-23b0b",storageBucket:"affidavit-23b0b.firebasestorage.app",messagingSenderId:"548679086579",appId:"1:548679086579:web:a1a8c0de6f80565cfee286",measurementId:"G-EM21GWXV65"},pT=pE(QD),Ds=lC(pT),Is=jD(pT),gT=({isOpen:a,onClose:t,children:r})=>{if(!a)return null;const l=u=>{u.target===u.currentTarget&&t()};return H.jsx("div",{className:"modal-backdrop",onClick:l,children:H.jsx("div",{className:"modal-content",children:r})})},YD=({modalOpen:a,closeModal:t,handleAddProduct:r,addProduct:l,data:u})=>{const[h,m]=Y.useState({name:"",description:"",link:"",timestamp:"",category:""});Y.useEffect(()=>{m(u||{name:"",description:"",link:"",timestamp:"",image:"",category:""})},[u]);const p=_=>{const{name:y,value:T}=_.target;m(b=>({...b,[y]:T}))};return H.jsxs(gT,{isOpen:a,onClose:t,children:[H.jsx("h2",{children:h?.id?"Edit Product":"Add New Product"}),H.jsxs("form",{className:"add-product-form",onSubmit:_=>_?.preventDefault()&&r(h),noValidate:!0,children:[H.jsx("input",{type:"text",name:"name",placeholder:"Product Name *",value:h.name,onChange:p,required:!0,autoFocus:!0}),H.jsx("textarea",{name:"description",placeholder:"Description",value:h.description,onChange:p}),H.jsx("input",{type:"url",name:"link",placeholder:"Product Link *",value:h.link,onChange:p,required:!0}),H.jsx("input",{type:"url",name:"image",placeholder:"Image Link *",value:h.image,onChange:p,required:!0}),H.jsxs("select",{name:"category",value:h.category,onChange:p,required:!0,children:[H.jsx("option",{value:"",children:"Select Product Type *"}),H.jsx("option",{value:"Electronics",children:"Electronics"}),H.jsx("option",{value:"Home & Kitchen",children:"Home & Kitchen"}),H.jsx("option",{value:"Furniture",children:"Furniture"}),H.jsx("option",{value:"Sports & Fitness",children:"Sports & Fitness"}),H.jsx("option",{value:"Other",children:"Other"})]}),H.jsxs("div",{className:"modal-buttons",children:[H.jsx("button",{type:"submit",className:"submit-btn",onClick:()=>l(h),children:h?.id?"Save Product":"Add Product"}),H.jsx("button",{type:"button",className:"cancel-btn",onClick:t,children:"Cancel"})]})]})]})},KD=({isOpen:a,onClose:t,onConfirm:r,itemName:l="this item"})=>H.jsx(gT,{isOpen:a,onClose:t,children:H.jsxs("div",{className:"delete-modal",children:[H.jsx("h2",{children:"Confirm Deletion"}),H.jsxs("p",{children:["Are you sure you want to delete ",H.jsx("strong",{children:l}),"?"]}),H.jsxs("div",{className:"delete-modal__buttons",children:[H.jsx("button",{className:"btn cancel",onClick:t,children:"Cancel"}),H.jsx("button",{className:"btn confirm",onClick:r,children:"Delete"})]})]})}),XD=()=>{const[a,t]=Y.useState([]),[r,l]=Y.useState(""),[u,h]=Y.useState("All"),m=a.filter(it=>{const At=it.name?.toLowerCase().includes(r?.toLowerCase())||it.description?.toLowerCase().includes(r?.toLowerCase()),O=u==="All"||it.category===u;return At&&O}),p=["All",...new Set(a.map(it=>it.category))],[_,y]=Y.useState(!1),[T,b]=Y.useState(),[R,j]=Y.useState(!1);Y.useEffect(()=>{G(),Sa(Is,"page_view",{page:"Admin Page"})},[]);const G=async()=>{try{const it=Mc(Ds,"products"),O=(await qm(it)).docs.map(w=>({id:w.id,...w.data()}));t(O)}catch(it){console.error("Error fetching products:",it)}},Z=()=>{b(),y(!0)},Q=it=>{if(e.preventDefault(),!it.name.trim()||!it.link.trim()|!it.category.trim()||!it.image.trim()){alert("Please enter mandatory fields");return}const At={id:a.length+1,...it};t(O=>[...O,At]),closeModal()},et=async it=>{try{if(!it.name.trim()||!it.link.trim()|!it.category.trim()||!it.image.trim()){alert("Please enter mandatory fields");return}if(it?.id){const At=wv(Ds,"products",it?.id);await bC(At,{...it,timestamp:new Date}),b(),Sa(Is,"user-action",{action:"Edit Product"})}else{const At=await addDoc(Mc(Ds,"products"),{...it,timestamp:new Date});Sa(Is,"user-action",{action:"Add Product"})}y(!1),await G()}catch(At){console.error("Error adding product: ",At)}},ut=it=>{b(it),y(!0)},st=it=>{j(!0),b(it)},wt=async()=>{const it=wv(Ds,"products",T?.id);await wC(it),j(!1),await G(),Sa(Is,"user-action",{action:"Delete Product"})};return H.jsxs("div",{children:[H.jsx(YD,{modalOpen:_,data:T,closeModal:()=>y(!1),handleAddProduct:Q,addProduct:et}),H.jsx(KD,{isOpen:R,onClose:()=>j(!1),onConfirm:wt,itemName:T?.name}),H.jsxs("div",{className:"app-container",children:[H.jsx(aE,{isAdmin:!0,addProductEvent:Z}),H.jsx(sE,{isAdmin:!0,products:m,searchTerm:r,setSearchTerm:l,categories:p,activeCategory:u,setActiveCategory:h,deleteEvent:it=>st(it),editEvent:it=>ut(it)}),H.jsx(qv,{})]})]})},$D=()=>{const[a,t]=Y.useState([]),[r,l]=Y.useState(""),[u,h]=Y.useState("All"),m=a.filter(y=>{const T=y.name?.toLowerCase().includes(r?.toLowerCase())||y.description?.toLowerCase().includes(r?.toLowerCase()),b=u==="All"||y.category===u;return T&&b}),p=["All",...new Set(a.map(y=>y.category))];Y.useEffect(()=>{_(),Sa(Is,"page_view",{page:"User Page"})},[]);const _=async()=>{try{const y=Mc(Ds,"products"),b=(await qm(y)).docs.map(R=>({id:R.id,...R.data()}));t(b)}catch(y){console.error("Error fetching products:",y)}};return H.jsx("div",{children:H.jsxs("div",{className:"app-container",children:[H.jsx(aE,{isAdmin:!1}),H.jsx(sE,{products:m,searchTerm:r,setSearchTerm:l,categories:p,activeCategory:u,setActiveCategory:h}),H.jsx(qv,{})]})})},ZD=async(a,t)=>{const r=Mc(Ds,"users"),l=EC(r,Nv("username","==",a),Nv("password","==",t)),u=await qm(l);if(u.empty)throw new Error("Invalid username or password");{const h=u.docs[0];return{uid:h.id,...h.data()}}},JD=()=>{const[a,t]=Y.useState(""),[r,l]=Y.useState(""),u=em(),h=async m=>{try{if(!a.trim()||!r){alert("Please enter both username and password");return}Sa(Is,"user-action",{action:"Login",time:new Date});const p=await ZD(a.trim(),r);u("/admin")}catch(p){console.log(p),alert("Login failed")}};return H.jsxs("div",{className:"admin-login-page",children:[H.jsx("header",{className:"admin-login-header",children:"🔒 Admin Login"}),H.jsxs("form",{className:"admin-login-form",onSubmit:m=>m?.preventDefault(),children:[H.jsx("label",{htmlFor:"username",children:"Username"}),H.jsx("input",{id:"username",type:"text",placeholder:"Enter username",value:a,onChange:m=>t(m.target.value),autoComplete:"username"}),H.jsx("label",{htmlFor:"password",children:"Password"}),H.jsx("input",{id:"password",type:"password",placeholder:"Enter password",value:r,onChange:m=>l(m.target.value),autoComplete:"current-password"}),H.jsx("button",{type:"submit",className:"login-btn",onClick:h,children:"Login"})]}),H.jsx("div",{className:"alternative-login",children:H.jsxs("p",{children:["Not admin?"," ",H.jsx(sm,{to:"/",className:"user-dashboard-link",children:"Go to User Dashboard"})]})})]})};function WD(){return H.jsx(hS,{children:H.jsxs(qA,{children:[H.jsx(cc,{path:"/",element:H.jsx($D,{})}),H.jsx(cc,{path:"/login",element:H.jsx(JD,{})}),H.jsx(cc,{path:"/admin",element:H.jsx(XD,{})})]})})}J1.createRoot(document.getElementById("root")).render(H.jsx(F1.StrictMode,{children:H.jsx(WD,{})}));
